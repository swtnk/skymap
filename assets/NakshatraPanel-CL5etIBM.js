import{r as e,j as s}from"./react-vendor-C1GrfEZv.js";import{c as t,a as n,g as r,b as o}from"./index-C-h1YMLl.js";import"./map-vendor-CHlrju8F.js";import"./ui-vendor-CjcnmcMN.js";import"./routing-vendor-G-wN6Vug.js";import"./three-vendor-Qe0Rsjzz.js";import"./pdf-vendor-CkrsEDIA.js";function i({planets:i,date:l,location:a,showNakshatra:c,showSunMoon:d,calculateSunriseSunset:x,calculateMoonriseMoonset:m,onClose:h}){const[u,p]=e.useState(()=>window.innerWidth<768?{x:8,y:window.innerHeight-200}:{x:window.innerWidth-304,y:72}),[g,f]=e.useState(!1),[j,b]=e.useState({x:0,y:0}),[v,w]=e.useState(!1),N=e.useRef(null),k=e.useMemo(()=>{if(!d)return null;const e=x(l,a.latitude,a.longitude),s=t(l),o=n(l);return{sunTimes:e,moonTimes:m(l,a.latitude,a.longitude,o),sunRashi:r(s.eclipticLongitude,l),moonRashi:r(o.eclipticLongitude,l)}},[l,a.latitude,a.longitude,d,x,m]);if(e.useEffect(()=>{const e=e=>{var s,t;if(g){const n=e.clientX-j.x,r=e.clientY-j.y,o=window.innerWidth-((null==(s=N.current)?void 0:s.offsetWidth)||288),i=window.innerHeight-((null==(t=N.current)?void 0:t.offsetHeight)||200);p({x:Math.max(0,Math.min(n,o)),y:Math.max(0,Math.min(r,i))})}},s=e=>{var s,t;if(g&&1===e.touches.length){const n=e.touches[0],r=n.clientX-j.x,o=n.clientY-j.y,i=window.innerWidth-((null==(s=N.current)?void 0:s.offsetWidth)||288),l=window.innerHeight-((null==(t=N.current)?void 0:t.offsetHeight)||200);p({x:Math.max(0,Math.min(r,i)),y:Math.max(0,Math.min(o,l))}),e.preventDefault()}},t=()=>{f(!1)},n=()=>{f(!1)};return g&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",t),document.addEventListener("touchmove",s,{passive:!1}),document.addEventListener("touchend",n)),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t),document.removeEventListener("touchmove",s),document.removeEventListener("touchend",n)}},[g,j]),!c&&!d)return null;return s.jsx("div",{ref:N,className:"fixed z-[99997] w-72 sm:w-72 max-w-[calc(100vw-16px)]",style:{left:`${u.x}px`,top:`${u.y}px`,cursor:g?"grabbing":"default"},children:s.jsxs("div",{className:"bg-black/30 backdrop-blur-xl border border-white/20 rounded-lg shadow-2xl overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-white/20 bg-white/5 flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 cursor-grab active:cursor-grabbing",onMouseDown:e=>{if(N.current){const s=N.current.getBoundingClientRect();b({x:e.clientX-s.left,y:e.clientY-s.top}),f(!0)}},onTouchStart:e=>{if(N.current&&1===e.touches.length){const s=e.touches[0],t=N.current.getBoundingClientRect();b({x:s.clientX-t.left,y:s.clientY-t.top}),f(!0)}},children:[s.jsxs("h3",{className:"font-orbitron text-sm font-semibold text-white flex items-center gap-2",children:[c&&d&&s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),"Celestial Info"]}),c&&!d&&s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),"Planetary Nakshatras"]}),!c&&d&&s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),"Sun & Moon Times"]})]}),s.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[l.toLocaleDateString()," ",l.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>w(!v),className:"flex-shrink-0 p-1.5 hover:bg-white/10 rounded transition-colors text-gray-400 hover:text-white flex items-center justify-center",title:v?"Expand":"Minimize",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v?s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"}):s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),h&&s.jsx("button",{onClick:h,className:"flex-shrink-0 p-1.5 hover:bg-white/10 rounded transition-colors text-gray-400 hover:text-white flex items-center justify-center",title:"Close",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),!v&&s.jsxs("div",{className:"overflow-y-auto",style:{maxHeight:"calc(100vh - 160px)"},children:[c&&s.jsxs("div",{className:"p-3 space-y-2",children:[s.jsxs("h4",{className:"text-xs font-semibold text-amber-400/80 uppercase tracking-wider mb-2 flex items-center gap-1",children:[s.jsx("span",{className:"text-amber-400",children:"‚òÖ"})," Nakshatras"]}),i.map(e=>{const t=o(e.ra,e.dec,e.eclipticLongitude,l);return s.jsxs("div",{className:"flex items-center justify-between p-2.5 rounded-md bg-black/20 hover:bg-black/30 transition-colors border border-white/10",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full shadow-lg",style:{backgroundColor:e.color,boxShadow:`0 0 8px ${e.color}`}}),s.jsx("span",{className:"text-sm font-medium text-white",children:e.name})]}),s.jsx("span",{className:"text-xs font-mono text-amber-400 uppercase tracking-wider",children:t})]},e.name)})]}),c&&d&&s.jsx("div",{className:"border-t border-white/20 mx-3"}),d&&k&&s.jsxs("div",{className:"p-3 space-y-3",children:[s.jsxs("h4",{className:"text-xs font-semibold text-yellow-400/80 uppercase tracking-wider mb-2 flex items-center gap-1",children:[s.jsx("span",{className:"text-yellow-400",children:"‚òº"})," Sun & Moon"]}),s.jsxs("div",{className:"space-y-2 p-2.5 rounded-md bg-black/20 border border-white/10",children:[s.jsxs("h5",{className:"text-xs font-semibold text-orange-400 flex items-center gap-1",children:[s.jsx("span",{children:"‚òÄÔ∏è"})," Sun"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-400 text-[10px]",children:"Sunrise"}),s.jsx("span",{className:"font-mono font-semibold text-yellow-400",children:k.sunTimes.sunrise})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-400 text-[10px]",children:"Sunset"}),s.jsx("span",{className:"font-mono font-semibold text-orange-400",children:k.sunTimes.sunset})]})]})]}),s.jsxs("div",{className:"space-y-2 p-2.5 rounded-md bg-black/20 border border-white/10",children:[s.jsxs("h5",{className:"text-xs font-semibold text-blue-300 flex items-center gap-1",children:[s.jsx("span",{children:"üåô"})," Moon"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-400 text-[10px]",children:"Moonrise"}),s.jsx("span",{className:"font-mono font-semibold text-blue-300",children:k.moonTimes.moonrise})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-400 text-[10px]",children:"Moonset"}),s.jsx("span",{className:"font-mono font-semibold text-blue-400",children:k.moonTimes.moonset})]})]})]}),s.jsxs("div",{className:"space-y-3 p-3 rounded-md bg-gradient-to-br from-purple-900/30 to-indigo-900/30 border border-purple-400/30",children:[s.jsxs("h5",{className:"text-xs font-semibold text-purple-300 flex items-center gap-1.5",children:[s.jsx("span",{children:"üåü"})," Birth Rashi"]}),s.jsx("p",{className:"text-gray-300 text-[11px] -mt-1",children:"If born at this time:"}),s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsxs("div",{className:"flex flex-col gap-1 p-2.5 rounded bg-black/20 border border-yellow-400/20",children:[s.jsx("span",{className:"text-gray-300 text-[10px] font-medium",children:"‚òÄÔ∏è Sun Sign"}),s.jsx("span",{className:"font-bold text-yellow-300 text-sm tracking-wide break-words",children:k.sunRashi})]}),s.jsxs("div",{className:"flex flex-col gap-1 p-2.5 rounded bg-black/20 border border-purple-400/20",children:[s.jsx("span",{className:"text-gray-300 text-[10px] font-medium",children:"üåô Moon Sign"}),s.jsx("span",{className:"font-bold text-purple-300 text-sm tracking-wide break-words",children:k.moonRashi})]})]})]})]})]})]})})}export{i as NakshatraPanel};
