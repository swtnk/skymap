const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./MapPicker-D_hQMqRh.js","./react-vendor-OEMN43JN.js","./map-vendor-scx2wcTa.js","./map-vendor-Dgihpmma.css","./ui-vendor-Bo0zONUq.js","./NakshatraPanel-DuTdcstu.js","./routing-vendor-BoMlvbZZ.js","./pdf-vendor-ChITbXoE.js","./three-vendor-zuKUc3eU.js","./ExportDialog-CH_L0T0f.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,a=(a,t,n)=>((a,t,n)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n)(a,"symbol"!=typeof t?t+"":t,n);import{r as t,j as n,d as s,u as r,H as o,h as i,i as l,b as c}from"./react-vendor-OEMN43JN.js";import{A as d,T as m,a as u,b as h,B as p,S as x,C as g,c as f,d as y,e as b,f as w,g as M,h as j,I as A,R as C,i as S,L as T,j as N,k as v,l as k,m as P,n as L,o as z,M as E,E as B,p as F,q as H,G as D,N as G,r as R,s as O,t as I,D as K,H as $,V,u as U,v as W,w as _,x as Y}from"./ui-vendor-Bo0zONUq.js";import{Q as q,a as X}from"./routing-vendor-BoMlvbZZ.js";import{_ as Z}from"./pdf-vendor-ChITbXoE.js";import{B as J,a as Q,P as ee,A as ae,C as te,b as ne,S as se,M as re,c as oe,d as ie,T as le,R as ce,u as de,H as me,V as ue,L as he,e as pe,f as xe,g as ge,h as fe,O as ye,i as be,j as we}from"./three-vendor-zuKUc3eU.js";import"./map-vendor-scx2wcTa.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)}).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();class Me extends t.Component{constructor(e){super(e),a(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})}),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,a){this.setState({error:e,errorInfo:a}),this.props.onError&&this.props.onError(e,a)}render(){var e;return this.state.hasError?this.props.fallback?this.props.fallback:n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:n.jsxs("div",{className:"max-w-md w-full space-y-4",children:[n.jsxs(d,{variant:"destructive",children:[n.jsx(m,{className:"h-4 w-4"}),n.jsx(u,{children:"Something went wrong"}),n.jsx(h,{children:(null==(e=this.state.error)?void 0:e.message)||"An unexpected error occurred"})]}),!1,n.jsxs("div",{className:"flex gap-2",children:[n.jsx(p,{onClick:this.handleReset,className:"flex-1",children:"Try Again"}),n.jsx(p,{variant:"outline",onClick:()=>globalThis.location.reload(),className:"flex-1",children:"Reload Page"})]})]})}):this.props.children}}const je=[{name:"Dubhe",ra:11.062,dec:61.75,magnitude:1.79,spectralType:"K",constellation:"Ursa Major"},{name:"Merak",ra:11.031,dec:56.38,magnitude:2.37,spectralType:"A",constellation:"Ursa Major"},{name:"Phecda",ra:11.897,dec:53.69,magnitude:2.44,spectralType:"A",constellation:"Ursa Major"},{name:"Megrez",ra:12.257,dec:57.03,magnitude:3.31,spectralType:"A",constellation:"Ursa Major"},{name:"Alioth",ra:12.9,dec:55.96,magnitude:1.77,spectralType:"A",constellation:"Ursa Major"},{name:"Mizar",ra:13.399,dec:54.93,magnitude:2.27,spectralType:"A",constellation:"Ursa Major"},{name:"Alkaid",ra:13.792,dec:49.31,magnitude:1.86,spectralType:"B",constellation:"Ursa Major"},{name:"Muscida",ra:10.298,dec:60.72,magnitude:3.35,spectralType:"G",constellation:"Ursa Major"},{name:"Talitha",ra:10.296,dec:55.01,magnitude:3.13,spectralType:"A",constellation:"Ursa Major"},{name:"Betelgeuse",ra:5.919,dec:7.41,magnitude:.42,spectralType:"M",constellation:"Orion"},{name:"Rigel",ra:5.242,dec:-8.2,magnitude:.13,spectralType:"B",constellation:"Orion"},{name:"Bellatrix",ra:5.419,dec:6.35,magnitude:1.64,spectralType:"B",constellation:"Orion"},{name:"Mintaka",ra:5.533,dec:-.3,magnitude:2.23,spectralType:"O",constellation:"Orion"},{name:"Alnilam",ra:5.603,dec:-1.2,magnitude:1.7,spectralType:"B",constellation:"Orion"},{name:"Alnitak",ra:5.679,dec:-1.94,magnitude:1.77,spectralType:"O",constellation:"Orion"},{name:"Saiph",ra:5.796,dec:-9.67,magnitude:2.09,spectralType:"B",constellation:"Orion"},{name:"Nair Al Saif",ra:5.489,dec:-6.84,magnitude:4.43,spectralType:"B",constellation:"Orion"},{name:"Hatysa",ra:5.276,dec:9.27,magnitude:4.97,spectralType:"B",constellation:"Orion"},{name:"Antares",ra:16.49,dec:-26.43,magnitude:.96,spectralType:"M",constellation:"Scorpius",nakshatra:"Jyeshtha"},{name:"Shaula",ra:17.56,dec:-37.1,magnitude:1.63,spectralType:"B",constellation:"Scorpius"},{name:"Sargas",ra:17.622,dec:-42.99,magnitude:1.87,spectralType:"F",constellation:"Scorpius"},{name:"Dschubba",ra:16.005,dec:-22.62,magnitude:2.32,spectralType:"B",constellation:"Scorpius"},{name:"Alniyat",ra:16.217,dec:-19.27,magnitude:3.56,spectralType:"B",constellation:"Scorpius"},{name:"Girtab",ra:17.601,dec:-42.36,magnitude:5.23,spectralType:"B",constellation:"Scorpius"},{name:"Regulus",ra:10.14,dec:11.97,magnitude:1.35,spectralType:"B",constellation:"Leo",nakshatra:"Magha"},{name:"Denebola",ra:11.818,dec:14.57,magnitude:2.14,spectralType:"A",constellation:"Leo",nakshatra:"Uttara Phalguni"},{name:"Algieba",ra:10.333,dec:19.84,magnitude:2.08,spectralType:"K",constellation:"Leo"},{name:"Zosma",ra:11.235,dec:20.52,magnitude:2.56,spectralType:"A",constellation:"Leo"},{name:"Adhafera",ra:10.128,dec:16.77,magnitude:3.44,spectralType:"F",constellation:"Leo"},{name:"Chertan",ra:11.236,dec:14.57,magnitude:3.17,spectralType:"A",constellation:"Leo"},{name:"Deneb",ra:20.691,dec:45.28,magnitude:1.25,spectralType:"A",constellation:"Cygnus"},{name:"Sadr",ra:20.371,dec:40.26,magnitude:2.2,spectralType:"F",constellation:"Cygnus"},{name:"Gienah Cygni",ra:20.77,dec:33.97,magnitude:2.46,spectralType:"K",constellation:"Cygnus"},{name:"Albireo",ra:19.512,dec:27.96,magnitude:3.08,spectralType:"K",constellation:"Cygnus"},{name:"Nodus Secundus Cygni",ra:20.37,dec:40.26,magnitude:4.23,spectralType:"F",constellation:"Cygnus"},{name:"Vega",ra:18.616,dec:38.78,magnitude:.03,spectralType:"A",constellation:"Lyra"},{name:"Sheliak",ra:18.835,dec:33.36,magnitude:3.45,spectralType:"A",constellation:"Lyra"},{name:"Sulafat",ra:18.982,dec:32.69,magnitude:3.24,spectralType:"B",constellation:"Lyra"},{name:"Epsilon Lyrae",ra:18.74,dec:39.64,magnitude:4.68,spectralType:"A",constellation:"Lyra"},{name:"Altair",ra:19.846,dec:8.87,magnitude:.77,spectralType:"A",constellation:"Aquila",nakshatra:"Shravana"},{name:"Tarazed",ra:19.771,dec:10.61,magnitude:2.72,spectralType:"K",constellation:"Aquila"},{name:"Alshain",ra:19.922,dec:6.41,magnitude:3.71,spectralType:"G",constellation:"Aquila"},{name:"Schedar",ra:.675,dec:56.54,magnitude:2.23,spectralType:"K",constellation:"Cassiopeia"},{name:"Caph",ra:.153,dec:59.15,magnitude:2.27,spectralType:"F",constellation:"Cassiopeia"},{name:"Navi",ra:.945,dec:60.72,magnitude:2.47,spectralType:"B",constellation:"Cassiopeia"},{name:"Ruchbah",ra:1.43,dec:60.24,magnitude:2.68,spectralType:"A",constellation:"Cassiopeia"},{name:"Segin",ra:1.907,dec:63.67,magnitude:3.38,spectralType:"B",constellation:"Cassiopeia"},{name:"Achird",ra:.203,dec:57.81,magnitude:3.32,spectralType:"F",constellation:"Cassiopeia"},{name:"Aldebaran",ra:4.599,dec:16.51,magnitude:.85,spectralType:"K",constellation:"Taurus",nakshatra:"Rohini"},{name:"Elnath",ra:5.438,dec:28.61,magnitude:1.65,spectralType:"B",constellation:"Taurus"},{name:"Alcyone",ra:3.791,dec:24.1,magnitude:2.87,spectralType:"B",constellation:"Taurus"},{name:"Atlas",ra:3.797,dec:24.03,magnitude:3.63,spectralType:"B",constellation:"Taurus"},{name:"Electra",ra:3.791,dec:24.11,magnitude:3.72,spectralType:"B",constellation:"Taurus"},{name:"Maia",ra:3.763,dec:24.37,magnitude:3.87,spectralType:"B",constellation:"Taurus"},{name:"Merope",ra:3.756,dec:23.97,magnitude:4.17,spectralType:"B",constellation:"Taurus"},{name:"Pleione",ra:3.795,dec:24.14,magnitude:4.86,spectralType:"B",constellation:"Taurus"},{name:"Tiān Guān",ra:4.213,dec:15.63,magnitude:4.96,spectralType:"F",constellation:"Taurus"},{name:"Pollux",ra:7.755,dec:28.03,magnitude:1.14,spectralType:"K",constellation:"Gemini",nakshatra:"Punarvasu"},{name:"Castor",ra:7.577,dec:31.89,magnitude:1.58,spectralType:"A",constellation:"Gemini"},{name:"Alhena",ra:6.629,dec:16.4,magnitude:1.93,spectralType:"A",constellation:"Gemini"},{name:"Mebsuta",ra:6.732,dec:25.13,magnitude:2.98,spectralType:"G",constellation:"Gemini"},{name:"Wasat",ra:6.372,dec:22.51,magnitude:3.55,spectralType:"F",constellation:"Gemini"},{name:"Propus",ra:7.598,dec:26.13,magnitude:3.98,spectralType:"K",constellation:"Gemini"},{name:"Sirius",ra:6.752,dec:-16.72,magnitude:-1.46,spectralType:"A",constellation:"Canis Major"},{name:"Adhara",ra:6.977,dec:-28.97,magnitude:1.5,spectralType:"B",constellation:"Canis Major"},{name:"Wezen",ra:7.14,dec:-26.39,magnitude:1.84,spectralType:"F",constellation:"Canis Major"},{name:"Mirzam",ra:6.378,dec:-17.96,magnitude:1.98,spectralType:"B",constellation:"Canis Major"},{name:"Aludra",ra:7.401,dec:-29.3,magnitude:2.45,spectralType:"B",constellation:"Canis Major"},{name:"Furud",ra:7.077,dec:-27.94,magnitude:3.02,spectralType:"A",constellation:"Canis Major"},{name:"Isis",ra:6.361,dec:-16.39,magnitude:3.93,spectralType:"K",constellation:"Canis Major"},{name:"Procyon",ra:7.655,dec:5.23,magnitude:.34,spectralType:"F",constellation:"Canis Minor"},{name:"Gomeisa",ra:7.452,dec:8.29,magnitude:2.9,spectralType:"B",constellation:"Canis Minor"},{name:"Spica",ra:13.42,dec:-11.16,magnitude:.97,spectralType:"B",constellation:"Virgo",nakshatra:"Chitra"},{name:"Porrima",ra:12.695,dec:-1.45,magnitude:2.74,spectralType:"F",constellation:"Virgo"},{name:"Vindemiatrix",ra:13.037,dec:10.96,magnitude:2.83,spectralType:"G",constellation:"Virgo"},{name:"Heze",ra:13.455,dec:-6.06,magnitude:3.41,spectralType:"A",constellation:"Virgo"},{name:"Zaniah",ra:12.893,dec:-6.43,magnitude:3.89,spectralType:"A",constellation:"Virgo"},{name:"Arcturus",ra:14.261,dec:19.18,magnitude:-.05,spectralType:"K",constellation:"Boötes",nakshatra:"Swati"},{name:"Izar",ra:14.75,dec:27.07,magnitude:2.37,spectralType:"K",constellation:"Boötes"},{name:"Muphrid",ra:13.912,dec:18.4,magnitude:2.68,spectralType:"G",constellation:"Boötes"},{name:"Seginus",ra:15.031,dec:40.39,magnitude:3.03,spectralType:"A",constellation:"Boötes"},{name:"Alkalurops",ra:14.53,dec:13.73,magnitude:4.16,spectralType:"A",constellation:"Boötes"},{name:"Alpha Centauri",ra:14.66,dec:-60.84,magnitude:-.27,spectralType:"G",constellation:"Centaurus"},{name:"Hadar",ra:14.064,dec:-60.37,magnitude:.61,spectralType:"B",constellation:"Centaurus"},{name:"Menkent",ra:14.111,dec:-36.37,magnitude:2.06,spectralType:"K",constellation:"Centaurus"},{name:"Acrux",ra:12.443,dec:-63.1,magnitude:.76,spectralType:"B",constellation:"Crux"},{name:"Mimosa",ra:12.795,dec:-59.69,magnitude:1.25,spectralType:"B",constellation:"Crux"},{name:"Gacrux",ra:12.519,dec:-57.11,magnitude:1.64,spectralType:"M",constellation:"Crux"},{name:"Polaris",ra:2.53,dec:89.26,magnitude:1.98,spectralType:"F",constellation:"Ursa Minor"},{name:"Kochab",ra:14.845,dec:74.16,magnitude:2.08,spectralType:"K",constellation:"Ursa Minor"},{name:"Pherkad",ra:15.346,dec:71.83,magnitude:3,spectralType:"A",constellation:"Ursa Minor"},{name:"Yildun",ra:16.29,dec:75.76,magnitude:4.36,spectralType:"A",constellation:"Ursa Minor"},{name:"Alpheratz",ra:.14,dec:29.09,magnitude:2.06,spectralType:"B",constellation:"Andromeda"},{name:"Mirach",ra:1.162,dec:35.62,magnitude:2.06,spectralType:"M",constellation:"Andromeda"},{name:"Almach",ra:2.065,dec:42.33,magnitude:2.1,spectralType:"K",constellation:"Andromeda"},{name:"Delta Andromedae",ra:.651,dec:30.86,magnitude:3.28,spectralType:"K",constellation:"Andromeda"},{name:"Markab",ra:23.079,dec:15.21,magnitude:2.49,spectralType:"B",constellation:"Pegasus"},{name:"Scheat",ra:23.063,dec:28.08,magnitude:2.42,spectralType:"M",constellation:"Pegasus"},{name:"Algenib",ra:.22,dec:15.18,magnitude:2.83,spectralType:"B",constellation:"Pegasus"},{name:"Enif",ra:21.736,dec:9.87,magnitude:2.39,spectralType:"K",constellation:"Pegasus"},{name:"Theta Pegasi",ra:21.725,dec:12.12,magnitude:2.95,spectralType:"B",constellation:"Pegasus"},{name:"Eta Piscium",ra:1.525,dec:15.35,magnitude:3.62,spectralType:"G",constellation:"Pisces"},{name:"Alrescha",ra:2.034,dec:2.76,magnitude:3.82,spectralType:"A",constellation:"Pisces"},{name:"Fum al Samakah",ra:1.143,dec:5.49,magnitude:4.46,spectralType:"B",constellation:"Pisces"},{name:"Hamal",ra:2.12,dec:23.46,magnitude:2,spectralType:"K",constellation:"Aries"},{name:"Sheratan",ra:1.911,dec:20.81,magnitude:2.64,spectralType:"A",constellation:"Aries"},{name:"Mesarthim",ra:2.118,dec:23.48,magnitude:3.87,spectralType:"B",constellation:"Aries"},{name:"Kaus Australis",ra:18.403,dec:-34.38,magnitude:1.85,spectralType:"B",constellation:"Sagittarius"},{name:"Nunki",ra:18.921,dec:-26.3,magnitude:2.02,spectralType:"B",constellation:"Sagittarius"},{name:"Ascella",ra:19.044,dec:-29.88,magnitude:2.59,spectralType:"A",constellation:"Sagittarius"},{name:"Kaus Media",ra:18.35,dec:-29.83,magnitude:2.7,spectralType:"K",constellation:"Sagittarius"},{name:"Kaus Borealis",ra:18.466,dec:-25.42,magnitude:2.81,spectralType:"K",constellation:"Sagittarius"},{name:"Albaldah",ra:19.223,dec:-27.67,magnitude:3.27,spectralType:"F",constellation:"Sagittarius"},{name:"Deneb Algedi",ra:21.784,dec:-16.13,magnitude:2.81,spectralType:"A",constellation:"Capricornus"},{name:"Dabih",ra:20.35,dec:-14.78,magnitude:3.08,spectralType:"K",constellation:"Capricornus"},{name:"Nashira",ra:21.681,dec:-16.65,magnitude:3.68,spectralType:"A",constellation:"Capricornus"},{name:"Sadalsuud",ra:21.526,dec:-5.57,magnitude:2.91,spectralType:"G",constellation:"Aquarius"},{name:"Sadalmelik",ra:22.096,dec:-.32,magnitude:2.96,spectralType:"G",constellation:"Aquarius"},{name:"Sadaltager",ra:22.362,dec:-8.98,magnitude:3.27,spectralType:"A",constellation:"Aquarius"},{name:"Zubeneschamali",ra:15.283,dec:-9.38,magnitude:2.61,spectralType:"B",constellation:"Libra"},{name:"Zubenelgenubi",ra:14.848,dec:-16.04,magnitude:2.75,spectralType:"A",constellation:"Libra"},{name:"Zuben Elakrab",ra:15.592,dec:-9.38,magnitude:4.76,spectralType:"K",constellation:"Libra"},{name:"Acubens",ra:8.975,dec:11.86,magnitude:4.25,spectralType:"A",constellation:"Cancer"},{name:"Altarf",ra:8.275,dec:9.19,magnitude:3.53,spectralType:"K",constellation:"Cancer"},{name:"Fomalhaut",ra:22.961,dec:-29.62,magnitude:1.16,spectralType:"A",constellation:"Piscis Austrinus"},{name:"Capella",ra:5.278,dec:45.99,magnitude:.08,spectralType:"G",constellation:"Auriga"},{name:"Menkalinan",ra:5.993,dec:44.95,magnitude:1.9,spectralType:"A",constellation:"Auriga"},{name:"Algol",ra:3.138,dec:40.96,magnitude:2.1,spectralType:"B",constellation:"Perseus"},{name:"Mirfak",ra:3.405,dec:49.86,magnitude:1.79,spectralType:"F",constellation:"Perseus"},{name:"Almaaz",ra:5.252,dec:43.19,magnitude:2.6,spectralType:"G",constellation:"Auriga"},{name:"Muliphein",ra:6.641,dec:-27.04,magnitude:4.33,spectralType:"G",constellation:"Canis Major"},{name:"Achernar",ra:1.628,dec:-57.24,magnitude:.46,spectralType:"B",constellation:"Eridanus"},{name:"Cursa",ra:1.629,dec:-8.9,magnitude:2.76,spectralType:"A",constellation:"Eridanus"},{name:"Alphard",ra:9.273,dec:-8.66,magnitude:1.99,spectralType:"K",constellation:"Hydra"},{name:"Eltanin",ra:17.944,dec:51.49,magnitude:2.24,spectralType:"K",constellation:"Draco"},{name:"Rastaban",ra:17.656,dec:52.71,magnitude:2.79,spectralType:"G",constellation:"Draco"},{name:"Nodus Secundus Draconis",ra:19.207,dec:67.66,magnitude:4.84,spectralType:"K",constellation:"Draco"},{name:"Alderamin",ra:21.315,dec:62.59,magnitude:2.44,spectralType:"A",constellation:"Cepheus"},{name:"Alfirk",ra:21.449,dec:62.59,magnitude:3.21,spectralType:"B",constellation:"Cepheus"},{name:"Deneb Kaitos",ra:.727,dec:-17.99,magnitude:2.04,spectralType:"K",constellation:"Cetus"},{name:"Menkar",ra:3.048,dec:4.09,magnitude:2.54,spectralType:"M",constellation:"Cetus"},{name:"Ras Alhague",ra:17.483,dec:12.56,magnitude:2.08,spectralType:"A",constellation:"Ophiuchus"},{name:"Sabik",ra:17.173,dec:-15.73,magnitude:2.43,spectralType:"A",constellation:"Ophiuchus"},{name:"Unukalhai",ra:15.743,dec:6.43,magnitude:2.65,spectralType:"K",constellation:"Serpens"},{name:"Ras Algethi",ra:17.246,dec:14.39,magnitude:3.48,spectralType:"M",constellation:"Hercules"},{name:"Kornephoros",ra:16.688,dec:31.6,magnitude:2.81,spectralType:"G",constellation:"Hercules"},{name:"Arneb",ra:5.544,dec:-17.82,magnitude:2.58,spectralType:"F",constellation:"Lepus"},{name:"Nihal",ra:5.128,dec:-20.76,magnitude:2.81,spectralType:"G",constellation:"Lepus"},{name:"Beta Monocerotis",ra:6.401,dec:9.55,magnitude:3.93,spectralType:"K",constellation:"Monoceros"},{name:"Alphecca",ra:15.857,dec:26.71,magnitude:2.24,spectralType:"A",constellation:"Corona Borealis"},{name:"Gienah Corvus",ra:12.262,dec:-17.54,magnitude:2.59,spectralType:"B",constellation:"Corvus"},{name:"Kraz",ra:12.566,dec:-16.19,magnitude:2.65,spectralType:"B",constellation:"Corvus"},{name:"Naos",ra:8.066,dec:-40,magnitude:2.25,spectralType:"O",constellation:"Puppis"},{name:"Ahchita",ra:7.62,dec:-43.3,magnitude:2.71,spectralType:"K",constellation:"Puppis"},{name:"Gamma Velorum",ra:8.961,dec:-47.37,magnitude:1.83,spectralType:"O",constellation:"Vela"},{name:"Delta Velorum",ra:8.746,dec:-54.71,magnitude:1.93,spectralType:"A",constellation:"Vela"},{name:"Phact",ra:5.92,dec:-35.77,magnitude:2.64,spectralType:"B",constellation:"Columba"},{name:"Alpha Tucanae",ra:22.301,dec:-60.26,magnitude:2.86,spectralType:"K",constellation:"Tucana"},{name:"Peacock",ra:20.427,dec:-56.74,magnitude:1.94,spectralType:"B",constellation:"Pavo"},{name:"Alpha Indi",ra:20.638,dec:-47.29,magnitude:3.11,spectralType:"K",constellation:"Indus"},{name:"Alpha Lupi",ra:14.984,dec:-47.39,magnitude:2.3,spectralType:"B",constellation:"Lupus"},{name:"Gamma Normae",ra:16.2,dec:-50.15,magnitude:4.02,spectralType:"B",constellation:"Norma"},{name:"Alpha Arae",ra:17.531,dec:-49.88,magnitude:2.95,spectralType:"B",constellation:"Ara"},{name:"Beta Arae",ra:17.421,dec:-55.53,magnitude:2.85,spectralType:"K",constellation:"Ara"},{name:"Beta Trianguli",ra:2.158,dec:34.99,magnitude:3,spectralType:"A",constellation:"Triangulum"},{name:"Alpha Trianguli",ra:1.885,dec:29.58,magnitude:3.41,spectralType:"F",constellation:"Triangulum"},{name:"Gamma Trianguli",ra:2.289,dec:33.85,magnitude:4.01,spectralType:"A",constellation:"Triangulum"},{name:"Rotanev",ra:20.625,dec:14.6,magnitude:3.63,spectralType:"F",constellation:"Delphinus"},{name:"Sualocin",ra:20.66,dec:15.91,magnitude:3.77,spectralType:"B",constellation:"Delphinus"},{name:"Gamma Sagittae",ra:19.979,dec:19.49,magnitude:3.47,spectralType:"K",constellation:"Sagitta"},{name:"Delta Sagittae",ra:19.781,dec:18.53,magnitude:3.68,spectralType:"M",constellation:"Sagitta"},{name:"Alpha Vulpeculae",ra:19.479,dec:24.66,magnitude:4.44,spectralType:"M",constellation:"Vulpecula"},{name:"Kitalpha",ra:21.263,dec:10.13,magnitude:3.92,spectralType:"G",constellation:"Equuleus"},{name:"Alpha Lacertae",ra:22.521,dec:50.28,magnitude:3.77,spectralType:"A",constellation:"Lacerta"},{name:"Cor Caroli",ra:12.934,dec:38.32,magnitude:2.9,spectralType:"A",constellation:"Canes Venatici"},{name:"Chara",ra:12.563,dec:41.36,magnitude:4.24,spectralType:"G",constellation:"Canes Venatici"},{name:"Beta Comae Berenices",ra:13.197,dec:27.88,magnitude:4.26,spectralType:"G",constellation:"Coma Berenices"},{name:"Alpha Comae Berenices",ra:13.167,dec:17.53,magnitude:4.32,spectralType:"F",constellation:"Coma Berenices"},{name:"Alpha Coronae Australis",ra:19.158,dec:-37.9,magnitude:4.11,spectralType:"A",constellation:"Corona Australis"},{name:"Beta Coronae Australis",ra:19.167,dec:-39.34,magnitude:4.11,spectralType:"K",constellation:"Corona Australis"},{name:"Delta Crateris",ra:11.322,dec:-14.78,magnitude:3.56,spectralType:"K",constellation:"Crater"},{name:"Alpha Crateris",ra:10.996,dec:-18.3,magnitude:4.08,spectralType:"K",constellation:"Crater"},{name:"Alpha Sextantis",ra:10.132,dec:-.37,magnitude:4.49,spectralType:"A",constellation:"Sextans"},{name:"Praecipua",ra:10.887,dec:34.21,magnitude:3.83,spectralType:"G",constellation:"Leo Minor"},{name:"Beta Leonis Minoris",ra:10.465,dec:36.71,magnitude:4.21,spectralType:"G",constellation:"Leo Minor"},{name:"Alpha Lyncis",ra:9.35,dec:34.39,magnitude:3.13,spectralType:"K",constellation:"Lynx"},{name:"Beta Camelopardalis",ra:5.057,dec:60.44,magnitude:4.03,spectralType:"G",constellation:"Camelopardalis"},{name:"Alpha Sculptoris",ra:.976,dec:-29.36,magnitude:4.3,spectralType:"B",constellation:"Sculptor"},{name:"Alpha Fornacis",ra:3.201,dec:-28.99,magnitude:3.87,spectralType:"F",constellation:"Fornax"},{name:"Alpha Caeli",ra:4.676,dec:-41.86,magnitude:4.45,spectralType:"F",constellation:"Caelum"},{name:"Alpha Horologii",ra:4.233,dec:-42.29,magnitude:3.86,spectralType:"K",constellation:"Horologium"},{name:"Alpha Doradus",ra:4.567,dec:-55.04,magnitude:3.27,spectralType:"A",constellation:"Dorado"},{name:"Beta Doradus",ra:5.56,dec:-62.49,magnitude:3.46,spectralType:"F",constellation:"Dorado"},{name:"Alpha Pictoris",ra:6.803,dec:-61.94,magnitude:3.27,spectralType:"A",constellation:"Pictor"},{name:"Beta Volantis",ra:8.43,dec:-66.4,magnitude:3.77,spectralType:"K",constellation:"Volans"},{name:"Gamma Volantis",ra:7.144,dec:-70.5,magnitude:3.78,spectralType:"K",constellation:"Volans"},{name:"Canopus",ra:6.399,dec:-52.7,magnitude:-.72,spectralType:"F",constellation:"Carina"},{name:"Miaplacidus",ra:9.22,dec:-69.72,magnitude:1.68,spectralType:"A",constellation:"Carina"},{name:"Avior",ra:8.375,dec:-59.51,magnitude:1.86,spectralType:"K",constellation:"Carina"},{name:"Alpha Chamaeleontis",ra:8.308,dec:-76.92,magnitude:4.07,spectralType:"F",constellation:"Chamaeleon"},{name:"Alpha Apodis",ra:14.798,dec:-79.04,magnitude:3.83,spectralType:"K",constellation:"Apus"},{name:"Alpha Muscae",ra:12.619,dec:-69.14,magnitude:2.69,spectralType:"B",constellation:"Musca"},{name:"Beta Muscae",ra:12.771,dec:-68.11,magnitude:3.05,spectralType:"B",constellation:"Musca"},{name:"Alpha Circini",ra:14.709,dec:-64.97,magnitude:3.19,spectralType:"F",constellation:"Circinus"},{name:"Atria",ra:16.811,dec:-69.03,magnitude:1.92,spectralType:"K",constellation:"Triangulum Australe"},{name:"Beta Trianguli Australis",ra:15.919,dec:-63.43,magnitude:2.85,spectralType:"F",constellation:"Triangulum Australe"},{name:"Gamma Trianguli Australis",ra:15.315,dec:-68.68,magnitude:2.89,spectralType:"A",constellation:"Triangulum Australe"},{name:"Alpha Telescopii",ra:18.45,dec:-45.97,magnitude:3.51,spectralType:"B",constellation:"Telescopium"},{name:"Nu Octantis",ra:21.685,dec:-77.39,magnitude:3.76,spectralType:"K",constellation:"Octans"},{name:"Beta Hydri",ra:.426,dec:-77.25,magnitude:2.8,spectralType:"G",constellation:"Hydrus"},{name:"Alpha Hydri",ra:1.979,dec:-61.57,magnitude:2.86,spectralType:"F",constellation:"Hydrus"},{name:"Alpha Mensae",ra:6.17,dec:-74.75,magnitude:5.09,spectralType:"G",constellation:"Mensa"},{name:"Alpha Reticuli",ra:4.24,dec:-62.47,magnitude:3.35,spectralType:"G",constellation:"Reticulum"},{name:"Alnair",ra:22.137,dec:-46.96,magnitude:1.74,spectralType:"B",constellation:"Grus"},{name:"Beta Gruis",ra:22.711,dec:-46.88,magnitude:2.11,spectralType:"M",constellation:"Grus"},{name:"Ankaa",ra:.438,dec:-42.31,magnitude:2.39,spectralType:"K",constellation:"Phoenix"},{name:"Gamma Microscopii",ra:21.025,dec:-32.26,magnitude:4.67,spectralType:"G",constellation:"Microscopium"},{name:"Alpha Scuti",ra:18.586,dec:-8.24,magnitude:3.85,spectralType:"K",constellation:"Scutum"},{name:"Alpha Antliae",ra:10.452,dec:-31.07,magnitude:4.25,spectralType:"K",constellation:"Antlia"},{name:"Alpha Pyxidis",ra:8.726,dec:-33.19,magnitude:3.68,spectralType:"B",constellation:"Pyxis"}],Ae=[{name:"Ursa Major",starNames:[["Dubhe","Merak"],["Merak","Phecda"],["Phecda","Megrez"],["Megrez","Dubhe"],["Megrez","Alioth"],["Alioth","Mizar"],["Mizar","Alkaid"]]},{name:"Orion",starNames:[["Betelgeuse","Bellatrix"],["Betelgeuse","Mintaka"],["Bellatrix","Mintaka"],["Mintaka","Alnilam"],["Alnilam","Alnitak"],["Alnitak","Saiph"],["Saiph","Rigel"],["Rigel","Mintaka"]]},{name:"Scorpius",starNames:[["Dschubba","Antares"],["Antares","Shaula"],["Shaula","Sargas"]]},{name:"Leo",starNames:[["Regulus","Algieba"],["Algieba","Zosma"],["Zosma","Denebola"],["Denebola","Regulus"]]},{name:"Cygnus",starNames:[["Deneb","Sadr"],["Sadr","Albireo"],["Sadr","Gienah"]]},{name:"Lyra",starNames:[["Vega","Sheliak"],["Sheliak","Sulafat"],["Sulafat","Vega"]]},{name:"Aquila",starNames:[["Altair","Tarazed"],["Altair","Alshain"]]},{name:"Cassiopeia",starNames:[["Caph","Schedar"],["Schedar","Navi"],["Navi","Ruchbah"],["Ruchbah","Segin"]]},{name:"Taurus",starNames:[["Aldebaran","Elnath"],["Aldebaran","Alcyone"]]},{name:"Gemini",starNames:[["Castor","Pollux"],["Pollux","Alhena"],["Castor","Mebsuta"]]},{name:"Canis Major",starNames:[["Sirius","Mirzam"],["Sirius","Adhara"],["Adhara","Wezen"]]},{name:"Canis Minor",starNames:[["Procyon","Gomeisa"]]},{name:"Virgo",starNames:[["Spica","Porrima"],["Porrima","Vindemiatrix"]]},{name:"Boötes",starNames:[["Arcturus","Izar"],["Arcturus","Muphrid"]]},{name:"Crux",starNames:[["Acrux","Gacrux"],["Mimosa","Gacrux"]]},{name:"Ursa Minor",starNames:[["Polaris","Kochab"],["Kochab","Pherkad"]]},{name:"Andromeda",starNames:[["Alpheratz","Mirach"],["Mirach","Almach"]]},{name:"Pegasus",starNames:[["Markab","Scheat"],["Scheat","Alpheratz"],["Alpheratz","Algenib"],["Algenib","Markab"]]},{name:"Sagittarius",starNames:[["Kaus Australis","Kaus Media"],["Kaus Media","Kaus Borealis"],["Kaus Borealis","Nunki"],["Nunki","Ascella"],["Ascella","Kaus Australis"]]},{name:"Aries",starNames:[["Hamal","Sheratan"],["Sheratan","Mesarthim"]]},{name:"Aquarius",starNames:[["Sadalsuud","Sadalmelik"],["Sadalmelik","Sadaltager"]]},{name:"Capricornus",starNames:[["Deneb Algedi","Dabih"],["Dabih","Nashira"]]},{name:"Libra",starNames:[["Zubeneschamali","Zubenelgenubi"],["Zubenelgenubi","Zuben Elakrab"]]},{name:"Cancer",starNames:[["Acubens","Altarf"]]},{name:"Pisces",starNames:[["Eta Piscium","Alrescha"],["Alrescha","Fum al Samakah"]]},{name:"Piscis Austrinus",starNames:[["Fomalhaut","Fomalhaut"]]},{name:"Auriga",starNames:[["Capella","Menkalinan"],["Menkalinan","Almaaz"],["Almaaz","Capella"]]},{name:"Perseus",starNames:[["Mirfak","Algol"]]},{name:"Eridanus",starNames:[["Achernar","Cursa"]]},{name:"Hydra",starNames:[["Alphard","Alphard"]]},{name:"Draco",starNames:[["Eltanin","Rastaban"],["Rastaban","Nodus Secundus Draconis"]]},{name:"Cepheus",starNames:[["Alderamin","Alfirk"]]},{name:"Cetus",starNames:[["Deneb Kaitos","Menkar"]]},{name:"Ophiuchus",starNames:[["Ras Alhague","Sabik"]]},{name:"Serpens",starNames:[["Unukalhai","Unukalhai"]]},{name:"Hercules",starNames:[["Ras Algethi","Kornephoros"]]},{name:"Lepus",starNames:[["Arneb","Nihal"]]},{name:"Corona Borealis",starNames:[["Alphecca","Alphecca"]]},{name:"Corvus",starNames:[["Gienah Corvus","Kraz"]]},{name:"Puppis",starNames:[["Naos","Ahchita"]]},{name:"Vela",starNames:[["Gamma Velorum","Delta Velorum"]]},{name:"Columba",starNames:[["Phact","Phact"]]},{name:"Centaurus",starNames:[["Alpha Centauri","Hadar"],["Hadar","Menkent"]]},{name:"Tucana",starNames:[["Alpha Tucanae","Alpha Tucanae"]]},{name:"Pavo",starNames:[["Peacock","Peacock"]]},{name:"Indus",starNames:[["Alpha Indi","Alpha Indi"]]},{name:"Lupus",starNames:[["Alpha Lupi","Alpha Lupi"]]},{name:"Norma",starNames:[["Gamma Normae","Gamma Normae"]]},{name:"Ara",starNames:[["Alpha Arae","Beta Arae"]]},{name:"Triangulum",starNames:[["Beta Trianguli","Alpha Trianguli"],["Alpha Trianguli","Gamma Trianguli"],["Gamma Trianguli","Beta Trianguli"]]},{name:"Delphinus",starNames:[["Rotanev","Sualocin"]]},{name:"Sagitta",starNames:[["Gamma Sagittae","Delta Sagittae"]]},{name:"Vulpecula",starNames:[["Alpha Vulpeculae","Alpha Vulpeculae"]]},{name:"Equuleus",starNames:[["Kitalpha","Kitalpha"]]},{name:"Lacerta",starNames:[["Alpha Lacertae","Alpha Lacertae"]]},{name:"Canes Venatici",starNames:[["Cor Caroli","Chara"]]},{name:"Coma Berenices",starNames:[["Beta Comae Berenices","Alpha Comae Berenices"]]},{name:"Corona Australis",starNames:[["Alpha Coronae Australis","Beta Coronae Australis"]]},{name:"Crater",starNames:[["Delta Crateris","Alpha Crateris"]]},{name:"Sextans",starNames:[["Alpha Sextantis","Alpha Sextantis"]]},{name:"Leo Minor",starNames:[["Praecipua","Beta Leonis Minoris"]]},{name:"Lynx",starNames:[["Alpha Lyncis","Alpha Lyncis"]]},{name:"Camelopardalis",starNames:[["Beta Camelopardalis","Beta Camelopardalis"]]},{name:"Sculptor",starNames:[["Alpha Sculptoris","Alpha Sculptoris"]]},{name:"Fornax",starNames:[["Alpha Fornacis","Alpha Fornacis"]]},{name:"Caelum",starNames:[["Alpha Caeli","Alpha Caeli"]]},{name:"Horologium",starNames:[["Alpha Horologii","Alpha Horologii"]]},{name:"Dorado",starNames:[["Alpha Doradus","Beta Doradus"]]},{name:"Pictor",starNames:[["Alpha Pictoris","Alpha Pictoris"]]},{name:"Volans",starNames:[["Beta Volantis","Gamma Volantis"]]},{name:"Carina",starNames:[["Canopus","Miaplacidus"],["Miaplacidus","Avior"],["Avior","Canopus"]]},{name:"Chamaeleon",starNames:[["Alpha Chamaeleontis","Alpha Chamaeleontis"]]},{name:"Apus",starNames:[["Alpha Apodis","Alpha Apodis"]]},{name:"Musca",starNames:[["Alpha Muscae","Beta Muscae"]]},{name:"Circinus",starNames:[["Alpha Circini","Alpha Circini"]]},{name:"Triangulum Australe",starNames:[["Atria","Beta Trianguli Australis"],["Beta Trianguli Australis","Gamma Trianguli Australis"],["Gamma Trianguli Australis","Atria"]]},{name:"Telescopium",starNames:[["Alpha Telescopii","Alpha Telescopii"]]},{name:"Octans",starNames:[["Nu Octantis","Nu Octantis"]]},{name:"Hydrus",starNames:[["Beta Hydri","Alpha Hydri"]]},{name:"Mensa",starNames:[["Alpha Mensae","Alpha Mensae"]]},{name:"Reticulum",starNames:[["Alpha Reticuli","Alpha Reticuli"]]},{name:"Grus",starNames:[["Alnair","Beta Gruis"]]},{name:"Phoenix",starNames:[["Ankaa","Ankaa"]]},{name:"Microscopium",starNames:[["Gamma Microscopii","Gamma Microscopii"]]},{name:"Scutum",starNames:[["Alpha Scuti","Alpha Scuti"]]},{name:"Antlia",starNames:[["Alpha Antliae","Alpha Antliae"]]},{name:"Pyxis",starNames:[["Alpha Pyxidis","Alpha Pyxidis"]]},{name:"Monoceros",starNames:[["Beta Monocerotis","Beta Monocerotis"]]}];function Ce(e){return{O:"#9bb0ff",B:"#aabfff",A:"#cad7ff",F:"#f8f7ff",G:"#fff4ea",K:"#ffd2a1",M:"#ffcc6f"}[e]||"#ffffff"}const Se={Mercury:{a:.3871,e:.20563,i:7.005,omega:77.456,Omega:48.331,L0:252.251,n:4.09233445},Venus:{a:.72333,e:.00677,i:3.395,omega:131.564,Omega:76.68,L0:181.98,n:1.60213034},Mars:{a:1.52368,e:.0934,i:1.85,omega:336.041,Omega:49.558,L0:355.453,n:.52402068},Jupiter:{a:5.2026,e:.04849,i:1.303,omega:14.754,Omega:100.464,L0:34.404,n:.08308529},Saturn:{a:9.55491,e:.05551,i:2.489,omega:92.432,Omega:113.666,L0:50.077,n:.03344414},Uranus:{a:19.21845,e:.0463,i:.773,omega:170.964,Omega:74.006,L0:314.055,n:.01172834},Neptune:{a:30.11039,e:.00899,i:1.77,omega:44.971,Omega:131.784,L0:304.349,n:.00598103}};function Te(e){let a=e.getUTCFullYear(),t=e.getUTCMonth()+1;const n=e.getUTCDate()+e.getUTCHours()/24+e.getUTCMinutes()/1440+e.getUTCSeconds()/86400;t<=2&&(a-=1,t+=12);const s=Math.floor(a/100),r=2-s+Math.floor(s/4);return Math.floor(365.25*(a+4716))+Math.floor(30.6001*(t+1))+n+r-1524.5}function Ne(e){return e*Math.PI/180}function ve(e){for(;e<0;)e+=360;for(;e>=360;)e-=360;return e}function ke(e,a){const t=Se[e];if(!t)return{x:0,y:0,z:0};const n=a-2451545,s=ve(t.L0+t.n*n),r=function(e,a,t=1e-8){let n=e,s=1,r=0;for(;Math.abs(s)>t&&r<100;)s=(e-(n-a*Math.sin(n)))/(1-a*Math.cos(n)),n+=s,r++;return n}(Ne(ve(s-t.omega)),t.e),o=2*Math.atan2(Math.sqrt(1+t.e)*Math.sin(r/2),Math.sqrt(1-t.e)*Math.cos(r/2)),i=t.a*(1-t.e*Math.cos(r)),l=i*Math.cos(o),c=i*Math.sin(o),d=t.omega-t.Omega,m=Math.cos(Ne(d)),u=Math.sin(Ne(d)),h=Math.cos(Ne(t.Omega)),p=Math.sin(Ne(t.Omega)),x=Math.cos(Ne(t.i)),g=Math.sin(Ne(t.i));return{x:(h*m-p*u*x)*l+(-h*u-p*m*x)*c,y:(p*m+h*u*x)*l+(-p*u+h*m*x)*c,z:u*g*l+m*g*c}}function Pe(e,a,t){const n=Ne(23.439),s=e,r=a*Math.cos(n)-t*Math.sin(n),o=a*Math.sin(n)+t*Math.cos(n),i=Math.hypot(s,r,o),l=180*Math.asin(o/i)/Math.PI;let c=180*Math.atan2(r,s)/Math.PI;return c<0&&(c+=360),c/=15,{ra:c,dec:l}}const Le={Mercury:"#b5b5b5",Venus:"#e6e6ac",Mars:"#e27b58",Jupiter:"#d8ca9d",Saturn:"#ead6b8",Uranus:"#b4d9e8",Neptune:"#5b5ddf"};function ze(e,a,t){return ve(180*Math.atan2(a,e)/Math.PI)}function Ee(e=new Date){const a=Te(e),t=function(e){const a=e-2451545,t=ve(100.46435+.9856474*a),n=ve(357.528+.9856003*a),s=ve(t+1.915*Math.sin(Ne(n))+.02*Math.sin(Ne(2*n))),r=1.00014-.01671*Math.cos(Ne(n))-14e-5*Math.cos(Ne(2*n));return{x:r*Math.cos(Ne(s)),y:r*Math.sin(Ne(s)),z:0}}(a),n=[];for(const s of Object.keys(Se)){const e=ke(s,a),r=e.x-t.x,o=e.y-t.y,i=e.z-t.z,l=Math.hypot(r,o,i),{ra:c,dec:d}=Pe(r,o,i),m=ze(r,o);n.push({name:s,ra:c,dec:d,distance:l,color:Le[s]||"#ffffff",eclipticLongitude:m})}return n}function Be(e=new Date){const a=Te(e)-2451545,t=ve(218.316+13.176396*a),n=ve(134.963+13.064993*a),s=ve(93.272+13.22935*a),r=ve(t+6.289*Math.sin(Ne(n))),o=5.128*Math.sin(Ne(s)),i=385001-20905*Math.cos(Ne(n)),l=Ne(23.439),c=Ne(r),d=Ne(o),m=180*Math.atan2(Math.sin(c)*Math.cos(l)-Math.tan(d)*Math.sin(l),Math.cos(c))/Math.PI;return{name:"Moon",ra:(m<0?m+360:m)/15,dec:180*Math.asin(Math.sin(d)*Math.cos(l)+Math.cos(d)*Math.sin(l)*Math.sin(c))/Math.PI,distance:i/149597870.7,color:"#f4f4f4",eclipticLongitude:r}}function Fe(e=new Date){const a=Te(e)-2451545,t=ve(357.529+.98560028*a),n=ve(280.459+.98564736*a),s=ve(n+1.915*Math.sin(Ne(t))+.02*Math.sin(Ne(2*t))),r=Ne(23.439-36e-8*a),o=Ne(s),i=180*Math.atan2(Math.cos(r)*Math.sin(o),Math.cos(o))/Math.PI;return{name:"Sun",ra:(i<0?i+360:i)/15,dec:180*Math.asin(Math.sin(r)*Math.sin(o))/Math.PI,distance:1,color:"#ffdd44",eclipticLongitude:s}}function He(e,a,t,n,s,r=100){const o=e/24*2*Math.PI,i=a*Math.PI/180,l=n*Math.PI/180,c=function(e){let a=e.getUTCFullYear(),t=e.getUTCMonth()+1;const n=e.getUTCDate()+e.getUTCHours()/24+e.getUTCMinutes()/1440+e.getUTCSeconds()/86400;t<=2&&(a-=1,t+=12);const s=Math.floor(a/100),r=2-s+Math.floor(s/4),o=Math.floor(365.25*(a+4716))+Math.floor(30.6001*(t+1))+n+r-1524.5;return o}(t),d=(c-2451545)/36525;let m=280.46061837+360.98564736629*(c-2451545)+387933e-9*d*d-d*d*d/3871e4;m=function(e){let a=e%360;a<0&&(a+=360);return a}(m)/15,m=De(m);const u=De(m+s/15)/24*2*Math.PI-o,h=Math.cos(i)*Math.sin(u),p=Math.cos(i)*Math.cos(u)*Math.sin(l)-Math.sin(i)*Math.cos(l);return[r*h,r*(Math.cos(i)*Math.cos(u)*Math.cos(l)+Math.sin(i)*Math.sin(l)),-r*p]}function De(e){let a=e;for(;a<0;)a+=24;for(;a>=24;)a-=24;return a}function Ge({star:e,radius:a,showLabels:s,showGlow:r,date:o,location:i,showAboveHorizon:l=!0,showBelowHorizon:c=!0,showNakshatraRings:d=!0}){const m=t.useRef(null),u=t.useRef(null),h=t.useRef(null),p=t.useRef(null),x=t.useRef(null),[g,f]=t.useState(!1),y=He(e.ra,e.dec,o,i.latitude,i.longitude,a),b=Ce(e.spectralType),w=.8+.3*(2-e.magnitude);const M=t.useMemo(()=>{const e=new J,a=new Float32Array([0,0,0]);return e.setAttribute("position",new Q(a,3)),e},[]),j=t.useMemo(()=>{const e=document.createElement("canvas");e.width=64,e.height=64;const a=e.getContext("2d");if(!a)return new ee({size:8*w,transparent:!0,opacity:.4,blending:ae,color:new te(b),depthWrite:!1,sizeAttenuation:!0});const t=a.createRadialGradient(32,32,0,32,32,32);t.addColorStop(0,"rgba(255, 255, 255, 1)"),t.addColorStop(.2,"rgba(255, 255, 255, 0.6)"),t.addColorStop(.5,"rgba(255, 255, 255, 0.2)"),t.addColorStop(1,"rgba(255, 255, 255, 0)"),a.fillStyle=t,a.fillRect(0,0,64,64);const n=new ne(e);return new ee({size:8*w,map:n,transparent:!0,opacity:.4,blending:ae,color:new te(b),depthWrite:!1,sizeAttenuation:!0})},[b,w]);return t.useEffect(()=>{if(!m.current||u.current)return;const e=new se(w,8,8),a=new re({color:b}),t=new oe(e,a);u.current=t,m.current.add(t)},[b,w]),t.useEffect(()=>{if(m.current)if(r&&!h.current){const e=new ie(M,j);h.current=e,m.current.add(e)}else!r&&h.current&&(m.current.remove(h.current),h.current=null)},[r,M,j]),t.useEffect(()=>{if(m.current)if(e.nakshatra&&d){if(!p.current){const e=new le(2.5*w,.3*w,8,32),a=new re({color:"#ffaa00",transparent:!0,opacity:.6}),t=new oe(e,a);t.rotation.set(Math.PI/2,0,0),p.current=t,m.current.add(t)}if(!x.current){const e=new ce(1.5*w,3.5*w,32),a=new re({transparent:!0,opacity:0}),t=new oe(e,a);t.rotation.set(Math.PI/2,0,0),x.current=t,m.current.add(t)}}else p.current&&(m.current.remove(p.current),p.current=null),x.current&&(m.current.remove(x.current),x.current=null)},[e.nakshatra,d,w]),t.useEffect(()=>{m.current&&m.current.position.set(y[0],y[1],y[2])},[y]),t.useEffect(()=>{const e=()=>f(!0),a=()=>f(!1);return u.current&&(u.current.addEventListener("pointerover",e),u.current.addEventListener("pointerout",a)),x.current&&(x.current.addEventListener("pointerover",e),x.current.addEventListener("pointerout",a)),()=>{u.current&&(u.current.removeEventListener("pointerover",e),u.current.removeEventListener("pointerout",a)),x.current&&(x.current.removeEventListener("pointerover",e),x.current.removeEventListener("pointerout",a))}},[]),de(a=>{if(u.current){const t=.8+.2*Math.sin(2*a.clock.elapsedTime+10*e.ra);u.current.scale.setScalar(w*t)}if(h.current&&j){const t=.8+.2*Math.sin(1.5*a.clock.elapsedTime+5*e.dec);j.size=8*w*t}}),!l&&y[1]>0||!c&&y[1]<0?null:n.jsx("group",{ref:m,children:(s||g)&&e.magnitude<2&&n.jsx(me,{position:[0,4*w,0],center:!0,zIndexRange:[0,1e3],style:{color:"#ffffff",fontSize:g?"10px":"8px",fontFamily:"Space Mono, monospace",whiteSpace:"nowrap",pointerEvents:"none",textShadow:"0 0 3px rgba(0,0,0,0.9)",opacity:g?1:.7,backgroundColor:e.nakshatra?"rgba(255, 170, 0, 0.15)":"rgba(0, 0, 0, 0.4)",padding:"1px 4px",borderRadius:"2px",backdropFilter:"blur(2px)",border:e.nakshatra?"1px solid rgba(255, 170, 0, 0.3)":"none"},children:n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1px"},children:[n.jsx("span",{children:e.name}),e.nakshatra&&g&&n.jsx("span",{style:{color:"#ffaa00",fontSize:"7px",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.3px"},children:e.nakshatra})]})})})}function Re({planet:e,radius:a,showLabels:s,showGlow:r,date:o,location:i,showAboveHorizon:l=!0,showBelowHorizon:c=!0}){const d=t.useRef(null),m=t.useRef(null),u=t.useRef(null),[h,p]=t.useState(!1),x=He(e.ra,e.dec,o,i.latitude,i.longitude,a);let g=1.5;"Sun"===e.name?g=3:"Moon"===e.name&&(g=2.5);const f=t.useMemo(()=>{const e=new J,a=new Float32Array([0,0,0]);return e.setAttribute("position",new Q(a,3)),e},[]),y=t.useMemo(()=>{const a=document.createElement("canvas");a.width=128,a.height=128;const t=a.getContext("2d");if(!t)return new ee({size:12*g,transparent:!0,opacity:.5,blending:ae,color:new te(e.color),depthWrite:!1,sizeAttenuation:!0});const n=t.createRadialGradient(64,64,0,64,64,64);n.addColorStop(0,"rgba(255, 255, 255, 1)"),n.addColorStop(.15,"rgba(255, 255, 255, 0.8)"),n.addColorStop(.3,"rgba(255, 255, 255, 0.4)"),n.addColorStop(.6,"rgba(255, 255, 255, 0.1)"),n.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=n,t.fillRect(0,0,128,128);const s=new ne(a);return new ee({size:12*g,map:s,transparent:!0,opacity:.5,blending:ae,color:new te(e.color),depthWrite:!1,sizeAttenuation:!0})},[e.color,g]);return t.useEffect(()=>{if(d.current){if(d.current.position.set(x[0],x[1],x[2]),!m.current){const a=new se(g,16,16),t=new re({color:e.color}),n=new oe(a,t);m.current=n,d.current.add(n)}if(r&&!u.current){const e=new ie(f,y);u.current=e,d.current.add(e)}else!r&&u.current&&(d.current.remove(u.current),u.current=null)}},[x,e.color,g,r,f,y]),t.useEffect(()=>{const e=()=>p(!0),a=()=>p(!1);return m.current&&(m.current.addEventListener("pointerover",e),m.current.addEventListener("pointerout",a)),()=>{m.current&&(m.current.removeEventListener("pointerover",e),m.current.removeEventListener("pointerout",a))}},[]),de(e=>{if(u.current&&y){const a=1+.15*Math.sin(1.5*e.clock.elapsedTime);y.size=12*g*a}}),!l&&x[1]>0||!c&&x[1]<0?null:n.jsx("group",{ref:d,children:(s||h)&&n.jsx(me,{position:[0,4.5*g,0],center:!0,zIndexRange:[0,1e3],style:{color:e.color,fontSize:"11px",fontFamily:"Orbitron, sans-serif",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none",textShadow:`0 0 6px ${e.color}, 0 0 8px rgba(0,0,0,0.9)`,backgroundColor:"rgba(0, 0, 0, 0.6)",padding:"2px 6px",borderRadius:"3px",backdropFilter:"blur(3px)"},children:e.name})})}function Oe({radius:e,visible:a,date:s,location:r,showAboveHorizon:o=!0,showBelowHorizon:i=!0,showLabels:l=!0}){const c=t.useMemo(()=>{if(!a)return[];const t=new Map(je.map(e=>[e.name,e])),n=[];return Ae.forEach(a=>{a.starNames.forEach(([l,c])=>{const d=t.get(l),m=t.get(c);if(d&&m){const t=He(d.ra,d.dec,s,r.latitude,r.longitude,e),l=He(m.ra,m.dec,s,r.latitude,r.longitude,e),c=new ue(...t),u=new ue(...l),h=c.y>0,p=u.y>0;if(!o&&h&&p)return;if(!i&&!h&&!p)return;n.push({points:[c,u],constellation:a.name})}})}),n},[e,a,s,r,o,i]),d=t.useMemo(()=>{if(!a||!l)return[];const t=new Map(je.map(e=>[e.name,e])),n=[];return Ae.forEach(a=>{const l=new Set;a.starNames.forEach(([e,a])=>{l.add(e),e!==a&&l.add(a)});const c=[];if(l.forEach(a=>{const n=t.get(a);if(n){const a=He(n.ra,n.dec,s,r.latitude,r.longitude,e);c.push(new ue(...a))}}),c.length>0){const e=new ue;c.forEach(a=>e.add(a)),e.divideScalar(c.length);const t=e.y>0;(o&&t||i&&!t)&&n.push({name:a.name,position:e})}}),n},[e,a,s,r,o,i,l]);return a?n.jsxs("group",{children:[c.map((e,a)=>n.jsx(he,{points:e.points,color:"#4a6fa5",lineWidth:1,dashed:!0,dashSize:2,gapSize:1.5,opacity:.6,transparent:!0},`line-${e.points[0].x}-${e.points[0].y}-${e.points[0].z}`)),l&&d.map((e,a)=>n.jsx(me,{position:e.position,center:!0,sprite:!0,zIndexRange:[0,1e3],style:{pointerEvents:"none",userSelect:"none"},children:n.jsx("div",{style:{color:"#4a9eff",fontSize:"11px",fontFamily:"Orbitron, sans-serif",fontWeight:"bold",whiteSpace:"nowrap",textShadow:"0 0 6px #4a9eff, 0 0 8px rgba(0,0,0,0.9)",backgroundColor:"rgba(0, 0, 0, 0.6)",padding:"2px 6px",borderRadius:"3px",backdropFilter:"blur(3px)"},children:e.name})},`label-${e.name}`))]}):null}const Ie=(e,a,t,n)=>{const s=[];for(let r=0;r<=24;r+=.1){const o=He(r,e,t,n.latitude,n.longitude,a);s.push(new ue(...o))}return s},Ke=(e,a,t)=>{const n=[],s=23.4*Math.PI/180;for(let r=0;r<=360;r+=1){const o=r*Math.PI/180,i=Math.cos(o),l=Math.sin(o),c=i,d=l*Math.cos(s),m=l*Math.sin(s),u=Math.hypot(c,d,m),h=180*Math.asin(m/u)/Math.PI;let p=180*Math.atan2(d,c)/Math.PI;p<0&&(p+=360),p/=15;const x=He(p,h,a,t.latitude,t.longitude,e);n.push(new ue(...x))}return n};function $e({radius:e,visible:a,opacity:s=.3,date:r,location:o,showAboveHorizon:i=!0,showBelowHorizon:l=!0,showHorizonLine:c=!0,showEquatorLine:d=!0,showEclipticLine:m=!0,showTropicOfCancer:u=!0,showTropicOfCapricorn:h=!0,showArcticCircle:p=!0,showAntarcticCircle:x=!0}){const{declinationLines:g,raLines:f,equator:y,ecliptic:b,tropicCancer:w,tropicCapricorn:M,arcticCircle:j,antarcticCircle:A,raLabels:C,decLabels:S}=t.useMemo(()=>{const{decLines:a,decLabelPositions:t}=((e,a,t)=>{const n=[],s=[];for(let r=-60;r<=60;r+=30){const o=[];for(let n=0;n<=24;n+=.5){const s=He(n,r,a,t.latitude,t.longitude,e);o.push(new ue(...s))}if(n.push(o),0!==r){const n=He(0,r,a,t.latitude,t.longitude,e+3);s.push({position:new ue(...n),label:`${r>0?"+":""}${r}°`})}}return{decLines:n,decLabelPositions:s}})(e,r,o),{rightAscensionLines:n,raLabelPositions:s}=((e,a,t)=>{const n=[],s=[];for(let r=0;r<24;r+=2){const o=[];for(let n=-90;n<=90;n+=5){const s=He(r,n,a,t.latitude,t.longitude,e);o.push(new ue(...s))}n.push(o);const i=He(r,0,a,t.latitude,t.longitude,e+3);s.push({position:new ue(...i),label:`${r}h`})}return{rightAscensionLines:n,raLabelPositions:s}})(e,r,o);return{declinationLines:a,raLines:n,equator:Ie(0,e,r,o),ecliptic:Ke(e,r,o),tropicCancer:Ie(23.5,e,r,o),tropicCapricorn:Ie(-23.5,e,r,o),arcticCircle:Ie(66.5,e,r,o),antarcticCircle:Ie(-66.5,e,r,o),raLabels:s,decLabels:t}},[e,r,o]);if(!a)return null;const T=`hsl(220, 40%, ${25+30*s}%)`;return n.jsxs("group",{children:[g.map((e,a)=>{const t=e.filter(e=>!(!i&&e.y>0)&&!(!l&&e.y<0));if(t.length<2)return null;const r=180*a/(g.length-1)-90;return n.jsx(he,{points:t,color:T,lineWidth:1,opacity:.6*s,transparent:!0},`dec-${r}`)}),f.map((e,a)=>{const t=e.filter(e=>!(!i&&e.y>0)&&!(!l&&e.y<0));if(t.length<2)return null;const r=24*a/f.length;return n.jsx(he,{points:t,color:T,lineWidth:1,opacity:.6*s,transparent:!0},`ra-${r}`)}),C.map((e,a)=>{if(!i&&e.position.y>0)return null;if(!l&&e.position.y<0)return null;const t=Math.atan2(e.position.x,-e.position.z);return n.jsx(pe,{position:e.position,fontSize:2,color:"#6b8cba",anchorX:"center",anchorY:"middle",rotation:[0,t,0],children:e.label},`ra-label-${e.label}`)}),S.map((e,a)=>{if(!i&&e.position.y>0)return null;if(!l&&e.position.y<0)return null;const t=Math.atan2(e.position.x,-e.position.z);return n.jsx(pe,{position:e.position,fontSize:2,color:"#6b8cba",anchorX:"center",anchorY:"middle",rotation:[0,t,0],children:e.label},`dec-label-${e.label}`)}),c&&n.jsx(he,{points:Array.from({length:181},(a,t)=>{const n=2*t*Math.PI/180;return new ue(Math.cos(n)*e,0,Math.sin(n)*e)}),color:"#00ff88",lineWidth:5,opacity:s+.4,transparent:!0}),c&&n.jsx(pe,{position:[e+5,0,.1*e],fontSize:2.8,color:"#00ff88",anchorX:"left",anchorY:"middle",children:"HORIZON"}),d&&n.jsx(he,{points:y,color:"#4a90d9",lineWidth:4,opacity:s+.3,transparent:!0}),d&&n.jsx(pe,{position:[e+5,0,0],fontSize:2.5,color:"#4a90d9",anchorX:"left",anchorY:"middle",children:"EQUATOR 0°"}),m&&n.jsx(he,{points:b,color:"#d9a54a",lineWidth:2,opacity:s+.2,transparent:!0}),m&&n.jsx(pe,{position:[e+5,e*Math.sin(23.4*Math.PI/180),0],fontSize:2,color:"#d9a54a",anchorX:"left",anchorY:"middle",children:"ECLIPTIC"}),u&&n.jsx(he,{points:w,color:"#ff8844",lineWidth:2,opacity:s+.2,transparent:!0}),u&&n.jsx(pe,{position:[e+5,e*Math.sin(23.5*Math.PI/180),.1*e],fontSize:2,color:"#ff8844",anchorX:"left",anchorY:"middle",children:"Tropic of Cancer 23.5°N"}),h&&n.jsx(he,{points:M,color:"#ff8844",lineWidth:2,opacity:s+.2,transparent:!0}),h&&n.jsx(pe,{position:[e+5,e*Math.sin(-23.5*Math.PI/180),.1*e],fontSize:2,color:"#ff8844",anchorX:"left",anchorY:"middle",children:"Tropic of Capricorn 23.5°S"}),p&&n.jsx(he,{points:j,color:"#88ddff",lineWidth:2,opacity:s+.2,transparent:!0}),p&&n.jsx(pe,{position:[e+5,e*Math.sin(66.5*Math.PI/180),.1*e],fontSize:2,color:"#88ddff",anchorX:"left",anchorY:"middle",children:"Arctic Circle 66.5°N"}),x&&n.jsx(he,{points:A,color:"#88ddff",lineWidth:2,opacity:s+.2,transparent:!0}),x&&n.jsx(pe,{position:[e+5,e*Math.sin(-66.5*Math.PI/180),.1*e],fontSize:2,color:"#88ddff",anchorX:"left",anchorY:"middle",children:"Antarctic Circle 66.5°S"}),i&&n.jsx(pe,{position:[0,.8*e,0],fontSize:3,color:"#4a90d9",anchorX:"center",anchorY:"middle",fillOpacity:.8*s,children:"NORTHERN HEMISPHERE"}),l&&n.jsx(pe,{position:[0,.8*-e,0],fontSize:3,color:"#4ecdc4",anchorX:"center",anchorY:"middle",fillOpacity:.8*s,children:"SOUTHERN HEMISPHERE"})]})}function Ve({latitude:e=0}){const a=t.useRef(null),s=t.useRef(null),r=e<0;return de(e=>{s.current&&(s.current.position.y=.1*Math.sin(.5*e.clock.elapsedTime))}),n.jsxs("group",{ref:a,position:[0,0,0],children:[n.jsxs("group",{scale:[.6,.6,.6],children:[n.jsxs("mesh",{position:[0,1.2,0],children:[n.jsx("sphereGeometry",{args:[.4,16,16]}),n.jsx("meshBasicMaterial",{color:"#ffeb3b"})]}),n.jsxs("mesh",{position:[0,.4,0],children:[n.jsx("boxGeometry",{args:[.6,.8,.4]}),n.jsx("meshBasicMaterial",{color:"#ffeb3b"}),n.jsxs("lineSegments",{children:[n.jsx("edgesGeometry",{attach:"geometry",args:[new xe(.6,.8,.4)]}),n.jsx("lineBasicMaterial",{color:"#000000",linewidth:1})]})]}),n.jsxs("mesh",{position:[-.45,.4,0],children:[n.jsx("boxGeometry",{args:[.35,.8,.35]}),n.jsx("meshBasicMaterial",{color:"#ffeb3b"}),n.jsxs("lineSegments",{children:[n.jsx("edgesGeometry",{attach:"geometry",args:[new xe(.35,.8,.35)]}),n.jsx("lineBasicMaterial",{color:"#000000",linewidth:1})]})]}),n.jsxs("mesh",{position:[.45,.4,0],children:[n.jsx("boxGeometry",{args:[.35,.8,.35]}),n.jsx("meshBasicMaterial",{color:"#ffeb3b"}),n.jsxs("lineSegments",{children:[n.jsx("edgesGeometry",{attach:"geometry",args:[new xe(.35,.8,.35)]}),n.jsx("lineBasicMaterial",{color:"#000000",linewidth:1})]})]}),n.jsxs("mesh",{position:[-.2,-.35,0],children:[n.jsx("boxGeometry",{args:[.25,.7,.35]}),n.jsx("meshBasicMaterial",{color:"#ffeb3b"}),n.jsxs("lineSegments",{children:[n.jsx("edgesGeometry",{attach:"geometry",args:[new xe(.25,.7,.35)]}),n.jsx("lineBasicMaterial",{color:"#000000",linewidth:1})]})]}),n.jsxs("mesh",{position:[.2,-.35,0],children:[n.jsx("boxGeometry",{args:[.25,.7,.35]}),n.jsx("meshBasicMaterial",{color:"#ffeb3b"}),n.jsxs("lineSegments",{children:[n.jsx("edgesGeometry",{attach:"geometry",args:[new xe(.25,.7,.35)]}),n.jsx("lineBasicMaterial",{color:"#000000",linewidth:1})]})]})]}),n.jsxs("group",{ref:s,position:[0,-.5,0],rotation:r?[0,Math.PI,0]:[0,0,0],children:[n.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[n.jsx("torusGeometry",{args:[3.5,.08,8,64]}),n.jsx("meshBasicMaterial",{color:"#4a90d9",transparent:!0,opacity:.6})]}),n.jsxs("group",{position:[0,0,-3.5],children:[n.jsxs("mesh",{rotation:[-Math.PI/2,0,0],children:[n.jsx("coneGeometry",{args:[.25,.6,8]}),n.jsx("meshBasicMaterial",{color:"#4ecdc4"})]}),n.jsx(pe,{position:[0,.8,0],fontSize:.6,color:"#4ecdc4",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,Math.PI,0],billboard:!1,children:"S"}),n.jsx(pe,{position:[0,.25,0],fontSize:.25,color:"#7eddd7",anchorX:"center",anchorY:"middle",maxWidth:1,children:"180°"})]}),n.jsxs("group",{position:[0,0,3.5],children:[n.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[n.jsx("coneGeometry",{args:[.25,.6,8]}),n.jsx("meshBasicMaterial",{color:"#ff6b6b"})]}),n.jsx(pe,{position:[0,.8,0],fontSize:.6,color:"#ff6b6b",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,0,0],billboard:!1,children:"N"}),n.jsx(pe,{position:[0,.25,0],fontSize:.25,color:"#ff9999",anchorX:"center",anchorY:"middle",maxWidth:1,children:"0°"})]}),n.jsxs("group",{position:[3.5,0,0],children:[n.jsxs("mesh",{rotation:[0,0,-Math.PI/2],children:[n.jsx("coneGeometry",{args:[.25,.6,8]}),n.jsx("meshBasicMaterial",{color:"#ffe66d"})]}),n.jsx(pe,{position:[0,.8,0],fontSize:.6,color:"#ffe66d",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,Math.PI/2,0],billboard:!1,children:"E"}),n.jsx(pe,{position:[0,.25,0],fontSize:.25,color:"#fff099",anchorX:"center",anchorY:"middle",maxWidth:1,children:"90°"})]}),n.jsxs("group",{position:[-3.5,0,0],children:[n.jsxs("mesh",{rotation:[0,0,Math.PI/2],children:[n.jsx("coneGeometry",{args:[.25,.6,8]}),n.jsx("meshBasicMaterial",{color:"#a8e6cf"})]}),n.jsx(pe,{position:[0,.8,0],fontSize:.6,color:"#a8e6cf",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,-Math.PI/2,0],billboard:!1,children:"W"}),n.jsx(pe,{position:[0,.25,0],fontSize:.25,color:"#c4f0dc",anchorX:"center",anchorY:"middle",maxWidth:1,children:"270°"})]}),n.jsx("group",{position:[2.475,0,3.5],children:n.jsx(pe,{position:[0,.6,0],fontSize:.35,color:"#bbbbbb",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,Math.PI/4,0],billboard:!1,children:"NE"})}),n.jsx("group",{position:[2.475,0,-2.475],children:n.jsx(pe,{position:[0,.6,0],fontSize:.35,color:"#bbbbbb",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,3*Math.PI/4,0],billboard:!1,children:"SE"})}),n.jsx("group",{position:[-2.475,0,-2.475],children:n.jsx(pe,{position:[0,.6,0],fontSize:.35,color:"#bbbbbb",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,5*Math.PI/4,0],billboard:!1,children:"SW"})}),n.jsx("group",{position:[-2.475,0,3.5],children:n.jsx(pe,{position:[0,.6,0],fontSize:.35,color:"#bbbbbb",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,7*Math.PI/4,0],billboard:!1,children:"NW"})})]}),n.jsxs("group",{position:[0,5,0],children:[n.jsxs("mesh",{children:[n.jsx("sphereGeometry",{args:[.15,8,8]}),n.jsx("meshBasicMaterial",{color:"#ffffff",transparent:!0,opacity:.6})]}),n.jsx(pe,{position:[.5,0,0],fontSize:.3,color:"#aaaaaa",anchorX:"left",anchorY:"middle",children:"Zenith"})]})]})}function Ue({radius:e,visible:a,opacity:s=.8}){const r=t.useMemo(()=>[{label:"N",position:new ue(0,0,e),color:"#ff4444"},{label:"S",position:new ue(0,0,-e),color:"#ffffff"},{label:"W",position:new ue(e,0,0),color:"#4a90d9"},{label:"E",position:new ue(-e,0,0),color:"#ffaa00"},{label:"NW",position:new ue(.707*e,0,.707*e),color:"#88aaff"},{label:"NE",position:new ue(.707*-e,0,.707*e),color:"#ffaaaa"},{label:"SW",position:new ue(.707*e,0,.707*-e),color:"#aaccff"},{label:"SE",position:new ue(.707*-e,0,.707*-e),color:"#ffdd88"}],[e]);return a?n.jsx("group",{children:r.map(e=>n.jsx(me,{position:e.position,center:!0,zIndexRange:[1e3,2e3],style:{color:e.color,fontSize:1===e.label.length?"24px":"16px",fontFamily:"Orbitron, sans-serif",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none",textShadow:`0 0 8px ${e.color}, 0 0 12px rgba(0,0,0,0.9), 0 0 4px ${e.color}`,opacity:s,backgroundColor:"rgba(0, 0, 0, 0.7)",padding:1===e.label.length?"6px 12px":"4px 8px",borderRadius:"4px",backdropFilter:"blur(4px)",border:`2px solid ${e.color}`,letterSpacing:"2px"},children:e.label},e.label))}):null}function We({date:e,showGrid:a,showConstellations:s,showLabels:r,showConstellationLabels:o=!0,showStarGlow:i,showPlanetGlow:l,gridOpacity:c,zoomLevel:d,location:m,firstPersonMode:u,showAboveHorizon:h=!0,showBelowHorizon:p=!0,showNakshatraRings:x=!0,showHorizonLine:g=!0,showEquatorLine:f=!0,showEclipticLine:y=!0,showTropicOfCancer:b=!0,showTropicOfCapricorn:w=!0,showArcticCircle:M=!0,showAntarcticCircle:j=!0,controlsRef:A}){const C=200,S=t.useRef(null),{camera:T,scene:N}=ge(),v=A||S;t.useEffect(()=>{const e=new fe(16777215,.1);return N.add(e),()=>{N.remove(e)}},[N]),t.useEffect(()=>{v.current&&(v.current.minPolarAngle=-1/0,v.current.maxPolarAngle=1/0,v.current.minAzimuthAngle=-1/0,v.current.maxAzimuthAngle=1/0,v.current.touches={ONE:0,TWO:2},v.current.enableDamping=!0,v.current.dampingFactor=.05,v.current.rotateSpeed=u?1:.6,v.current.zoomSpeed=1.2,v.current.panSpeed=0)},[u,v]),t.useEffect(()=>{if(T)if(u)T.position.set(0,0,0),T.lookAt(0,1,0),T.updateProjectionMatrix();else{const e=d,a=T.position.clone().normalize();T.position.copy(a.multiplyScalar(e)),T.updateProjectionMatrix()}},[d,T,u]);const k=t.useMemo(()=>[...Ee(e),Be(e),Fe(e)],[e]);return n.jsxs(n.Fragment,{children:[n.jsx(ye,{ref:v,enablePan:!1,enableZoom:!u,enableRotate:!0,minDistance:5,maxDistance:500,rotateSpeed:u?1:.6,zoomSpeed:1.2,enableDamping:!0,dampingFactor:.05,mouseButtons:{LEFT:0,MIDDLE:1,RIGHT:2},touches:{ONE:0,TWO:2}}),n.jsx(be,{radius:400,depth:100,count:8e3,factor:4,saturation:0,fade:!0,speed:.3}),!u&&n.jsx(Ve,{latitude:m.latitude}),n.jsx(Ue,{radius:C,visible:!0,opacity:u?1:.6}),n.jsx($e,{radius:C,visible:a,opacity:c,date:e,location:m,showAboveHorizon:h,showBelowHorizon:p,showHorizonLine:g,showEquatorLine:f,showEclipticLine:y,showTropicOfCancer:b,showTropicOfCapricorn:w,showArcticCircle:M,showAntarcticCircle:j}),n.jsx(Oe,{radius:C,visible:s,date:e,location:m,showAboveHorizon:h,showBelowHorizon:p,showLabels:o}),n.jsx(t.Suspense,{fallback:null,children:je.map(a=>n.jsx(Ge,{star:a,radius:C,showLabels:r,showGlow:i,date:e,location:m,showAboveHorizon:h,showBelowHorizon:p,showNakshatraRings:x},a.name))}),n.jsx(t.Suspense,{fallback:null,children:k.map(a=>n.jsx(Re,{planet:a,radius:C,showLabels:r,showGlow:l,date:e,location:m,showAboveHorizon:h,showBelowHorizon:p},a.name))})]})}const _e=t.lazy(()=>Z(()=>import("./MapPicker-D_hQMqRh.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),Ye=(e,a)=>{const t=Math.round(a/15);return`UTC${t>=0?"+":""}${t}`};function qe({date:e,onDateChange:a,showGrid:r,onShowGridChange:o,showConstellations:i,onShowConstellationsChange:l,showLabels:c,onShowLabelsChange:d,showConstellationLabels:m,onShowConstellationLabelsChange:u,showStarGlow:h,onShowStarGlowChange:$,showPlanetGlow:V,onShowPlanetGlowChange:U,gridOpacity:W,onGridOpacityChange:_,skyDarkness:Y,onSkyDarknessChange:q,zoomLevel:X,onZoomLevelChange:Z,location:J,onLocationChange:Q,onExportSVG:ee,firstPersonMode:ae,onFirstPersonModeChange:te,showCelestialInfo:ne,onShowCelestialInfoChange:se,showNakshatraPanel:re,onShowNakshatraPanelChange:oe,showSunMoonPanel:ie,onShowSunMoonPanelChange:le,isLive:ce,onLiveModeChange:de,showAboveHorizon:me,onShowAboveHorizonChange:ue,showBelowHorizon:he,onShowBelowHorizonChange:pe,showNakshatraRings:xe,onShowNakshatraRingsChange:ge,showHorizonLine:fe,onShowHorizonLineChange:ye,showEquatorLine:be,onShowEquatorLineChange:we,showEclipticLine:Me,onShowEclipticLineChange:je,showTropicOfCancer:Ae,onShowTropicOfCancerChange:Ce,showTropicOfCapricorn:Se,onShowTropicOfCapricornChange:Te,showArcticCircle:Ne,onShowArcticCircleChange:ve,showAntarcticCircle:ke,onShowAntarcticCircleChange:Pe,timeSpeed:Le,onTimeSpeedChange:ze}){const[Ee,Be]=t.useState(!0),[Fe,He]=t.useState(J.latitude.toString()),[De,Ge]=t.useState(J.longitude.toString()),[Re,Oe]=t.useState(!1),[Ie,Ke]=t.useState(1),[$e,Ve]=t.useState("s"),[Ue,We]=t.useState({dateTime:!0,location:!0,view:!1,display:!1,horizon:!1,export:!0}),qe=e=>{We(a=>({...a,[e]:!a[e]}))},Xe=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}T${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`,[Ze,Je]=t.useState(Xe(e)),Qe=(e,a)=>{Ke(e),Ve(a);const t=e*{s:1,m:60,h:3600,d:86400,y:31536e3}[a];ze(t),1===t||ce||de(!0)};s.useEffect(()=>{He(J.latitude.toString()),Ge(J.longitude.toString())},[J.latitude,J.longitude]),s.useEffect(()=>{Je(Xe(e))},[e]);return n.jsxs(n.Fragment,{children:[!Ee&&n.jsx(p,{variant:"outline",size:"icon",className:"fixed left-4 top-4 z-[9999] bg-card border-border shadow-lg",onClick:()=>Be(!0),children:n.jsx(x,{className:"h-4 w-4"})}),n.jsx("div",{className:"fixed left-0 top-0 h-full z-[9998] transition-transform duration-300 "+(Ee?"translate-x-0":"-translate-x-full"),children:n.jsxs("div",{className:"h-full w-80 sm:w-80 max-w-full bg-card border-r border-border shadow-2xl flex flex-col",children:[n.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[n.jsxs("h2",{className:"font-orbitron text-lg font-semibold text-foreground flex items-center gap-2",children:[n.jsx(x,{className:"h-5 w-5 text-primary"}),"Sky Map Settings"]}),n.jsx(p,{variant:"ghost",size:"icon",onClick:()=>Be(!1),children:n.jsx(g,{className:"h-4 w-4"})})]}),n.jsx(f,{className:"flex-1",children:n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs(y,{open:Ue.dateTime,onOpenChange:()=>qe("dateTime"),children:[n.jsx(b,{asChild:!0,children:n.jsxs("button",{className:"w-full flex items-center justify-between text-sm font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(w,{className:"h-4 w-4"}),"Date & Time"]}),n.jsx(M,{className:"h-4 w-4 transition-transform "+(Ue.dateTime?"rotate-180":"")})]})}),n.jsxs(j,{className:"pt-3 space-y-2",children:[n.jsx(A,{type:"datetime-local",value:Ze,onChange:e=>{const t=e.target.value;Je(t);const n=new Date(t);Number.isNaN(n.getTime())||a(n)},className:"w-full cursor-pointer [&::-webkit-calendar-picker-indicator]:cursor-pointer [&::-webkit-calendar-picker-indicator]:absolute [&::-webkit-calendar-picker-indicator]:inset-0 [&::-webkit-calendar-picker-indicator]:w-full [&::-webkit-calendar-picker-indicator]:h-full [&::-webkit-calendar-picker-indicator]:opacity-0"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs(p,{variant:"secondary",size:"sm",className:"gap-2",onClick:()=>{de(!1),a(new Date)},children:[n.jsx(C,{className:"h-4 w-4"}),"Reset"]}),n.jsxs(p,{variant:ce?"default":"secondary",size:"sm",className:"gap-2 "+(ce?"bg-green-600 hover:bg-green-700":""),onClick:()=>de(!ce),children:[n.jsx(S,{className:"h-4 w-4 "+(ce?"animate-pulse":"")}),"Live"]})]}),n.jsxs("div",{className:"space-y-2 pt-2 border-t border-border/50",children:[n.jsx(T,{className:"text-xs text-muted-foreground",children:"Time Simulator"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(A,{type:"number",value:Ie,onChange:e=>{const a=Math.max(.1,Number.parseFloat(e.target.value)||1);Qe(a,$e)},className:"flex-1 h-9 text-sm",min:"0.1",step:"0.1"}),n.jsxs(N,{value:$e,onValueChange:e=>{Qe(Ie,e)},children:[n.jsx(v,{className:"w-[80px] h-9",children:n.jsx(k,{})}),n.jsxs(P,{className:"z-[10000]",children:[n.jsx(L,{value:"s",children:"sec"}),n.jsx(L,{value:"m",children:"min"}),n.jsx(L,{value:"h",children:"hour"}),n.jsx(L,{value:"d",children:"day"}),n.jsx(L,{value:"y",children:"year"})]})]})]}),n.jsxs("div",{className:"text-[10px] text-muted-foreground text-center",children:[Ie," ",(ea=$e,{s:"second",m:"minute",h:"hour",d:"day",y:"year"}[ea]),1===Ie?"":"s"," per real second"]})]})]})]}),n.jsx(z,{}),n.jsxs(y,{open:Ue.location,onOpenChange:()=>qe("location"),children:[n.jsx(b,{asChild:!0,children:n.jsxs("button",{className:"w-full flex items-center justify-between text-sm font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(E,{className:"h-4 w-4"}),"Observer Location"]}),n.jsx(M,{className:"h-4 w-4 transition-transform "+(Ue.location?"rotate-180":"")})]})}),n.jsxs(j,{className:"pt-3 space-y-3",children:[n.jsxs("div",{className:"bg-muted/50 rounded-md p-2 text-xs space-y-1",children:[n.jsx("p",{className:"text-foreground font-medium",children:J.name}),n.jsxs("p",{className:"text-muted-foreground",children:[J.latitude.toFixed(4),"°, ",J.longitude.toFixed(4),"°"]}),n.jsxs("div",{className:"pt-1 border-t border-border/50 space-y-0.5",children:[n.jsxs("p",{className:"text-muted-foreground flex items-center gap-1",children:[n.jsx("span",{className:"text-[10px] opacity-70",children:"System TZ:"}),n.jsx("span",{className:"font-mono text-[10px]",children:Intl.DateTimeFormat().resolvedOptions().timeZone})]}),n.jsxs("p",{className:"text-muted-foreground flex items-center gap-1",children:[n.jsx("span",{className:"text-[10px] opacity-70",children:"Location TZ:"}),n.jsx("span",{className:"font-mono text-[10px]",children:Ye(J.latitude,J.longitude)})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(T,{className:"text-xs text-muted-foreground",children:"Custom Coordinates"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(A,{type:"number",placeholder:"Lat",value:Fe,onChange:e=>He(e.target.value),className:"text-xs h-8",min:-90,max:90}),n.jsx(A,{type:"number",placeholder:"Lng",value:De,onChange:e=>Ge(e.target.value),className:"text-xs h-8",min:-180,max:180}),n.jsx(p,{size:"sm",className:"h-8 px-3",onClick:()=>{const e=Number.parseFloat(Fe),a=Number.parseFloat(De);!Number.isNaN(e)&&!Number.isNaN(a)&&e>=-90&&e<=90&&a>=-180&&a<=180&&Q({latitude:e,longitude:a,name:"Custom Location"})},children:"Set"})]}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsx(p,{size:"sm",className:"h-8 px-3",onClick:()=>Oe(!0),children:"Pick on Map"}),n.jsx(p,{size:"sm",className:"h-8 px-3",onClick:()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async e=>{const a=e.coords.latitude,t=e.coords.longitude;try{const e=await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${a}&lon=${t}&format=json&zoom=10`),n=await e.json();let s="Current Location";if(n.address){const e=[];if(n.address.city?e.push(n.address.city):n.address.town?e.push(n.address.town):n.address.village&&e.push(n.address.village),n.address.state?e.push(n.address.state):n.address.county&&e.push(n.address.county),n.address.country&&e.push(n.address.country),e.length>0)s=e.join(", ");else if(n.display_name){s=n.display_name.split(",").slice(0,3).join(",")}}Q({latitude:a,longitude:t,name:s})}catch(n){Q({latitude:a,longitude:t,name:"Current Location"})}},e=>{}):alert("Geolocation not available in this browser.")},children:"Use My Location"})]})]})]})]}),Re&&n.jsx(t.Suspense,{fallback:n.jsx("div",{className:"text-center py-4 text-sm text-muted-foreground",children:"Loading map..."}),children:n.jsx(_e,{open:Re,initial:{lat:J.latitude,lng:J.longitude},onSelect:(e,a,t)=>Q({latitude:e,longitude:a,name:t}),onClose:()=>Oe(!1)})}),n.jsx(z,{}),n.jsxs(y,{open:Ue.display,onOpenChange:()=>qe("display"),children:[n.jsx(b,{asChild:!0,children:n.jsxs("button",{className:"w-full flex items-center justify-between text-sm font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(B,{className:"h-4 w-4"}),"Display Options"]}),n.jsx(M,{className:"h-4 w-4 transition-transform "+(Ue.display?"rotate-180":"")})]})}),n.jsx(j,{className:"pt-3",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(T,{htmlFor:"firstPerson",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx(F,{className:"h-4 w-4"}),"First-Person View"]}),n.jsx(H,{id:"firstPerson",checked:ae,onCheckedChange:te})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(T,{htmlFor:"grid",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx(D,{className:"h-4 w-4"}),"Show Grid"]}),n.jsx(H,{id:"grid",checked:r,onCheckedChange:o})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(T,{htmlFor:"constellations",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx(G,{className:"h-4 w-4"}),"Constellations"]}),n.jsx(H,{id:"constellations",checked:i,onCheckedChange:l})]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs(T,{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx(R,{className:"h-4 w-4"}),"Labels"]})}),n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsx(T,{htmlFor:"labels",className:"flex items-center gap-2 cursor-pointer text-sm",children:"Star"}),n.jsx(H,{id:"labels",checked:c,onCheckedChange:d})]}),n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsx(T,{htmlFor:"constellation-labels",className:"flex items-center gap-2 cursor-pointer text-sm",children:"Constellation"}),n.jsx(H,{id:"constellation-labels",checked:m,onCheckedChange:u})]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs(T,{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx(O,{className:"h-4 w-4"}),"Glow"]})}),n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsx(T,{htmlFor:"starGlow",className:"flex items-center gap-2 cursor-pointer text-sm",children:"Star"}),n.jsx(H,{id:"starGlow",checked:h,onCheckedChange:$})]}),n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsx(T,{htmlFor:"planetGlow",className:"flex items-center gap-2 cursor-pointer text-sm",children:"Planet"}),n.jsx(H,{id:"planetGlow",checked:V,onCheckedChange:U})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(T,{htmlFor:"nakshatraRings",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-amber-400",children:"⭘"})," ","Nakshatra Rings"]}),n.jsx(H,{id:"nakshatraRings",checked:xe,onCheckedChange:ge})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(T,{htmlFor:"celestialInfo",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),"Celestial Info"]}),n.jsx(H,{id:"celestialInfo",checked:ne,onCheckedChange:se})]}),ne&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsxs(T,{htmlFor:"nakshatraPanel",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-amber-400",children:"★"})," ","Nakshatra"]}),n.jsx(H,{id:"nakshatraPanel",checked:re,onCheckedChange:oe})]}),n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsxs(T,{htmlFor:"sunMoonPanel",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-yellow-400",children:"☼"})," ","Sun & Moon"]}),n.jsx(H,{id:"sunMoonPanel",checked:ie,onCheckedChange:le})]})]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs(T,{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx("span",{className:"text-blue-400",children:"—"})," ","Lines"]})}),n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsxs(T,{htmlFor:"horizonLine",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-green-400",children:"—"})," ","Horizon"]}),n.jsx(H,{id:"horizonLine",checked:fe,onCheckedChange:ye})]}),n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsxs(T,{htmlFor:"equatorLine",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-blue-400",children:"—"})," ","Equator"]}),n.jsx(H,{id:"equatorLine",checked:be,onCheckedChange:we})]}),n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsxs(T,{htmlFor:"eclipticLine",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-yellow-400",children:"—"})," ","Ecliptic"]}),n.jsx(H,{id:"eclipticLine",checked:Me,onCheckedChange:je})]}),n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsxs(T,{htmlFor:"tropicOfCancer",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-orange-400",children:"—"})," ","Tropic of Cancer"]}),n.jsx(H,{id:"tropicOfCancer",checked:Ae,onCheckedChange:Ce})]}),n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsxs(T,{htmlFor:"tropicOfCapricorn",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-orange-400",children:"—"})," ","Tropic of Capricorn"]}),n.jsx(H,{id:"tropicOfCapricorn",checked:Se,onCheckedChange:Te})]}),n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsxs(T,{htmlFor:"arcticCircle",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-cyan-400",children:"—"})," ","Arctic Circle"]}),n.jsx(H,{id:"arcticCircle",checked:Ne,onCheckedChange:ve})]}),n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsxs(T,{htmlFor:"antarcticCircle",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-cyan-400",children:"—"})," ","Antarctic Circle"]}),n.jsx(H,{id:"antarcticCircle",checked:ke,onCheckedChange:Pe})]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs(T,{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx("span",{children:"↕"})," ","Horizon"]})}),n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsxs(T,{htmlFor:"showAboveHorizon",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{children:"↑"})," ","Above"]}),n.jsx(H,{id:"showAboveHorizon",checked:me,onCheckedChange:ue})]}),n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsxs(T,{htmlFor:"showBelowHorizon",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{children:"↓"})," ","Below"]}),n.jsx(H,{id:"showBelowHorizon",checked:he,onCheckedChange:pe})]})]})})]}),n.jsx(z,{}),n.jsxs(y,{open:Ue.view,onOpenChange:()=>qe("view"),children:[n.jsx(b,{asChild:!0,children:n.jsxs("button",{className:"w-full flex items-center justify-between text-sm font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-4 w-4"}),"Visual Adjustments"]}),n.jsx(M,{className:"h-4 w-4 transition-transform "+(Ue.view?"rotate-180":"")})]})}),n.jsxs(j,{className:"pt-3 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(T,{className:"text-sm",children:"Grid Visibility"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.round(100*W),"%"]})]}),n.jsx(I,{value:[W],onValueChange:([e])=>_(e),min:.1,max:1,step:.05})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(T,{className:"text-sm",children:"Sky Darkness"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.round(100*Y),"%"]})]}),n.jsx(I,{value:[Y],onValueChange:([e])=>q(e),min:0,max:1,step:.05})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(T,{className:"text-sm",children:"Zoom Level"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:X.toFixed(0)})]}),n.jsx(I,{value:[X],onValueChange:([e])=>Z(e),min:10,max:300,step:5}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Zoom out to view the entire celestial sphere"})]})]})]}),n.jsx(z,{}),n.jsxs(p,{onClick:ee,className:"w-full gap-2",children:[n.jsx(K,{className:"h-4 w-4"}),"EXPORT (BETA)"]}),n.jsx(z,{}),n.jsxs("section",{className:"space-y-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"CONTROLS"}),n.jsxs("div",{className:"text-xs text-muted-foreground space-y-2 bg-muted/30 rounded-md p-3",children:[n.jsxs("p",{children:["• ",n.jsx("strong",{children:"Drag"})," to rotate view"]}),n.jsxs("p",{children:["• ",n.jsx("strong",{children:"Scroll"})," to zoom in/out"]}),n.jsxs("p",{children:["• ",n.jsx("strong",{children:"Zoom slider"})," to zoom out completely"]}),n.jsxs("p",{children:["• ",n.jsx("strong",{children:"Hover"})," over objects for details"]})]})]})]})}),n.jsxs("div",{className:"p-4 border-t border-border bg-muted/30",children:[n.jsx("h4",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"LEGEND"}),n.jsxs("div",{className:"flex flex-col gap-1.5 text-xs",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-1 bg-[#4a90d9] rounded-full"}),n.jsx("span",{className:"text-muted-foreground",children:"Celestial Equator"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-0.5 bg-[#d9a54a]"}),n.jsx("span",{className:"text-muted-foreground",children:"Ecliptic"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-0.5 border-t border-dashed border-[#4a6fa5]"}),n.jsx("span",{className:"text-muted-foreground",children:"Constellation Lines"})]})]})]})]})})]});var ea}const Xe=({message:e="Loading..."})=>n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] space-y-4",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),e&&n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:e})]}),Ze=t.lazy(()=>Z(()=>import("./NakshatraPanel-DuTdcstu.js"),__vite__mapDeps([5,1,2,3,4,6,7,8]),import.meta.url).then(e=>({default:e.NakshatraPanel}))),Je=t.lazy(()=>Z(()=>import("./ExportDialog-CH_L0T0f.js"),__vite__mapDeps([9,1,2,3,4]),import.meta.url).then(e=>({default:e.ExportDialog})));function Qe(e,a){return function(s){return n.jsx(t.Suspense,{fallback:n.jsx(Xe,{message:a}),children:n.jsx(e,{...s})})}}t.lazy(()=>Z(()=>import("./MapPicker-D_hQMqRh.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url));const ea=Qe(Ze,"Loading Nakshatra panel..."),aa=Qe(Je,"Preparing export...");function ta({onGesture:e}){const a=t.useRef(null),s=t.useRef(null),[r,o]=t.useState(!1),[i,l]=t.useState(!1),[c,d]=t.useState(!1),[m,u]=t.useState(!0),h=t.useRef(!1);t.useEffect(()=>{h.current=c},[c]);const x=t.useRef(null),g=t.useRef(null),f=t.useRef(null),[y,b]=t.useState(!1),[w,j]=t.useState({bottom:16,right:16}),A=t.useRef(null),C=t.useRef([]),S=t.useRef(0),T=t.useRef(0),N=.008;t.useEffect(()=>()=>{},[]);t.useEffect(()=>{if(!y)return;const e=e=>{if(!A.current)return;const a=A.current.x-e.clientX,t=A.current.y-e.clientY,n=Math.max(0,Math.min(globalThis.innerWidth-200,A.current.startRight+a)),s=Math.max(0,Math.min(globalThis.innerHeight-100,A.current.startBottom+t));j({bottom:s,right:n})},a=()=>{b(!1)},t=e=>{if(!A.current)return;const a=e.touches[0];if(!a)return;const t=A.current.x-a.clientX,n=A.current.y-a.clientY,s=Math.max(0,Math.min(globalThis.innerWidth-200,A.current.startRight+t)),r=Math.max(0,Math.min(globalThis.innerHeight-100,A.current.startBottom+n));j({bottom:r,right:s})},n=()=>{b(!1)};return globalThis.addEventListener("mousemove",e),globalThis.addEventListener("mouseup",a),globalThis.addEventListener("touchmove",t),globalThis.addEventListener("touchend",n),()=>{globalThis.removeEventListener("mousemove",e),globalThis.removeEventListener("mouseup",a),globalThis.removeEventListener("touchmove",t),globalThis.removeEventListener("touchend",n)}},[y]);const v=(e,a)=>Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2)+Math.pow(a.z-e.z,2)),k=e=>{const a=e[0],t=e[8],n=e[5],s=v(a,t),r=v(a,n),o=e[12],i=e[9],l=v(a,o),c=v(a,i),d=e[16],m=e[13];return[s>1.3*r,l>1.3*c,v(a,d)>1.3*v(a,m)].filter(Boolean).length>=2},P=e=>({x:(e[0].x+e[9].x)/2,y:(e[0].y+e[9].y)/2,z:(e[0].z+e[9].z)/2}),L=e=>{var a,t;if("zoom"===(null==(a=f.current)?void 0:a.type)&&void 0!==f.current.twoHandDistance)if(S.current++,S.current>0){const a=200*(f.current.twoHandDistance-e);C.current.push({type:"zoom",delta:a}),C.current.length>6&&C.current.shift();const t=C.current.reduce((e,a)=>e+("number"==typeof a.delta?a.delta:0),0)/C.current.length;if(f.current={type:"zoom",twoHandDistance:e,wasHandClosed:!1},Math.abs(t)>.012)return{type:"zoom",zoomDelta:t}}else f.current.twoHandDistance=e,f.current.wasHandClosed=!1;else S.current=0,"zoom"!==(null==(t=f.current)?void 0:t.type)&&(C.current=[]),f.current={type:"zoom",twoHandDistance:e,wasHandClosed:!1};return{type:"idle"}},z=e=>{var a;if("rotate"===(null==(a=f.current)?void 0:a.type)&&f.current.handCenter)if(S.current++,S.current>2){const a=f.current.handCenter,t=1.8*(e.x-a.x),n=1.8*-(e.y-a.y);C.current.push({type:"rotate",delta:{x:t,y:n}}),C.current.length>6&&C.current.shift();const s=C.current.reduce((e,a)=>e+("object"==typeof a.delta?a.delta.x:0),0)/C.current.length,r=C.current.reduce((e,a)=>e+("object"==typeof a.delta?a.delta.y:0),0)/C.current.length;if(f.current={type:"rotate",handCenter:e,wasHandClosed:!1},Math.abs(s)>N||Math.abs(r)>N)return{type:"rotate",rotateDelta:{x:s,y:r}}}else f.current.handCenter=e,f.current.wasHandClosed=!1;else S.current=0,C.current=[],f.current={type:"rotate",handCenter:e,wasHandClosed:!1};return{type:"idle"}},E=e=>{if(!e.multiHandLandmarks||0===e.multiHandLandmarks.length)return T.current++,T.current>30&&(f.current=null,S.current=0,C.current=[]),{type:"idle"};T.current=0;const a=e.multiHandLandmarks.length;if(2===a)return((e,a)=>{var t;const n=k(e),s=k(a);if(!n||!s)return f.current&&(f.current.wasHandClosed=!0),{type:"idle"};const r=P(e),o=P(a),i=v(r,o);return(null==(t=f.current)?void 0:t.wasHandClosed)?(S.current=0,C.current=[],f.current={type:"zoom",twoHandDistance:i,wasHandClosed:!1},{type:"idle"}):L(i)})(e.multiHandLandmarks[0],e.multiHandLandmarks[1]);if(1===a){const a="zoom"===(null==(t=f.current)?void 0:t.type)?(S.current++,S.current>5&&(f.current=null,S.current=0,C.current=[]),{type:"idle"}):null;return a||(e=>{var a;if(!k(e))return f.current?f.current.wasHandClosed=!0:f.current={type:"rotate",wasHandClosed:!0},{type:"idle"};const t=(e=>{const a=e[0],t=e[12];return{x:(a.x+t.x)/2,y:(a.y+t.y)/2}})(e);return!0===(null==(a=f.current)?void 0:a.wasHandClosed)?(S.current=0,C.current=[],f.current={type:"rotate",handCenter:t,wasHandClosed:!1},{type:"idle"}):z(t)})(e.multiHandLandmarks[0])}var t;return{type:"idle"}},B=a=>{if(!s.current)return;const t=s.current.getContext("2d");if(!t)return;if(t.save(),t.clearRect(0,0,s.current.width,s.current.height),h.current?(t.translate(s.current.width,0),t.scale(-1,1),t.drawImage(a.image,0,0,s.current.width,s.current.height),t.setTransform(1,0,0,1,0,0)):(t.fillStyle="#1a1a1a",t.fillRect(0,0,s.current.width,s.current.height)),a.multiHandLandmarks){const e=a.multiHandLandmarks.map(e=>e.map(e=>({...e,x:1-e.x})));for(const a of e){const e=[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[0,9],[9,10],[10,11],[11,12],[0,13],[13,14],[14,15],[15,16],[0,17],[17,18],[18,19],[19,20],[5,9],[9,13],[13,17]];t.strokeStyle="#00ff88",t.lineWidth=2;for(const[n,r]of e){const e=a[n],o=a[r];t.beginPath(),t.moveTo(e.x*s.current.width,e.y*s.current.height),t.lineTo(o.x*s.current.width,o.y*s.current.height),t.stroke()}for(const n of a)t.fillStyle="#ff0088",t.beginPath(),t.arc(n.x*s.current.width,n.y*s.current.height,5,0,2*Math.PI),t.fill()}a.multiHandLandmarks=e}t.restore();const n=E(a);e(n)},F=async()=>{r?(g.current&&g.current.stop(),o(!1),f.current=null,T.current=0,S.current=0,C.current=[]):(i?g.current&&await g.current.start():await(async()=>{if(a.current&&!i)try{if(void 0===globalThis.Hands)throw new TypeError("MediaPipe Hands not loaded. Please ensure the CDN script is loaded.");if(void 0===globalThis.Camera)throw new TypeError("MediaPipe Camera not loaded. Please ensure the CDN script is loaded.");const e=new globalThis.Hands({locateFile:e=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands@0.4.1675469240/${e}`});e.setOptions({maxNumHands:2,modelComplexity:1,minDetectionConfidence:.7,minTrackingConfidence:.5}),e.onResults(B),x.current=e;const t=new globalThis.Camera(a.current,{onFrame:async()=>{a.current&&x.current&&await x.current.send({image:a.current})},width:320,height:240});g.current=t,await t.start(),l(!0)}catch(e){const a=e instanceof Error?e.message:String(e);alert(`Failed to start camera: ${a}\n\nPlease check:\n- Camera permissions in browser\n- HTTPS is enabled\n- Camera is not in use by another app`)}})(),o(!0))};return t.useEffect(()=>()=>{g.current&&g.current.stop(),x.current&&x.current.close()},[]),n.jsxs("div",{className:"fixed z-[9999] flex flex-col gap-2",style:{bottom:`${w.bottom}px`,right:`${w.right}px`,cursor:y?"grabbing":"grab"},children:[n.jsx("button",{type:"button",className:"flex items-center justify-center bg-black/80 backdrop-blur-sm rounded-lg border border-white/20 p-2 shadow-2xl",onMouseDown:e=>{0===e.button&&(b(!0),A.current={x:e.clientX,y:e.clientY,startBottom:w.bottom,startRight:w.right},e.preventDefault())},onTouchStart:e=>{const a=e.touches[0];a&&(b(!0),A.current={x:a.clientX,y:a.clientY,startBottom:w.bottom,startRight:w.right},e.preventDefault())},"aria-label":"Drag to move hand tracking panel",children:n.jsx(p,{variant:r?"default":"outline",size:"icon",onClick:()=>{F()},className:(r?"bg-green-600 hover:bg-green-700":"")+" flex items-center justify-center",title:r?"Stop Hand Tracking":"Start Hand Tracking",children:r?n.jsx($,{className:"h-4 w-4"}):n.jsx($,{className:"h-4 w-4 opacity-50"})})}),n.jsx("video",{ref:a,className:"hidden",playsInline:!0,"aria-label":"Hand tracking camera feed",children:n.jsx("track",{kind:"captions"})}),r&&n.jsxs("div",{className:"bg-black/80 backdrop-blur-sm rounded-lg border border-white/20 overflow-hidden shadow-2xl",children:[n.jsxs("button",{type:"button",className:"w-full p-2 border-b border-white/20 bg-white/5 cursor-pointer hover:bg-white/10 transition-colors",onClick:()=>u(!m),"aria-label":m?"Expand camera preview":"Collapse camera preview","aria-expanded":!m,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(V,{className:"h-3 w-3 text-green-400"}),n.jsx("p",{className:"text-xs font-semibold text-white",children:"Hand Gesture Control"})]}),m?n.jsx(M,{className:"h-4 w-4 text-white"}):n.jsx(U,{className:"h-4 w-4 text-white"})]}),m&&n.jsx("p",{className:"text-[10px] text-gray-400 mt-1","aria-label":"Gesture controls",children:"✋ Rotate | 🙌 Zoom | ✊ Pause"})]}),n.jsxs("div",{className:"p-2 bg-black/30 "+(m?"hidden":""),children:[n.jsx("p",{className:"text-[10px] text-gray-400",children:"✋ Open hand: Move to rotate"}),n.jsx("p",{className:"text-[10px] text-gray-400",children:"🙌 Two open hands: Apart=Zoom in, together=Zoom out"}),n.jsx("p",{className:"text-[10px] text-gray-400",children:"✊ Close fist to pause (keeps position)"})]}),n.jsxs("div",{className:"relative "+(m?"hidden":""),children:[n.jsx("canvas",{ref:s,width:320,height:240,className:"w-80 h-60"}),n.jsx("div",{className:"absolute bottom-2 left-2",children:n.jsx(p,{variant:"secondary",size:"sm",onClick:()=>d(!c),className:"text-xs bg-black/50 hover:bg-black/70",children:c?"🖐️ Gestures Only":"📷 Show Camera"})})]})]})]})}function na(e){const a=new Date("2000-01-01T12:00:00Z");return 23.85+.01397*((e.getTime()-a.getTime())/864e5/365.25)}const sa=["Ashwini","Bharani","Krittika","Rohini","Mrigashira","Ardra","Punarvasu","Pushya","Ashlesha","Magha","Purva Phalguni","Uttara Phalguni","Hasta","Chitra","Swati","Vishakha","Anuradha","Jyeshtha","Mula","Purva Ashadha","Uttara Ashadha","Shravana","Dhanishta","Shatabhisha","Purva Bhadrapada","Uttara Bhadrapada","Revati"];function ra(e,a,t,n){if(void 0!==t)return oa(t,n);const s=e/24*2*Math.PI,r=a*Math.PI/180,o=23.4392911*Math.PI/180,i=Math.sin(s)*Math.cos(o)+Math.tan(r)*Math.sin(o),l=Math.cos(s);let c=180*Math.atan2(i,l)/Math.PI;return c<0&&(c+=360),oa(c,n)}function oa(e,a){let t=e-(a?na(a):24);t<0&&(t+=360),t%=360;const n=Math.floor(t/(360/27));return sa[n]}const ia=["Mesha (Aries)","Vrishabha (Taurus)","Mithuna (Gemini)","Karka (Cancer)","Simha (Leo)","Kanya (Virgo)","Tula (Libra)","Vrishchika (Scorpio)","Dhanu (Sagittarius)","Makara (Capricorn)","Kumbha (Aquarius)","Meena (Pisces)"];function la(e,a){let t=e-(a?na(a):24);t<0&&(t+=360),t%=360;const n=Math.floor(t/30);return ia[n]}const ca=(e,a,t)=>{const n=e.getFullYear(),s=e.getMonth()+1,r=e.getDate(),o=Math.floor((14-s)/12),i=n+4800-o,l=s+12*o-3,c=r+Math.floor((153*l+2)/5)+365*i+Math.floor(i/4)-Math.floor(i/100)+Math.floor(i/400)-32045-2451545+8e-4-t/360,d=(357.5291+.98560028*c)%360,m=d*Math.PI/180,u=(d+(1.9148*Math.sin(m)+.02*Math.sin(2*m)+3e-4*Math.sin(3*m))+180+102.9372)%360*Math.PI/180,h=2451545+c+.0053*Math.sin(m)-.0069*Math.sin(2*u),p=Math.sin(u)*Math.sin(23.44*Math.PI/180),x=Math.cos(Math.asin(p)),g=a*Math.PI/180,f=(Math.sin(-.833*Math.PI/180)-Math.sin(g)*p)/(Math.cos(g)*x);if(f>1)return{sunrise:"No Sunrise",sunset:"No Sunset"};if(f<-1)return{sunrise:"Midnight Sun",sunset:"Midnight Sun"};const y=180*Math.acos(f)/Math.PI,b=h+y/360,w=e=>{const a=new Date(864e5*(e-2440587.5)),t=a.getHours(),n=a.getMinutes(),s=a.getSeconds();return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`};return{sunrise:w(h-y/360),sunset:w(b)}},da=(e,a,t,n)=>{const s=e=>{for(;e<0;)e+=360;for(;e>=360;)e-=360;return e},r=e=>e*Math.PI/180,o=e=>{const a=e-2451545,t=s(218.316+13.176396*a),n=s(134.963+13.064993*a),o=s(93.272+13.22935*a),i=s(t+6.289*Math.sin(r(n))),l=5.128*Math.sin(r(o)),c=r(23.439),d=r(i),m=r(l),u=Math.atan2(Math.sin(d)*Math.cos(c)-Math.tan(m)*Math.sin(c),Math.cos(d)),h=Math.asin(Math.sin(m)*Math.cos(c)+Math.cos(m)*Math.sin(c)*Math.sin(d));return{ra:(180*u/Math.PI<0?180*u/Math.PI+360:180*u/Math.PI)/15,dec:180*h/Math.PI}},i=(e,a)=>{const t=(e-2451545)/36525;let n=280.46061837+360.98564736629*(e-2451545)+387933e-9*t*t-t*t*t/3871e4;n=s(n);return s(n+a)/15},l=(e,a)=>{const t=r(e),n=r(a),s=r(-.583),o=(Math.sin(s)-Math.sin(t)*Math.sin(n))/(Math.cos(t)*Math.cos(n));return o>1||o<-1?null:180*Math.acos(o)/Math.PI/15},c=e.getFullYear(),d=e.getMonth()+1,m=e.getDate(),u=Math.floor((14-d)/12),h=c+4800-u,p=d+12*u-3,x=m+Math.floor((153*p+2)/5)+365*h+Math.floor(h/4)-Math.floor(h/100)+Math.floor(h/400)-32045-.5;let g=x;for(let b=0;b<3;b++){const e=o(g),n=l(a,e.dec);if(null===n)return{moonrise:"No Moonrise",moonset:"No Moonset"};const r=i(g,t);let c=s(15*(e.ra-n-r))/360;c<0&&(c+=1),g=x+c}let f=x;for(let b=0;b<3;b++){const e=o(f),n=l(a,e.dec);if(null===n)return{moonrise:"No Moonrise",moonset:"No Moonset"};const r=i(f,t);let c=s(15*(e.ra+n-r))/360;c<0&&(c+=1),f=x+c}const y=e=>{const a=new Date(864e5*(e-2440587.5)),t=a.getHours(),n=a.getMinutes(),s=a.getSeconds();return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`};return{moonrise:y(g),moonset:y(f)}},ma=(e,a)=>{const t=Date.UTC(2e3,0,1,12,0,0);let n=e-(23.85+.01397*((a.getTime()-t)/864e5/365.25));n<0&&(n+=360);return["Ashwini","Bharani","Krittika","Rohini","Mrigashira","Ardra","Punarvasu","Pushya","Ashlesha","Magha","Purva Phalguni","Uttara Phalguni","Hasta","Chitra","Swati","Vishakha","Anuradha","Jyeshtha","Mula","Purva Ashadha","Uttara Ashadha","Shravana","Dhanishta","Shatabhisha","Purva Bhadrapada","Uttara Bhadrapada","Revati"][Math.floor(n/13.333333)%27]},ua={"America/New_York":{lat:40.7128,lon:-74.006,name:"New York"},"America/Chicago":{lat:41.8781,lon:-87.6298,name:"Chicago"},"America/Denver":{lat:39.7392,lon:-104.9903,name:"Denver"},"America/Los_Angeles":{lat:34.0522,lon:-118.2437,name:"Los Angeles"},"America/Toronto":{lat:43.6532,lon:-79.3832,name:"Toronto"},"America/Vancouver":{lat:49.2827,lon:-123.1207,name:"Vancouver"},"America/Mexico_City":{lat:19.4326,lon:-99.1332,name:"Mexico City"},"Europe/London":{lat:51.5074,lon:-.1278,name:"London"},"Europe/Paris":{lat:48.8566,lon:2.3522,name:"Paris"},"Europe/Berlin":{lat:52.52,lon:13.405,name:"Berlin"},"Europe/Rome":{lat:41.9028,lon:12.4964,name:"Rome"},"Europe/Madrid":{lat:40.4168,lon:-3.7038,name:"Madrid"},"Europe/Moscow":{lat:55.7558,lon:37.6173,name:"Moscow"},"Europe/Istanbul":{lat:41.0082,lon:28.9784,name:"Istanbul"},"Asia/Dubai":{lat:25.2048,lon:55.2708,name:"Dubai"},"Asia/Kolkata":{lat:28.6139,lon:77.209,name:"Delhi"},"Asia/Calcutta":{lat:28.6139,lon:77.209,name:"Delhi"},"Asia/Mumbai":{lat:19.076,lon:72.8777,name:"Mumbai"},"Asia/Dhaka":{lat:23.8103,lon:90.4125,name:"Dhaka"},"Asia/Bangkok":{lat:13.7563,lon:100.5018,name:"Bangkok"},"Asia/Singapore":{lat:1.3521,lon:103.8198,name:"Singapore"},"Asia/Hong_Kong":{lat:22.3193,lon:114.1694,name:"Hong Kong"},"Asia/Shanghai":{lat:31.2304,lon:121.4737,name:"Shanghai"},"Asia/Tokyo":{lat:35.6762,lon:139.6503,name:"Tokyo"},"Asia/Seoul":{lat:37.5665,lon:126.978,name:"Seoul"},"Asia/Karachi":{lat:24.8607,lon:67.0011,name:"Karachi"},"Asia/Tehran":{lat:35.6892,lon:51.389,name:"Tehran"},"Asia/Jerusalem":{lat:31.7683,lon:35.2137,name:"Jerusalem"},"Asia/Riyadh":{lat:24.7136,lon:46.6753,name:"Riyadh"},"Asia/Kuwait":{lat:29.3759,lon:47.9774,name:"Kuwait City"},"Asia/Bahrain":{lat:26.0667,lon:50.5577,name:"Manama"},"Asia/Qatar":{lat:25.2854,lon:51.531,name:"Doha"},"Asia/Muscat":{lat:23.588,lon:58.3829,name:"Muscat"},"Asia/Kathmandu":{lat:27.7172,lon:85.324,name:"Kathmandu"},"Asia/Colombo":{lat:6.9271,lon:79.8612,name:"Colombo"},"Asia/Yangon":{lat:16.8661,lon:96.1951,name:"Yangon"},"Asia/Manila":{lat:14.5995,lon:120.9842,name:"Manila"},"Asia/Jakarta":{lat:-6.2088,lon:106.8456,name:"Jakarta"},"Asia/Kuala_Lumpur":{lat:3.139,lon:101.6869,name:"Kuala Lumpur"},"Asia/Ho_Chi_Minh":{lat:10.8231,lon:106.6297,name:"Ho Chi Minh City"},"Asia/Taipei":{lat:25.033,lon:121.5654,name:"Taipei"},"Australia/Sydney":{lat:-33.8688,lon:151.2093,name:"Sydney"},"Australia/Melbourne":{lat:-37.8136,lon:144.9631,name:"Melbourne"},"Australia/Perth":{lat:-31.9505,lon:115.8605,name:"Perth"},"Australia/Brisbane":{lat:-27.4698,lon:153.0251,name:"Brisbane"},"Australia/Adelaide":{lat:-34.9285,lon:138.6007,name:"Adelaide"},"Pacific/Auckland":{lat:-36.8485,lon:174.7633,name:"Auckland"},"Pacific/Fiji":{lat:-18.1416,lon:178.4419,name:"Suva"},"Pacific/Honolulu":{lat:21.3099,lon:-157.8581,name:"Honolulu"},"America/Sao_Paulo":{lat:-23.5505,lon:-46.6333,name:"São Paulo"},"America/Buenos_Aires":{lat:-34.6037,lon:-58.3816,name:"Buenos Aires"},"America/Bogota":{lat:4.711,lon:-74.0721,name:"Bogotá"},"America/Lima":{lat:-12.0464,lon:-77.0428,name:"Lima"},"America/Santiago":{lat:-33.4489,lon:-70.6693,name:"Santiago"},"America/Caracas":{lat:10.4806,lon:-66.9036,name:"Caracas"},"Africa/Cairo":{lat:30.0444,lon:31.2357,name:"Cairo"},"Africa/Johannesburg":{lat:-26.2041,lon:28.0473,name:"Johannesburg"},"Africa/Lagos":{lat:6.5244,lon:3.3792,name:"Lagos"},"Africa/Nairobi":{lat:-1.2864,lon:36.8172,name:"Nairobi"},"Africa/Casablanca":{lat:33.5731,lon:-7.5898,name:"Casablanca"},"Africa/Algiers":{lat:36.7538,lon:3.0588,name:"Algiers"},"Africa/Tunis":{lat:36.8065,lon:10.1815,name:"Tunis"},"Africa/Addis_Ababa":{lat:9.032,lon:38.7469,name:"Addis Ababa"}},ha=40.7128,pa=-74.006,xa="New York",ga=()=>{const[e,a]=t.useState((()=>{const e=Intl.DateTimeFormat().resolvedOptions().timeZone,a=ua[e];return a?{latitude:a.lat,longitude:a.lon,name:a.name}:{latitude:ha,longitude:pa,name:xa}})());return{location:e,setLocation:t.useCallback(e=>{a(e)},[])}},fa=(e,a,t,n,s,r)=>{const o=He(e.ra,e.dec,a,t.latitude,t.longitude,100);if(!r.showAboveHorizon&&o[1]>0||!r.showBelowHorizon&&o[1]<0)return{starElement:null,labelElement:null};const i=r.project3DTo2D(o,n,s,r.belowHorizon);if(!i)return{starElement:null,labelElement:null};const l=Math.max(2,6-.8*e.magnitude),c=Ce(e.spectralType);return{starElement:`  <circle cx="${i.x.toFixed(2)}" cy="${i.y.toFixed(2)}" r="${l.toFixed(1)}" fill="${c}" class="star"/>`,labelElement:r.showLabels&&e.magnitude<2.5?`  <text x="${(i.x+l+4).toFixed(2)}" y="${(i.y+4).toFixed(2)}" class="star-label">${e.name}</text>`:null}},ya=(e,a,t,n,s,r,o)=>{const i=He(e.ra,e.dec,t,n.latitude,n.longitude,100),l=He(a.ra,a.dec,t,n.latitude,n.longitude,100),c=(o.showAboveHorizon||i[1]<=0)&&(o.showBelowHorizon||i[1]>=0),d=(o.showAboveHorizon||l[1]<=0)&&(o.showBelowHorizon||l[1]>=0);if(!c||!d)return null;const m=o.project3DTo2D(i,s,r,o.belowHorizon),u=o.project3DTo2D(l,s,r,o.belowHorizon);return m&&u?`  <line x1="${m.x.toFixed(2)}" y1="${m.y.toFixed(2)}" x2="${u.x.toFixed(2)}" y2="${u.y.toFixed(2)}" class="constellation-line"/>`:null},ba=(e,a,t)=>{const n=[],s=[];for(let o=0;o<=90;o+=15){const r=o*Math.PI/180,i=(Math.PI/2-r)*(t/(Math.PI/2));n.push(`  <circle cx="${e.toFixed(2)}" cy="${a.toFixed(2)}" r="${i.toFixed(2)}" class="grid-circle"/>`),o>0&&o<90&&s.push(`  <text x="${(e+i+5).toFixed(2)}" y="${(a-3).toFixed(2)}" class="alt-label">${o}°</text>`)}const r=["N","NE","E","SE","S","SW","W","NW"];return[0,45,90,135,180,225,270,315].forEach((o,i)=>{const l=o*Math.PI/180,c=e+t*Math.sin(l),d=a-t*Math.cos(l);n.push(`  <line x1="${e.toFixed(2)}" y1="${a.toFixed(2)}" x2="${c.toFixed(2)}" y2="${d.toFixed(2)}" class="grid-line"/>`);const m=t+25,u=e+m*Math.sin(l),h=a-m*Math.cos(l);s.push(`  <text x="${u.toFixed(2)}" y="${(h+3).toFixed(2)}" class="azimuth-label">${r[i]}</text>`)}),{gridElements:n,labelElements:s}},wa=t.memo(()=>{const[e,a]=t.useState(new Date),[s,r]=t.useState(!0),[o,i]=t.useState(!0),[l,c]=t.useState(!0),[d,m]=t.useState(!0),[u,h]=t.useState(!0),[p,x]=t.useState(.5),[g,f]=t.useState(.8),[y,b]=t.useState(500),[w,M]=t.useState(!1),[j,A]=t.useState(!0),[C,S]=t.useState(()=>window.innerWidth>=768),[T,N]=t.useState(!1),[v,k]=t.useState(()=>window.innerWidth>=768),[P,L]=t.useState(!1),[z,E]=t.useState(!0),[B,F]=t.useState(!0),[H,D]=t.useState(!1),[G,R]=t.useState(!0),[O,I]=t.useState(!0),[K,$]=t.useState(!0),[V,U]=t.useState(!0),[W,_]=t.useState(!0),[Y,q]=t.useState(!0),[X,J]=t.useState(!0),[Q,ee]=t.useState(1),[ae,te]=t.useState(!1),{location:ne,setLocation:se}=ga();(({isLive:e,timeSpeed:a,date:n,onDateChange:s})=>{const r=t.useRef(n),o=t.useRef(performance.now());t.useEffect(()=>{r.current=n},[n]),t.useEffect(()=>{if(!e)return;let n;const i=1e3/60,l=()=>{const e=performance.now(),c=e-o.current;if(c>=i){const n=c/1e3*a*1e3,i=new Date(r.current.getTime()+n);r.current=i,t.startTransition(()=>{s(i)}),o.current=e}n=requestAnimationFrame(l)};return n=requestAnimationFrame(l),()=>{n&&cancelAnimationFrame(n)}},[e,a,s])})({isLive:P,timeSpeed:Q,date:e,onDateChange:a});const re=t.useRef(null),oe=t.useRef(null),ie=t.useDeferredValue(e),le=t.useMemo(()=>[...Ee(ie),Be(ie),Fe(ie)],[ie]),ce=t.useCallback((e,a)=>{var t;if(w)return;const n=Math.max(5,Math.min(500,y-e));if(b(n),a.object){const n=a.object,s=e/200,r=s>0?Math.min(.2,s):Math.max(-.08,s),o=Math.exp(r);n.position.multiplyScalar(o),null==(t=a.update)||t.call(a)}},[y,w]),de=t.useCallback((e,a)=>{var t;const n=1.5;if(a.getAzimuthalAngle&&a.getPolarAngle){const t=a.getAzimuthalAngle(),s=a.getPolarAngle();a.minAzimuthAngle=t-e.x*n,a.maxAzimuthAngle=t-e.x*n,a.minPolarAngle=Math.max(0,s+e.y*n),a.maxPolarAngle=Math.min(Math.PI,s+e.y*n),setTimeout(()=>{a.minAzimuthAngle=-1/0,a.maxAzimuthAngle=1/0,a.minPolarAngle=0,a.maxPolarAngle=Math.PI},0)}null==(t=a.update)||t.call(a)},[]),me=t.useCallback(e=>{if(!oe.current)return;const a=oe.current;switch(e.type){case"zoom":e.zoomDelta&&ce(e.zoomDelta,a);break;case"rotate":e.rotateDelta&&de(e.rotateDelta,a)}},[ce,de]),ue=`hsl(230, 30%, ${4+15*(1-g)}%)`,he=`hsl(230, 25%, ${6+18*(1-g)}%)`,pe=t.useCallback((a,t=1,n=1)=>{const r=700,i=742.5,c=Math.min(1190,1262.25)/2,d=700,m=2227.5,u=(e,a,t,n=!1)=>{let s=e[0],r=e[1],o=e[2];if(n&&(r=-r,s=-s,o=-o),r<0)return null;const i=Math.hypot(s,o),l=Math.atan2(r,i),d=Math.atan2(s,o),m=(Math.PI/2-l)*(c/(Math.PI/2));return{x:a+m*Math.sin(d),y:t-m*Math.cos(d)}},h=[],x=[],g=[],f=[],y=[],b=[],w=[],{gridElements:M,labelElements:A}=s?ba(r,i,c):{gridElements:[],labelElements:[]},{gridElements:C,labelElements:S}=s?ba(d,m,c):{gridElements:[],labelElements:[]};s&&(b.push(...A),w.push(...S)),je.forEach(a=>{const t=fa(a,e,ne,r,i,{projectionRadius:c,project3DTo2D:u,showAboveHorizon:z,showBelowHorizon:B,showLabels:l});t.starElement&&x.push(t.starElement),t.labelElement&&b.push(t.labelElement);const n=fa(a,e,ne,d,m,{projectionRadius:c,project3DTo2D:u,showAboveHorizon:z,showBelowHorizon:B,showLabels:l,belowHorizon:!0});n.starElement&&g.push(n.starElement),n.labelElement&&w.push(n.labelElement)});const T=Ee(e),N=Be(e),v=Fe(e),k=[...T,N,v];if(k.forEach(a=>{const t=He(a.ra,a.dec,e,ne.latitude,ne.longitude,100);if(!z&&t[1]>0||!B&&t[1]<0)return;const n=u(t,r,i);let s=8;"Sun"===a.name?s=14:"Moon"===a.name&&(s=12),n&&(x.push('  <circle cx="'+n.x.toFixed(2)+'" cy="'+n.y.toFixed(2)+'" r="'+s+'" fill="'+a.color+'" class="planet"/>'),l&&b.push('  <text x="'+(n.x+s+5).toFixed(2)+'" y="'+(n.y+5).toFixed(2)+'" class="planet-label" fill="'+a.color+'">'+a.name+"</text>"))}),k.forEach(a=>{const t=He(a.ra,a.dec,e,ne.latitude,ne.longitude,100);if(!z&&t[1]>0||!B&&t[1]<0)return;const n=u(t,d,m,!0);let s=8;"Sun"===a.name?s=14:"Moon"===a.name&&(s=12),n&&(g.push('  <circle cx="'+n.x.toFixed(2)+'" cy="'+n.y.toFixed(2)+'" r="'+s+'" fill="'+a.color+'" class="planet"/>'),l&&w.push('  <text x="'+(n.x+s+5).toFixed(2)+'" y="'+(n.y+5).toFixed(2)+'" class="planet-label" fill="'+a.color+'">'+a.name+"</text>"))}),o){const a=new Map(je.map(e=>[e.name,e])),t=[],n=[];Ae.forEach(s=>{const o=new Set;s.starNames.forEach(([e,a])=>{o.add(e),e!==a&&o.add(a)});const l=[];if(o.forEach(t=>{const n=a.get(t);if(n){const a=He(n.ra,n.dec,e,ne.latitude,ne.longitude,100);if((z||a[1]<=0)&&(B||a[1]>=0)){const e=u(a,r,i);e&&l.push(e)}}}),l.length>0){const e=l.reduce((e,a)=>e+a.x,0)/l.length,a=l.reduce((e,a)=>e+a.y,0)/l.length;t.push({name:s.name,x:e,y:a})}const c=[];if(o.forEach(t=>{const n=a.get(t);if(n){const a=He(n.ra,n.dec,e,ne.latitude,ne.longitude,100);if((z||a[1]<=0)&&(B||a[1]>=0)){const e=u(a,d,m,!0);e&&c.push(e)}}}),c.length>0){const e=c.reduce((e,a)=>e+a.x,0)/c.length,a=c.reduce((e,a)=>e+a.y,0)/c.length;n.push({name:s.name,x:e,y:a})}s.starNames.forEach(([t,n])=>{const s=a.get(t),o=a.get(n);if(s&&o){const a=ya(s,o,e,ne,r,i,{project3DTo2D:u,showAboveHorizon:z,showBelowHorizon:B});a&&f.push(a);const t=ya(s,o,e,ne,d,m,{project3DTo2D:u,showAboveHorizon:z,showBelowHorizon:B,belowHorizon:!0});t&&y.push(t)}})}),j&&(t.forEach(e=>{b.push('  <text x="'+e.x.toFixed(2)+'" y="'+e.y.toFixed(2)+'" class="constellation-label">'+e.name+"</text>")}),n.forEach(e=>{w.push('  <text x="'+e.x.toFixed(2)+'" y="'+e.y.toFixed(2)+'" class="constellation-label">'+e.name+"</text>")}))}const P=['<?xml version="1.0" encoding="UTF-8"?>','<svg xmlns="http://www.w3.org/2000/svg" width="2100" height="2970" viewBox="0 0 2100 2970">',"  <defs>","    <style>","      .grid-circle { stroke: #1e3a5f; stroke-width: 0.5; fill: none; opacity: "+.5*p+"; }","      .grid-line { stroke: #1e3a5f; stroke-width: 0.5; fill: none; opacity: "+.5*p+"; }","      .constellation-line { stroke: #4a6fa5; stroke-width: 1; stroke-dasharray: 4,3; fill: none; opacity: 0.6; }","      .star { filter: drop-shadow(0 0 1px rgba(255,255,255,0.3)); }","      .planet { filter: drop-shadow(0 0 3px rgba(255,255,255,0.6)); }",'      .star-label { font-family: "Space Mono", monospace; font-size: '+10*t+"px; fill: #aabbcc; }",'      .planet-label { font-family: "Orbitron", sans-serif; font-size: '+12*t+"px; font-weight: bold; }",'      .constellation-label { font-family: "Orbitron", sans-serif; font-size: '+11*t+"px; fill: #4a9eff; font-weight: bold; text-anchor: middle; }",'      .alt-label { font-family: "Space Mono", monospace; font-size: '+8*t+"px; fill: #6b8cba; opacity: 0.6; }",'      .azimuth-label { font-family: "Orbitron", sans-serif; font-size: '+14*t+"px; fill: #6b8cba; font-weight: bold; text-anchor: middle; }",'      .nakshatra-title { font-family: "Orbitron", sans-serif; font-size: '+28*n+"px; fill: #f59e0b; font-weight: bold; }",'      .nakshatra-planet { font-family: "Space Mono", monospace; font-size: '+20*n+"px; fill: #e5e7eb; }",'      .nakshatra-name { font-family: "Space Mono", monospace; font-size: '+22*n+"px; fill: #fbbf24; font-weight: bold; }","    </style>","  </defs>"];h.push(...P);const L="#0a0a1a",E=['  <rect width="2100" height="2970" fill="'+L+'"/>','  <rect width="1400" height="2970" fill="'+L+'"/>'];h.push(...E);const F=['  <rect x="1400" width="700" height="2970" fill="#0f0f20" stroke="#2a4a7f" stroke-width="2"/>','  <circle cx="'+r.toFixed(2)+'" cy="'+i.toFixed(2)+'" r="'+c.toFixed(2)+'" fill="none" stroke="#2a4a7f" stroke-width="3"/>','  <circle cx="'+d.toFixed(2)+'" cy="'+m.toFixed(2)+'" r="'+c.toFixed(2)+'" fill="none" stroke="#2a4a7f" stroke-width="3"/>'];h.push(...F);const H=["  \x3c!-- First Sky Map --\x3e",...M,...f,...x,...b];h.push(...H);const D=["  \x3c!-- First Map Title --\x3e",'  <text x="100" y="100" font-family="Orbitron, sans-serif" font-size="36" fill="#4a90d9" font-weight="bold">Sky Map - Above Horizon</text>','  <text x="100" y="145" font-family="Space Mono, monospace" font-size="22" fill="#6b7280">'+e.toISOString().split("T")[0]+" "+e.toTimeString().split(" ")[0]+"</text>"];a===`${ne.latitude.toFixed(2)}°, ${ne.longitude.toFixed(2)}°`?D.push('  <text x="100" y="180" font-family="Space Mono, monospace" font-size="20" fill="#6b7280">Coordinates: '+ne.latitude.toFixed(2)+"°, "+ne.longitude.toFixed(2)+"°</text>"):D.push('  <text x="100" y="180" font-family="Space Mono, monospace" font-size="20" fill="#6b7280">Location: '+a+"</text>",'  <text x="100" y="210" font-family="Space Mono, monospace" font-size="20" fill="#6b7280">Coordinates: '+ne.latitude.toFixed(2)+"°, "+ne.longitude.toFixed(2)+"°</text>"),h.push(...D);const G=["  \x3c!-- Separator --\x3e",'  <line x1="0" y1="1485" x2="1400" y2="1485" stroke="#2a4a7f" stroke-width="3"/>'];h.push(...G);const R=["  \x3c!-- Second Sky Map --\x3e",...C,...y,...g,...w];h.push(...R);const O=["  \x3c!-- Second Map Title --\x3e",'  <text x="100" y="1585" font-family="Orbitron, sans-serif" font-size="36" fill="#4a90d9" font-weight="bold">Sky Map - Below Horizon</text>','  <text x="100" y="1630" font-family="Space Mono, monospace" font-size="22" fill="#6b7280">'+e.toISOString().split("T")[0]+" "+e.toTimeString().split(" ")[0]+"</text>"];a===`${ne.latitude.toFixed(2)}°, ${ne.longitude.toFixed(2)}°`?O.push('  <text x="100" y="1665" font-family="Space Mono, monospace" font-size="20" fill="#6b7280">Coordinates: '+ne.latitude.toFixed(2)+"°, "+ne.longitude.toFixed(2)+"°</text>"):O.push('  <text x="100" y="1665" font-family="Space Mono, monospace" font-size="20" fill="#6b7280">Location: '+a+"</text>",'  <text x="100" y="1695" font-family="Space Mono, monospace" font-size="20" fill="#6b7280">Coordinates: '+ne.latitude.toFixed(2)+"°, "+ne.longitude.toFixed(2)+"°</text>"),h.push(...O);let I=120;const K=["  \x3c!-- Nakshatra Panel --\x3e",'  <text x="1480" y="'+I+'" class="nakshatra-title">PLANETARY NAKSHATRAS</text>'];h.push(...K),I+=60;k.forEach(a=>{const t=ra(a.ra,a.dec,a.eclipticLongitude,e),n=['  <circle cx="1510" cy="'+(I-5)+'" r="8" fill="'+a.color+'"/>','  <text x="1530" y="'+I+'" class="nakshatra-planet">'+a.name+"</text>",'  <text x="1990" y="'+I+'" class="nakshatra-name" text-anchor="end">'+t.toUpperCase()+"</text>"];h.push(...n),I+=38});const $=((e,a,t)=>{const n=a.eclipticLongitude||0;let s=(t.eclipticLongitude||0)-n;s<0&&(s+=360);let r="";return r=s<45?"New Moon":s<90?"Waxing Crescent":s<135?"First Quarter":s<180?"Waxing Gibbous":s<225?"Full Moon":s<270?"Waning Gibbous":s<315?"Last Quarter":"Waning Crescent",{phaseName:r,illumination:50*(1-Math.cos(s*Math.PI/180)),elongation:s}})(0,v,N),V=((e,a,t)=>{let n=t-a;n<0&&(n+=360);const s=Math.floor(n/12)+1;return`${["Pratipada","Dwitiya","Tritiya","Chaturthi","Panchami","Shashthi","Saptami","Ashtami","Navami","Dashami","Ekadashi","Dwadashi","Trayodashi","Chaturdashi","Purnima/Amavasya"][s<=15?s-1:s-16]} (${s<=15?"Shukla":"Krishna"})`})(0,v.eclipticLongitude??0,N.eclipticLongitude??0),U=ca(e,ne.latitude,ne.longitude),W=da(e,ne.latitude,ne.longitude),_=((e,a,t)=>{const n=Date.UTC(2e3,0,1,12,0,0);let s=360-(t.getTime()-n)/864e5/365.25*19.3%360;s<0&&(s+=360);const r=(s+180)%360;return{rahuNakshatra:ma(s,t),ketuNakshatra:ma(r,t)}})(0,0,e);I+=60;const Y=['  <text x="1480" y="'+I+'" font-family="Orbitron, sans-serif" font-size="18" fill="#f59e0b" font-weight="bold">LUNAR INFORMATION</text>'];I+=35,Y.push('  <text x="1500" y="'+I+'" class="nakshatra-planet">Moon Phase</text>','  <text x="1990" y="'+I+'" class="nakshatra-name" text-anchor="end">'+$.phaseName.toUpperCase()+"</text>"),I+=30,Y.push('  <text x="1500" y="'+I+'" class="nakshatra-planet">Illumination</text>','  <text x="1990" y="'+I+'" class="nakshatra-name" text-anchor="end">'+$.illumination.toFixed(1)+"%</text>"),I+=30,Y.push('  <text x="1500" y="'+I+'" class="nakshatra-planet">Tithi (Lunar Day)</text>','  <text x="1990" y="'+I+'" class="nakshatra-name" text-anchor="end">'+V.toUpperCase()+"</text>"),h.push(...Y),I+=50;const q=['  <text x="1480" y="'+I+'" font-family="Orbitron, sans-serif" font-size="18" fill="#f59e0b" font-weight="bold">LUNAR NODES</text>'];I+=35,q.push('  <circle cx="1510" cy="'+(I-5)+'" r="8" fill="#e74c3c"/>','  <text x="1530" y="'+I+'" class="nakshatra-planet">Rahu (North Node)</text>','  <text x="1990" y="'+I+'" class="nakshatra-name" text-anchor="end">'+_.rahuNakshatra.toUpperCase()+"</text>"),I+=35,q.push('  <circle cx="1510" cy="'+(I-5)+'" r="8" fill="#8e44ad"/>','  <text x="1530" y="'+I+'" class="nakshatra-planet">Ketu (South Node)</text>','  <text x="1990" y="'+I+'" class="nakshatra-name" text-anchor="end">'+_.ketuNakshatra.toUpperCase()+"</text>"),h.push(...q),I+=50;const X=['  <text x="1480" y="'+I+'" font-family="Orbitron, sans-serif" font-size="18" fill="#f59e0b" font-weight="bold">SUN &amp; MOON TIMES</text>'];I+=35,X.push('  <text x="1500" y="'+I+'" class="nakshatra-planet">Sunrise</text>','  <text x="1990" y="'+I+'" class="nakshatra-name" text-anchor="end">'+U.sunrise+"</text>"),I+=30,X.push('  <text x="1500" y="'+I+'" class="nakshatra-planet">Sunset</text>','  <text x="1990" y="'+I+'" class="nakshatra-name" text-anchor="end">'+U.sunset+"</text>"),I+=30,X.push('  <text x="1500" y="'+I+'" class="nakshatra-planet">Moonrise</text>','  <text x="1990" y="'+I+'" class="nakshatra-name" text-anchor="end">'+W.moonrise+"</text>"),I+=30,X.push('  <text x="1500" y="'+I+'" class="nakshatra-planet">Moonset</text>','  <text x="1990" y="'+I+'" class="nakshatra-name" text-anchor="end">'+W.moonset+"</text>"),h.push(...X);const Z=la(v.eclipticLongitude??0,e),J=la(N.eclipticLongitude??0,e);I+=50;const Q=['  <text x="1480" y="'+I+'" font-family="Orbitron, sans-serif" font-size="18" fill="#f59e0b" font-weight="bold">BIRTH RASHI</text>'];I+=25,Q.push('  <text x="1500" y="'+I+'" font-family="Space Mono, monospace" font-size="13" fill="#9ca3af">If born at this time:</text>'),I+=30,Q.push('  <text x="1500" y="'+I+'" class="nakshatra-planet">☀ Sun Sign</text>','  <text x="1990" y="'+I+'" class="nakshatra-name" text-anchor="end">'+Z.toUpperCase()+"</text>"),I+=30,Q.push('  <text x="1500" y="'+I+'" class="nakshatra-planet">🌙 Moon Sign</text>','  <text x="1990" y="'+I+'" class="nakshatra-name" text-anchor="end">'+J.toUpperCase()+"</text>"),h.push(...Q),I+=90;const ee=['  <line x1="1480" y1="'+(I-40)+'" x2="2000" y2="'+(I-40)+'" stroke="#4a6fa5" stroke-width="1"/>','  <text x="1480" y="'+I+'" font-family="Orbitron, sans-serif" font-size="20" fill="#6b8cba" font-weight="bold">About Nakshatras</text>'];I+=36,ee.push('  <text x="1480" y="'+I+'" font-family="Space Mono, monospace" font-size="15" fill="#9ca3af">Nakshatras are 27 lunar mansions in Vedic</text>'),I+=26,ee.push('  <text x="1480" y="'+I+'" font-family="Space Mono, monospace" font-size="15" fill="#9ca3af">astrology, each spanning 13°20\' of the</text>'),I+=26,ee.push('  <text x="1480" y="'+I+'" font-family="Space Mono, monospace" font-size="15" fill="#9ca3af">sidereal zodiac. Calculated using Lahiri</text>'),I+=26,ee.push('  <text x="1480" y="'+I+'" font-family="Space Mono, monospace" font-size="15" fill="#9ca3af">Ayanamsa for accurate sidereal positions.</text>'),h.push(...ee);return h.push("</svg>"),h.join("\n")},[e,s,o,l,j,p,ne,z,B]),xe=t.useCallback(async(a,t,n=1,s=1)=>{const r=a.trim()||`${ne.latitude.toFixed(2)}°, ${ne.longitude.toFixed(2)}°`,o=pe(r,n,s),i="skymap-"+e.toISOString().split("T")[0];if("svg"===t){const e=new Blob([o],{type:"image/svg+xml"}),a=URL.createObjectURL(e),t=document.createElement("a");t.href=a,t.download=i+".svg",document.body.appendChild(t),t.click(),t.remove(),URL.revokeObjectURL(a)}else{const{jsPDF:e}=await Z(async()=>{const{jsPDF:e}=await import("./pdf-vendor-ChITbXoE.js").then(e=>e.j);return{jsPDF:e}},__vite__mapDeps([7,2,3]),import.meta.url),{svg2pdf:a}=await Z(async()=>{const{svg2pdf:e}=await import("./pdf-vendor-ChITbXoE.js").then(e=>e.s);return{svg2pdf:e}},__vite__mapDeps([7,2,3]),import.meta.url),t=(new DOMParser).parseFromString(o,"image/svg+xml").documentElement,n=new e({orientation:"portrait",unit:"pt",format:"a4"});a(t,n,{x:0,y:0,width:n.internal.pageSize.getWidth(),height:n.internal.pageSize.getHeight()}).then(()=>{n.save(i+".pdf")})}},[e,ne,pe]),ge=t.useCallback(()=>{te(!0)},[]);return n.jsxs("div",{className:"relative w-full h-screen bg-background",children:[n.jsx(qe,{date:e,onDateChange:a,showGrid:s,onShowGridChange:r,showConstellations:o,onShowConstellationsChange:i,showLabels:l,onShowLabelsChange:c,showConstellationLabels:j,onShowConstellationLabelsChange:A,showStarGlow:d,onShowStarGlowChange:m,showPlanetGlow:u,onShowPlanetGlowChange:h,gridOpacity:p,onGridOpacityChange:x,skyDarkness:g,onSkyDarknessChange:f,zoomLevel:y,onZoomLevelChange:b,location:ne,onLocationChange:se,onExportSVG:ge,firstPersonMode:w,onFirstPersonModeChange:M,showCelestialInfo:C,onShowCelestialInfoChange:S,showNakshatraPanel:T,showSunMoonPanel:v,onShowSunMoonPanelChange:k,onShowNakshatraPanelChange:N,isLive:P,onLiveModeChange:L,showAboveHorizon:z,onShowAboveHorizonChange:E,showBelowHorizon:B,onShowBelowHorizonChange:F,showNakshatraRings:H,onShowNakshatraRingsChange:D,showHorizonLine:G,onShowHorizonLineChange:R,showEquatorLine:O,onShowEquatorLineChange:I,showEclipticLine:K,onShowEclipticLineChange:$,showTropicOfCancer:V,onShowTropicOfCancerChange:U,showTropicOfCapricorn:W,onShowTropicOfCapricornChange:_,showArcticCircle:Y,onShowArcticCircleChange:q,showAntarcticCircle:X,onShowAntarcticCircleChange:J,timeSpeed:Q,onTimeSpeedChange:ee}),n.jsx(we,{ref:re,camera:{position:[0,50,y],fov:60,near:.1,far:1e3},style:{background:`linear-gradient(to bottom, ${ue} 0%, ${he} 100%)`},children:n.jsx(We,{date:ie,showGrid:s,showConstellations:o,showLabels:l,showConstellationLabels:j,showStarGlow:d,showPlanetGlow:u,gridOpacity:p,zoomLevel:y,location:ne,firstPersonMode:w,showAboveHorizon:z,showBelowHorizon:B,showNakshatraRings:H,showHorizonLine:G,showEquatorLine:O,showEclipticLine:K,showTropicOfCancer:V,showTropicOfCapricorn:W,showArcticCircle:Y,showAntarcticCircle:X,controlsRef:oe})}),n.jsx(ta,{onGesture:me}),n.jsx("button",{className:"fixed top-4 right-4 z-[99999] bg-black/80 backdrop-blur-sm border border-white/20 rounded-lg p-2 text-xs text-white hover:bg-white/10 transition-colors shadow-lg flex items-center justify-center",onClick:()=>{document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()},title:"Toggle Full Screen (F11)",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})}),C&&(T||v)&&n.jsx(ea,{planets:le,date:e,location:ne,showNakshatra:T,showSunMoon:v,calculateSunriseSunset:ca,calculateMoonriseMoonset:da,onClose:()=>{N(!1),k(!1)}}),ae&&n.jsx(aa,{open:ae,onOpenChange:te,defaultLocation:"Current Location"===ne.name?"":ne.name,onExport:xe,previewGenerator:pe})]})}),Ma=()=>n.jsx(wa,{}),ja=()=>{const e=r();return t.useEffect(()=>{},[e.pathname]),n.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),n.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),n.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},Aa=new q({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:3e5}}}),Ca=()=>n.jsx(Me,{children:n.jsx(X,{client:Aa,children:n.jsxs(W,{children:[n.jsx(_,{}),n.jsx(Y,{}),n.jsx(o,{children:n.jsxs(i,{children:[n.jsx(l,{path:"/",element:n.jsx(Ma,{})}),n.jsx(l,{path:"*",element:n.jsx(ja,{})})]})})]})})}),Sa=document.getElementById("root");if(!Sa)throw new Error("Root element not found");c(Sa).render(n.jsx(Ca,{})),setTimeout(()=>{const e=document.getElementById("app-loader");e&&(e.classList.add("loaded"),setTimeout(()=>e.remove(),500))},100);export{Be as a,ra as b,Fe as c,la as g};
