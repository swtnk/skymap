const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./MapPicker-Dy2twQu6.js","./react-vendor-OEMN43JN.js","./map-vendor-scx2wcTa.js","./map-vendor-Dgihpmma.css","./ui-vendor-BDFWT-KC.js","./NakshatraPanel-CnDn9PhW.js","./routing-vendor-BoMlvbZZ.js","./pdf-vendor-ChITbXoE.js","./three-vendor-fQBct2T3.js","./ExportDialog-BF8hcdAL.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,a=(a,t,n)=>((a,t,n)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n)(a,"symbol"!=typeof t?t+"":t,n);import{r as t,j as n,d as s,u as r,H as o,h as i,i as l,b as c}from"./react-vendor-OEMN43JN.js";import{A as d,T as m,a as u,b as h,B as p,S as x,C as g,c as f,d as y,e as b,f as j,g as M,h as w,I as A,R as N,i as v,L as C,j as S,k as T,l as k,m as P,n as z,o as E,M as L,E as F,p as O,q as R,G as B,N as D,r as I,s as H,t as G,D as U,H as W,V as K,u as $,v as V,Z as _,w as Y,F as q,x as X,y as Z,z as J,J as Q,K as ee,O as ae,P as te,Q as ne,U as se,W as re,X as oe,Y as ie,_ as le,$ as ce,a0 as de,a1 as me,a2 as ue,a3 as he,a4 as pe,a5 as xe,a6 as ge,a7 as fe,a8 as ye,a9 as be,aa as je,ab as Me,ac as we}from"./ui-vendor-BDFWT-KC.js";import{Q as Ae,a as Ne}from"./routing-vendor-BoMlvbZZ.js";import{_ as ve}from"./pdf-vendor-ChITbXoE.js";import{B as Ce,a as Se,P as Te,A as ke,C as Pe,b as ze,S as Ee,M as Le,c as Fe,d as Oe,T as Re,R as Be,u as De,H as Ie,V as He,L as Ge,e as Ue,f as We,g as Ke,h as $e,i as Ve,O as _e,j as Ye,k as qe,l as Xe,D as Ze,m as Je,n as Qe,o as ea,p as aa,q as ta,r as na,s as sa,t as ra,v as oa}from"./three-vendor-fQBct2T3.js";import"./map-vendor-scx2wcTa.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)}).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();class ia extends t.Component{constructor(e){super(e),a(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})}),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,a){this.setState({error:e,errorInfo:a}),this.props.onError&&this.props.onError(e,a)}render(){var e;return this.state.hasError?this.props.fallback?this.props.fallback:n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:n.jsxs("div",{className:"max-w-md w-full space-y-4",children:[n.jsxs(d,{variant:"destructive",children:[n.jsx(m,{className:"h-4 w-4"}),n.jsx(u,{children:"Something went wrong"}),n.jsx(h,{children:(null==(e=this.state.error)?void 0:e.message)||"An unexpected error occurred"})]}),!1,n.jsxs("div",{className:"flex gap-2",children:[n.jsx(p,{onClick:this.handleReset,className:"flex-1",children:"Try Again"}),n.jsx(p,{variant:"outline",onClick:()=>globalThis.location.reload(),className:"flex-1",children:"Reload Page"})]})]})}):this.props.children}}const la=[{name:"Dubhe",ra:11.062,dec:61.75,magnitude:1.79,spectralType:"K",constellation:"Ursa Major"},{name:"Merak",ra:11.031,dec:56.38,magnitude:2.37,spectralType:"A",constellation:"Ursa Major"},{name:"Phecda",ra:11.897,dec:53.69,magnitude:2.44,spectralType:"A",constellation:"Ursa Major"},{name:"Megrez",ra:12.257,dec:57.03,magnitude:3.31,spectralType:"A",constellation:"Ursa Major"},{name:"Alioth",ra:12.9,dec:55.96,magnitude:1.77,spectralType:"A",constellation:"Ursa Major"},{name:"Mizar",ra:13.399,dec:54.93,magnitude:2.27,spectralType:"A",constellation:"Ursa Major"},{name:"Alkaid",ra:13.792,dec:49.31,magnitude:1.86,spectralType:"B",constellation:"Ursa Major"},{name:"Muscida",ra:10.298,dec:60.72,magnitude:3.35,spectralType:"G",constellation:"Ursa Major"},{name:"Talitha",ra:10.296,dec:55.01,magnitude:3.13,spectralType:"A",constellation:"Ursa Major"},{name:"Betelgeuse",ra:5.919,dec:7.41,magnitude:.42,spectralType:"M",constellation:"Orion"},{name:"Rigel",ra:5.242,dec:-8.2,magnitude:.13,spectralType:"B",constellation:"Orion"},{name:"Bellatrix",ra:5.419,dec:6.35,magnitude:1.64,spectralType:"B",constellation:"Orion"},{name:"Mintaka",ra:5.533,dec:-.3,magnitude:2.23,spectralType:"O",constellation:"Orion"},{name:"Alnilam",ra:5.603,dec:-1.2,magnitude:1.7,spectralType:"B",constellation:"Orion"},{name:"Alnitak",ra:5.679,dec:-1.94,magnitude:1.77,spectralType:"O",constellation:"Orion"},{name:"Saiph",ra:5.796,dec:-9.67,magnitude:2.09,spectralType:"B",constellation:"Orion"},{name:"Nair Al Saif",ra:5.489,dec:-6.84,magnitude:4.43,spectralType:"B",constellation:"Orion"},{name:"Hatysa",ra:5.276,dec:9.27,magnitude:4.97,spectralType:"B",constellation:"Orion"},{name:"Antares",ra:16.49,dec:-26.43,magnitude:.96,spectralType:"M",constellation:"Scorpius",nakshatra:"Jyeshtha"},{name:"Shaula",ra:17.56,dec:-37.1,magnitude:1.63,spectralType:"B",constellation:"Scorpius"},{name:"Sargas",ra:17.622,dec:-42.99,magnitude:1.87,spectralType:"F",constellation:"Scorpius"},{name:"Dschubba",ra:16.005,dec:-22.62,magnitude:2.32,spectralType:"B",constellation:"Scorpius"},{name:"Alniyat",ra:16.217,dec:-19.27,magnitude:3.56,spectralType:"B",constellation:"Scorpius"},{name:"Girtab",ra:17.601,dec:-42.36,magnitude:5.23,spectralType:"B",constellation:"Scorpius"},{name:"Regulus",ra:10.14,dec:11.97,magnitude:1.35,spectralType:"B",constellation:"Leo",nakshatra:"Magha"},{name:"Denebola",ra:11.818,dec:14.57,magnitude:2.14,spectralType:"A",constellation:"Leo",nakshatra:"Uttara Phalguni"},{name:"Algieba",ra:10.333,dec:19.84,magnitude:2.08,spectralType:"K",constellation:"Leo"},{name:"Zosma",ra:11.235,dec:20.52,magnitude:2.56,spectralType:"A",constellation:"Leo"},{name:"Adhafera",ra:10.128,dec:16.77,magnitude:3.44,spectralType:"F",constellation:"Leo"},{name:"Chertan",ra:11.236,dec:14.57,magnitude:3.17,spectralType:"A",constellation:"Leo"},{name:"Deneb",ra:20.691,dec:45.28,magnitude:1.25,spectralType:"A",constellation:"Cygnus"},{name:"Sadr",ra:20.371,dec:40.26,magnitude:2.2,spectralType:"F",constellation:"Cygnus"},{name:"Gienah Cygni",ra:20.77,dec:33.97,magnitude:2.46,spectralType:"K",constellation:"Cygnus"},{name:"Albireo",ra:19.512,dec:27.96,magnitude:3.08,spectralType:"K",constellation:"Cygnus"},{name:"Nodus Secundus Cygni",ra:20.37,dec:40.26,magnitude:4.23,spectralType:"F",constellation:"Cygnus"},{name:"Vega",ra:18.616,dec:38.78,magnitude:.03,spectralType:"A",constellation:"Lyra"},{name:"Sheliak",ra:18.835,dec:33.36,magnitude:3.45,spectralType:"A",constellation:"Lyra"},{name:"Sulafat",ra:18.982,dec:32.69,magnitude:3.24,spectralType:"B",constellation:"Lyra"},{name:"Epsilon Lyrae",ra:18.74,dec:39.64,magnitude:4.68,spectralType:"A",constellation:"Lyra"},{name:"Altair",ra:19.846,dec:8.87,magnitude:.77,spectralType:"A",constellation:"Aquila",nakshatra:"Shravana"},{name:"Tarazed",ra:19.771,dec:10.61,magnitude:2.72,spectralType:"K",constellation:"Aquila"},{name:"Alshain",ra:19.922,dec:6.41,magnitude:3.71,spectralType:"G",constellation:"Aquila"},{name:"Schedar",ra:.675,dec:56.54,magnitude:2.23,spectralType:"K",constellation:"Cassiopeia"},{name:"Caph",ra:.153,dec:59.15,magnitude:2.27,spectralType:"F",constellation:"Cassiopeia"},{name:"Navi",ra:.945,dec:60.72,magnitude:2.47,spectralType:"B",constellation:"Cassiopeia"},{name:"Ruchbah",ra:1.43,dec:60.24,magnitude:2.68,spectralType:"A",constellation:"Cassiopeia"},{name:"Segin",ra:1.907,dec:63.67,magnitude:3.38,spectralType:"B",constellation:"Cassiopeia"},{name:"Achird",ra:.203,dec:57.81,magnitude:3.32,spectralType:"F",constellation:"Cassiopeia"},{name:"Aldebaran",ra:4.599,dec:16.51,magnitude:.85,spectralType:"K",constellation:"Taurus",nakshatra:"Rohini"},{name:"Elnath",ra:5.438,dec:28.61,magnitude:1.65,spectralType:"B",constellation:"Taurus"},{name:"Alcyone",ra:3.791,dec:24.1,magnitude:2.87,spectralType:"B",constellation:"Taurus"},{name:"Atlas",ra:3.797,dec:24.03,magnitude:3.63,spectralType:"B",constellation:"Taurus"},{name:"Electra",ra:3.791,dec:24.11,magnitude:3.72,spectralType:"B",constellation:"Taurus"},{name:"Maia",ra:3.763,dec:24.37,magnitude:3.87,spectralType:"B",constellation:"Taurus"},{name:"Merope",ra:3.756,dec:23.97,magnitude:4.17,spectralType:"B",constellation:"Taurus"},{name:"Pleione",ra:3.795,dec:24.14,magnitude:4.86,spectralType:"B",constellation:"Taurus"},{name:"Tiān Guān",ra:4.213,dec:15.63,magnitude:4.96,spectralType:"F",constellation:"Taurus"},{name:"Pollux",ra:7.755,dec:28.03,magnitude:1.14,spectralType:"K",constellation:"Gemini",nakshatra:"Punarvasu"},{name:"Castor",ra:7.577,dec:31.89,magnitude:1.58,spectralType:"A",constellation:"Gemini"},{name:"Alhena",ra:6.629,dec:16.4,magnitude:1.93,spectralType:"A",constellation:"Gemini"},{name:"Mebsuta",ra:6.732,dec:25.13,magnitude:2.98,spectralType:"G",constellation:"Gemini"},{name:"Wasat",ra:6.372,dec:22.51,magnitude:3.55,spectralType:"F",constellation:"Gemini"},{name:"Propus",ra:7.598,dec:26.13,magnitude:3.98,spectralType:"K",constellation:"Gemini"},{name:"Sirius",ra:6.752,dec:-16.72,magnitude:-1.46,spectralType:"A",constellation:"Canis Major"},{name:"Adhara",ra:6.977,dec:-28.97,magnitude:1.5,spectralType:"B",constellation:"Canis Major"},{name:"Wezen",ra:7.14,dec:-26.39,magnitude:1.84,spectralType:"F",constellation:"Canis Major"},{name:"Mirzam",ra:6.378,dec:-17.96,magnitude:1.98,spectralType:"B",constellation:"Canis Major"},{name:"Aludra",ra:7.401,dec:-29.3,magnitude:2.45,spectralType:"B",constellation:"Canis Major"},{name:"Furud",ra:7.077,dec:-27.94,magnitude:3.02,spectralType:"A",constellation:"Canis Major"},{name:"Isis",ra:6.361,dec:-16.39,magnitude:3.93,spectralType:"K",constellation:"Canis Major"},{name:"Procyon",ra:7.655,dec:5.23,magnitude:.34,spectralType:"F",constellation:"Canis Minor"},{name:"Gomeisa",ra:7.452,dec:8.29,magnitude:2.9,spectralType:"B",constellation:"Canis Minor"},{name:"Spica",ra:13.42,dec:-11.16,magnitude:.97,spectralType:"B",constellation:"Virgo",nakshatra:"Chitra"},{name:"Porrima",ra:12.695,dec:-1.45,magnitude:2.74,spectralType:"F",constellation:"Virgo"},{name:"Vindemiatrix",ra:13.037,dec:10.96,magnitude:2.83,spectralType:"G",constellation:"Virgo"},{name:"Heze",ra:13.455,dec:-6.06,magnitude:3.41,spectralType:"A",constellation:"Virgo"},{name:"Zaniah",ra:12.893,dec:-6.43,magnitude:3.89,spectralType:"A",constellation:"Virgo"},{name:"Arcturus",ra:14.261,dec:19.18,magnitude:-.05,spectralType:"K",constellation:"Boötes",nakshatra:"Swati"},{name:"Izar",ra:14.75,dec:27.07,magnitude:2.37,spectralType:"K",constellation:"Boötes"},{name:"Muphrid",ra:13.912,dec:18.4,magnitude:2.68,spectralType:"G",constellation:"Boötes"},{name:"Seginus",ra:15.031,dec:40.39,magnitude:3.03,spectralType:"A",constellation:"Boötes"},{name:"Alkalurops",ra:14.53,dec:13.73,magnitude:4.16,spectralType:"A",constellation:"Boötes"},{name:"Alpha Centauri",ra:14.66,dec:-60.84,magnitude:-.27,spectralType:"G",constellation:"Centaurus"},{name:"Hadar",ra:14.064,dec:-60.37,magnitude:.61,spectralType:"B",constellation:"Centaurus"},{name:"Menkent",ra:14.111,dec:-36.37,magnitude:2.06,spectralType:"K",constellation:"Centaurus"},{name:"Acrux",ra:12.443,dec:-63.1,magnitude:.76,spectralType:"B",constellation:"Crux"},{name:"Mimosa",ra:12.795,dec:-59.69,magnitude:1.25,spectralType:"B",constellation:"Crux"},{name:"Gacrux",ra:12.519,dec:-57.11,magnitude:1.64,spectralType:"M",constellation:"Crux"},{name:"Polaris",ra:2.53,dec:89.26,magnitude:1.98,spectralType:"F",constellation:"Ursa Minor"},{name:"Kochab",ra:14.845,dec:74.16,magnitude:2.08,spectralType:"K",constellation:"Ursa Minor"},{name:"Pherkad",ra:15.346,dec:71.83,magnitude:3,spectralType:"A",constellation:"Ursa Minor"},{name:"Yildun",ra:16.29,dec:75.76,magnitude:4.36,spectralType:"A",constellation:"Ursa Minor"},{name:"Alpheratz",ra:.14,dec:29.09,magnitude:2.06,spectralType:"B",constellation:"Andromeda"},{name:"Mirach",ra:1.162,dec:35.62,magnitude:2.06,spectralType:"M",constellation:"Andromeda"},{name:"Almach",ra:2.065,dec:42.33,magnitude:2.1,spectralType:"K",constellation:"Andromeda"},{name:"Delta Andromedae",ra:.651,dec:30.86,magnitude:3.28,spectralType:"K",constellation:"Andromeda"},{name:"Markab",ra:23.079,dec:15.21,magnitude:2.49,spectralType:"B",constellation:"Pegasus"},{name:"Scheat",ra:23.063,dec:28.08,magnitude:2.42,spectralType:"M",constellation:"Pegasus"},{name:"Algenib",ra:.22,dec:15.18,magnitude:2.83,spectralType:"B",constellation:"Pegasus"},{name:"Enif",ra:21.736,dec:9.87,magnitude:2.39,spectralType:"K",constellation:"Pegasus"},{name:"Theta Pegasi",ra:21.725,dec:12.12,magnitude:2.95,spectralType:"B",constellation:"Pegasus"},{name:"Eta Piscium",ra:1.525,dec:15.35,magnitude:3.62,spectralType:"G",constellation:"Pisces"},{name:"Alrescha",ra:2.034,dec:2.76,magnitude:3.82,spectralType:"A",constellation:"Pisces"},{name:"Fum al Samakah",ra:1.143,dec:5.49,magnitude:4.46,spectralType:"B",constellation:"Pisces"},{name:"Hamal",ra:2.12,dec:23.46,magnitude:2,spectralType:"K",constellation:"Aries"},{name:"Sheratan",ra:1.911,dec:20.81,magnitude:2.64,spectralType:"A",constellation:"Aries"},{name:"Mesarthim",ra:2.118,dec:23.48,magnitude:3.87,spectralType:"B",constellation:"Aries"},{name:"Kaus Australis",ra:18.403,dec:-34.38,magnitude:1.85,spectralType:"B",constellation:"Sagittarius"},{name:"Nunki",ra:18.921,dec:-26.3,magnitude:2.02,spectralType:"B",constellation:"Sagittarius"},{name:"Ascella",ra:19.044,dec:-29.88,magnitude:2.59,spectralType:"A",constellation:"Sagittarius"},{name:"Kaus Media",ra:18.35,dec:-29.83,magnitude:2.7,spectralType:"K",constellation:"Sagittarius"},{name:"Kaus Borealis",ra:18.466,dec:-25.42,magnitude:2.81,spectralType:"K",constellation:"Sagittarius"},{name:"Albaldah",ra:19.223,dec:-27.67,magnitude:3.27,spectralType:"F",constellation:"Sagittarius"},{name:"Deneb Algedi",ra:21.784,dec:-16.13,magnitude:2.81,spectralType:"A",constellation:"Capricornus"},{name:"Dabih",ra:20.35,dec:-14.78,magnitude:3.08,spectralType:"K",constellation:"Capricornus"},{name:"Nashira",ra:21.681,dec:-16.65,magnitude:3.68,spectralType:"A",constellation:"Capricornus"},{name:"Sadalsuud",ra:21.526,dec:-5.57,magnitude:2.91,spectralType:"G",constellation:"Aquarius"},{name:"Sadalmelik",ra:22.096,dec:-.32,magnitude:2.96,spectralType:"G",constellation:"Aquarius"},{name:"Sadaltager",ra:22.362,dec:-8.98,magnitude:3.27,spectralType:"A",constellation:"Aquarius"},{name:"Zubeneschamali",ra:15.283,dec:-9.38,magnitude:2.61,spectralType:"B",constellation:"Libra"},{name:"Zubenelgenubi",ra:14.848,dec:-16.04,magnitude:2.75,spectralType:"A",constellation:"Libra"},{name:"Zuben Elakrab",ra:15.592,dec:-9.38,magnitude:4.76,spectralType:"K",constellation:"Libra"},{name:"Acubens",ra:8.975,dec:11.86,magnitude:4.25,spectralType:"A",constellation:"Cancer"},{name:"Altarf",ra:8.275,dec:9.19,magnitude:3.53,spectralType:"K",constellation:"Cancer"},{name:"Fomalhaut",ra:22.961,dec:-29.62,magnitude:1.16,spectralType:"A",constellation:"Piscis Austrinus"},{name:"Capella",ra:5.278,dec:45.99,magnitude:.08,spectralType:"G",constellation:"Auriga"},{name:"Menkalinan",ra:5.993,dec:44.95,magnitude:1.9,spectralType:"A",constellation:"Auriga"},{name:"Algol",ra:3.138,dec:40.96,magnitude:2.1,spectralType:"B",constellation:"Perseus"},{name:"Mirfak",ra:3.405,dec:49.86,magnitude:1.79,spectralType:"F",constellation:"Perseus"},{name:"Almaaz",ra:5.252,dec:43.19,magnitude:2.6,spectralType:"G",constellation:"Auriga"},{name:"Muliphein",ra:6.641,dec:-27.04,magnitude:4.33,spectralType:"G",constellation:"Canis Major"},{name:"Achernar",ra:1.628,dec:-57.24,magnitude:.46,spectralType:"B",constellation:"Eridanus"},{name:"Cursa",ra:1.629,dec:-8.9,magnitude:2.76,spectralType:"A",constellation:"Eridanus"},{name:"Alphard",ra:9.273,dec:-8.66,magnitude:1.99,spectralType:"K",constellation:"Hydra"},{name:"Eltanin",ra:17.944,dec:51.49,magnitude:2.24,spectralType:"K",constellation:"Draco"},{name:"Rastaban",ra:17.656,dec:52.71,magnitude:2.79,spectralType:"G",constellation:"Draco"},{name:"Nodus Secundus Draconis",ra:19.207,dec:67.66,magnitude:4.84,spectralType:"K",constellation:"Draco"},{name:"Alderamin",ra:21.315,dec:62.59,magnitude:2.44,spectralType:"A",constellation:"Cepheus"},{name:"Alfirk",ra:21.449,dec:62.59,magnitude:3.21,spectralType:"B",constellation:"Cepheus"},{name:"Deneb Kaitos",ra:.727,dec:-17.99,magnitude:2.04,spectralType:"K",constellation:"Cetus"},{name:"Menkar",ra:3.048,dec:4.09,magnitude:2.54,spectralType:"M",constellation:"Cetus"},{name:"Ras Alhague",ra:17.483,dec:12.56,magnitude:2.08,spectralType:"A",constellation:"Ophiuchus"},{name:"Sabik",ra:17.173,dec:-15.73,magnitude:2.43,spectralType:"A",constellation:"Ophiuchus"},{name:"Unukalhai",ra:15.743,dec:6.43,magnitude:2.65,spectralType:"K",constellation:"Serpens"},{name:"Ras Algethi",ra:17.246,dec:14.39,magnitude:3.48,spectralType:"M",constellation:"Hercules"},{name:"Kornephoros",ra:16.688,dec:31.6,magnitude:2.81,spectralType:"G",constellation:"Hercules"},{name:"Arneb",ra:5.544,dec:-17.82,magnitude:2.58,spectralType:"F",constellation:"Lepus"},{name:"Nihal",ra:5.128,dec:-20.76,magnitude:2.81,spectralType:"G",constellation:"Lepus"},{name:"Beta Monocerotis",ra:6.401,dec:9.55,magnitude:3.93,spectralType:"K",constellation:"Monoceros"},{name:"Alphecca",ra:15.857,dec:26.71,magnitude:2.24,spectralType:"A",constellation:"Corona Borealis"},{name:"Gienah Corvus",ra:12.262,dec:-17.54,magnitude:2.59,spectralType:"B",constellation:"Corvus"},{name:"Kraz",ra:12.566,dec:-16.19,magnitude:2.65,spectralType:"B",constellation:"Corvus"},{name:"Naos",ra:8.066,dec:-40,magnitude:2.25,spectralType:"O",constellation:"Puppis"},{name:"Ahchita",ra:7.62,dec:-43.3,magnitude:2.71,spectralType:"K",constellation:"Puppis"},{name:"Gamma Velorum",ra:8.961,dec:-47.37,magnitude:1.83,spectralType:"O",constellation:"Vela"},{name:"Delta Velorum",ra:8.746,dec:-54.71,magnitude:1.93,spectralType:"A",constellation:"Vela"},{name:"Phact",ra:5.92,dec:-35.77,magnitude:2.64,spectralType:"B",constellation:"Columba"},{name:"Alpha Tucanae",ra:22.301,dec:-60.26,magnitude:2.86,spectralType:"K",constellation:"Tucana"},{name:"Peacock",ra:20.427,dec:-56.74,magnitude:1.94,spectralType:"B",constellation:"Pavo"},{name:"Alpha Indi",ra:20.638,dec:-47.29,magnitude:3.11,spectralType:"K",constellation:"Indus"},{name:"Alpha Lupi",ra:14.984,dec:-47.39,magnitude:2.3,spectralType:"B",constellation:"Lupus"},{name:"Gamma Normae",ra:16.2,dec:-50.15,magnitude:4.02,spectralType:"B",constellation:"Norma"},{name:"Alpha Arae",ra:17.531,dec:-49.88,magnitude:2.95,spectralType:"B",constellation:"Ara"},{name:"Beta Arae",ra:17.421,dec:-55.53,magnitude:2.85,spectralType:"K",constellation:"Ara"},{name:"Beta Trianguli",ra:2.158,dec:34.99,magnitude:3,spectralType:"A",constellation:"Triangulum"},{name:"Alpha Trianguli",ra:1.885,dec:29.58,magnitude:3.41,spectralType:"F",constellation:"Triangulum"},{name:"Gamma Trianguli",ra:2.289,dec:33.85,magnitude:4.01,spectralType:"A",constellation:"Triangulum"},{name:"Rotanev",ra:20.625,dec:14.6,magnitude:3.63,spectralType:"F",constellation:"Delphinus"},{name:"Sualocin",ra:20.66,dec:15.91,magnitude:3.77,spectralType:"B",constellation:"Delphinus"},{name:"Gamma Sagittae",ra:19.979,dec:19.49,magnitude:3.47,spectralType:"K",constellation:"Sagitta"},{name:"Delta Sagittae",ra:19.781,dec:18.53,magnitude:3.68,spectralType:"M",constellation:"Sagitta"},{name:"Alpha Vulpeculae",ra:19.479,dec:24.66,magnitude:4.44,spectralType:"M",constellation:"Vulpecula"},{name:"Kitalpha",ra:21.263,dec:10.13,magnitude:3.92,spectralType:"G",constellation:"Equuleus"},{name:"Alpha Lacertae",ra:22.521,dec:50.28,magnitude:3.77,spectralType:"A",constellation:"Lacerta"},{name:"Cor Caroli",ra:12.934,dec:38.32,magnitude:2.9,spectralType:"A",constellation:"Canes Venatici"},{name:"Chara",ra:12.563,dec:41.36,magnitude:4.24,spectralType:"G",constellation:"Canes Venatici"},{name:"Beta Comae Berenices",ra:13.197,dec:27.88,magnitude:4.26,spectralType:"G",constellation:"Coma Berenices"},{name:"Alpha Comae Berenices",ra:13.167,dec:17.53,magnitude:4.32,spectralType:"F",constellation:"Coma Berenices"},{name:"Alpha Coronae Australis",ra:19.158,dec:-37.9,magnitude:4.11,spectralType:"A",constellation:"Corona Australis"},{name:"Beta Coronae Australis",ra:19.167,dec:-39.34,magnitude:4.11,spectralType:"K",constellation:"Corona Australis"},{name:"Delta Crateris",ra:11.322,dec:-14.78,magnitude:3.56,spectralType:"K",constellation:"Crater"},{name:"Alpha Crateris",ra:10.996,dec:-18.3,magnitude:4.08,spectralType:"K",constellation:"Crater"},{name:"Alpha Sextantis",ra:10.132,dec:-.37,magnitude:4.49,spectralType:"A",constellation:"Sextans"},{name:"Praecipua",ra:10.887,dec:34.21,magnitude:3.83,spectralType:"G",constellation:"Leo Minor"},{name:"Beta Leonis Minoris",ra:10.465,dec:36.71,magnitude:4.21,spectralType:"G",constellation:"Leo Minor"},{name:"Alpha Lyncis",ra:9.35,dec:34.39,magnitude:3.13,spectralType:"K",constellation:"Lynx"},{name:"Beta Camelopardalis",ra:5.057,dec:60.44,magnitude:4.03,spectralType:"G",constellation:"Camelopardalis"},{name:"Alpha Sculptoris",ra:.976,dec:-29.36,magnitude:4.3,spectralType:"B",constellation:"Sculptor"},{name:"Alpha Fornacis",ra:3.201,dec:-28.99,magnitude:3.87,spectralType:"F",constellation:"Fornax"},{name:"Alpha Caeli",ra:4.676,dec:-41.86,magnitude:4.45,spectralType:"F",constellation:"Caelum"},{name:"Alpha Horologii",ra:4.233,dec:-42.29,magnitude:3.86,spectralType:"K",constellation:"Horologium"},{name:"Alpha Doradus",ra:4.567,dec:-55.04,magnitude:3.27,spectralType:"A",constellation:"Dorado"},{name:"Beta Doradus",ra:5.56,dec:-62.49,magnitude:3.46,spectralType:"F",constellation:"Dorado"},{name:"Alpha Pictoris",ra:6.803,dec:-61.94,magnitude:3.27,spectralType:"A",constellation:"Pictor"},{name:"Beta Volantis",ra:8.43,dec:-66.4,magnitude:3.77,spectralType:"K",constellation:"Volans"},{name:"Gamma Volantis",ra:7.144,dec:-70.5,magnitude:3.78,spectralType:"K",constellation:"Volans"},{name:"Canopus",ra:6.399,dec:-52.7,magnitude:-.72,spectralType:"F",constellation:"Carina"},{name:"Miaplacidus",ra:9.22,dec:-69.72,magnitude:1.68,spectralType:"A",constellation:"Carina"},{name:"Avior",ra:8.375,dec:-59.51,magnitude:1.86,spectralType:"K",constellation:"Carina"},{name:"Alpha Chamaeleontis",ra:8.308,dec:-76.92,magnitude:4.07,spectralType:"F",constellation:"Chamaeleon"},{name:"Alpha Apodis",ra:14.798,dec:-79.04,magnitude:3.83,spectralType:"K",constellation:"Apus"},{name:"Alpha Muscae",ra:12.619,dec:-69.14,magnitude:2.69,spectralType:"B",constellation:"Musca"},{name:"Beta Muscae",ra:12.771,dec:-68.11,magnitude:3.05,spectralType:"B",constellation:"Musca"},{name:"Alpha Circini",ra:14.709,dec:-64.97,magnitude:3.19,spectralType:"F",constellation:"Circinus"},{name:"Atria",ra:16.811,dec:-69.03,magnitude:1.92,spectralType:"K",constellation:"Triangulum Australe"},{name:"Beta Trianguli Australis",ra:15.919,dec:-63.43,magnitude:2.85,spectralType:"F",constellation:"Triangulum Australe"},{name:"Gamma Trianguli Australis",ra:15.315,dec:-68.68,magnitude:2.89,spectralType:"A",constellation:"Triangulum Australe"},{name:"Alpha Telescopii",ra:18.45,dec:-45.97,magnitude:3.51,spectralType:"B",constellation:"Telescopium"},{name:"Nu Octantis",ra:21.685,dec:-77.39,magnitude:3.76,spectralType:"K",constellation:"Octans"},{name:"Beta Hydri",ra:.426,dec:-77.25,magnitude:2.8,spectralType:"G",constellation:"Hydrus"},{name:"Alpha Hydri",ra:1.979,dec:-61.57,magnitude:2.86,spectralType:"F",constellation:"Hydrus"},{name:"Alpha Mensae",ra:6.17,dec:-74.75,magnitude:5.09,spectralType:"G",constellation:"Mensa"},{name:"Alpha Reticuli",ra:4.24,dec:-62.47,magnitude:3.35,spectralType:"G",constellation:"Reticulum"},{name:"Alnair",ra:22.137,dec:-46.96,magnitude:1.74,spectralType:"B",constellation:"Grus"},{name:"Beta Gruis",ra:22.711,dec:-46.88,magnitude:2.11,spectralType:"M",constellation:"Grus"},{name:"Ankaa",ra:.438,dec:-42.31,magnitude:2.39,spectralType:"K",constellation:"Phoenix"},{name:"Gamma Microscopii",ra:21.025,dec:-32.26,magnitude:4.67,spectralType:"G",constellation:"Microscopium"},{name:"Alpha Scuti",ra:18.586,dec:-8.24,magnitude:3.85,spectralType:"K",constellation:"Scutum"},{name:"Alpha Antliae",ra:10.452,dec:-31.07,magnitude:4.25,spectralType:"K",constellation:"Antlia"},{name:"Alpha Pyxidis",ra:8.726,dec:-33.19,magnitude:3.68,spectralType:"B",constellation:"Pyxis"}],ca=[{name:"Ursa Major",starNames:[["Dubhe","Merak"],["Merak","Phecda"],["Phecda","Megrez"],["Megrez","Dubhe"],["Megrez","Alioth"],["Alioth","Mizar"],["Mizar","Alkaid"]]},{name:"Orion",starNames:[["Betelgeuse","Bellatrix"],["Betelgeuse","Mintaka"],["Bellatrix","Mintaka"],["Mintaka","Alnilam"],["Alnilam","Alnitak"],["Alnitak","Saiph"],["Saiph","Rigel"],["Rigel","Mintaka"]]},{name:"Scorpius",starNames:[["Dschubba","Antares"],["Antares","Shaula"],["Shaula","Sargas"]]},{name:"Leo",starNames:[["Regulus","Algieba"],["Algieba","Zosma"],["Zosma","Denebola"],["Denebola","Regulus"]]},{name:"Cygnus",starNames:[["Deneb","Sadr"],["Sadr","Albireo"],["Sadr","Gienah"]]},{name:"Lyra",starNames:[["Vega","Sheliak"],["Sheliak","Sulafat"],["Sulafat","Vega"]]},{name:"Aquila",starNames:[["Altair","Tarazed"],["Altair","Alshain"]]},{name:"Cassiopeia",starNames:[["Caph","Schedar"],["Schedar","Navi"],["Navi","Ruchbah"],["Ruchbah","Segin"]]},{name:"Taurus",starNames:[["Aldebaran","Elnath"],["Aldebaran","Alcyone"]]},{name:"Gemini",starNames:[["Castor","Pollux"],["Pollux","Alhena"],["Castor","Mebsuta"]]},{name:"Canis Major",starNames:[["Sirius","Mirzam"],["Sirius","Adhara"],["Adhara","Wezen"]]},{name:"Canis Minor",starNames:[["Procyon","Gomeisa"]]},{name:"Virgo",starNames:[["Spica","Porrima"],["Porrima","Vindemiatrix"]]},{name:"Boötes",starNames:[["Arcturus","Izar"],["Arcturus","Muphrid"]]},{name:"Crux",starNames:[["Acrux","Gacrux"],["Mimosa","Gacrux"]]},{name:"Ursa Minor",starNames:[["Polaris","Kochab"],["Kochab","Pherkad"]]},{name:"Andromeda",starNames:[["Alpheratz","Mirach"],["Mirach","Almach"]]},{name:"Pegasus",starNames:[["Markab","Scheat"],["Scheat","Alpheratz"],["Alpheratz","Algenib"],["Algenib","Markab"]]},{name:"Sagittarius",starNames:[["Kaus Australis","Kaus Media"],["Kaus Media","Kaus Borealis"],["Kaus Borealis","Nunki"],["Nunki","Ascella"],["Ascella","Kaus Australis"]]},{name:"Aries",starNames:[["Hamal","Sheratan"],["Sheratan","Mesarthim"]]},{name:"Aquarius",starNames:[["Sadalsuud","Sadalmelik"],["Sadalmelik","Sadaltager"]]},{name:"Capricornus",starNames:[["Deneb Algedi","Dabih"],["Dabih","Nashira"]]},{name:"Libra",starNames:[["Zubeneschamali","Zubenelgenubi"],["Zubenelgenubi","Zuben Elakrab"]]},{name:"Cancer",starNames:[["Acubens","Altarf"]]},{name:"Pisces",starNames:[["Eta Piscium","Alrescha"],["Alrescha","Fum al Samakah"]]},{name:"Piscis Austrinus",starNames:[["Fomalhaut","Fomalhaut"]]},{name:"Auriga",starNames:[["Capella","Menkalinan"],["Menkalinan","Almaaz"],["Almaaz","Capella"]]},{name:"Perseus",starNames:[["Mirfak","Algol"]]},{name:"Eridanus",starNames:[["Achernar","Cursa"]]},{name:"Hydra",starNames:[["Alphard","Alphard"]]},{name:"Draco",starNames:[["Eltanin","Rastaban"],["Rastaban","Nodus Secundus Draconis"]]},{name:"Cepheus",starNames:[["Alderamin","Alfirk"]]},{name:"Cetus",starNames:[["Deneb Kaitos","Menkar"]]},{name:"Ophiuchus",starNames:[["Ras Alhague","Sabik"]]},{name:"Serpens",starNames:[["Unukalhai","Unukalhai"]]},{name:"Hercules",starNames:[["Ras Algethi","Kornephoros"]]},{name:"Lepus",starNames:[["Arneb","Nihal"]]},{name:"Corona Borealis",starNames:[["Alphecca","Alphecca"]]},{name:"Corvus",starNames:[["Gienah Corvus","Kraz"]]},{name:"Puppis",starNames:[["Naos","Ahchita"]]},{name:"Vela",starNames:[["Gamma Velorum","Delta Velorum"]]},{name:"Columba",starNames:[["Phact","Phact"]]},{name:"Centaurus",starNames:[["Alpha Centauri","Hadar"],["Hadar","Menkent"]]},{name:"Tucana",starNames:[["Alpha Tucanae","Alpha Tucanae"]]},{name:"Pavo",starNames:[["Peacock","Peacock"]]},{name:"Indus",starNames:[["Alpha Indi","Alpha Indi"]]},{name:"Lupus",starNames:[["Alpha Lupi","Alpha Lupi"]]},{name:"Norma",starNames:[["Gamma Normae","Gamma Normae"]]},{name:"Ara",starNames:[["Alpha Arae","Beta Arae"]]},{name:"Triangulum",starNames:[["Beta Trianguli","Alpha Trianguli"],["Alpha Trianguli","Gamma Trianguli"],["Gamma Trianguli","Beta Trianguli"]]},{name:"Delphinus",starNames:[["Rotanev","Sualocin"]]},{name:"Sagitta",starNames:[["Gamma Sagittae","Delta Sagittae"]]},{name:"Vulpecula",starNames:[["Alpha Vulpeculae","Alpha Vulpeculae"]]},{name:"Equuleus",starNames:[["Kitalpha","Kitalpha"]]},{name:"Lacerta",starNames:[["Alpha Lacertae","Alpha Lacertae"]]},{name:"Canes Venatici",starNames:[["Cor Caroli","Chara"]]},{name:"Coma Berenices",starNames:[["Beta Comae Berenices","Alpha Comae Berenices"]]},{name:"Corona Australis",starNames:[["Alpha Coronae Australis","Beta Coronae Australis"]]},{name:"Crater",starNames:[["Delta Crateris","Alpha Crateris"]]},{name:"Sextans",starNames:[["Alpha Sextantis","Alpha Sextantis"]]},{name:"Leo Minor",starNames:[["Praecipua","Beta Leonis Minoris"]]},{name:"Lynx",starNames:[["Alpha Lyncis","Alpha Lyncis"]]},{name:"Camelopardalis",starNames:[["Beta Camelopardalis","Beta Camelopardalis"]]},{name:"Sculptor",starNames:[["Alpha Sculptoris","Alpha Sculptoris"]]},{name:"Fornax",starNames:[["Alpha Fornacis","Alpha Fornacis"]]},{name:"Caelum",starNames:[["Alpha Caeli","Alpha Caeli"]]},{name:"Horologium",starNames:[["Alpha Horologii","Alpha Horologii"]]},{name:"Dorado",starNames:[["Alpha Doradus","Beta Doradus"]]},{name:"Pictor",starNames:[["Alpha Pictoris","Alpha Pictoris"]]},{name:"Volans",starNames:[["Beta Volantis","Gamma Volantis"]]},{name:"Carina",starNames:[["Canopus","Miaplacidus"],["Miaplacidus","Avior"],["Avior","Canopus"]]},{name:"Chamaeleon",starNames:[["Alpha Chamaeleontis","Alpha Chamaeleontis"]]},{name:"Apus",starNames:[["Alpha Apodis","Alpha Apodis"]]},{name:"Musca",starNames:[["Alpha Muscae","Beta Muscae"]]},{name:"Circinus",starNames:[["Alpha Circini","Alpha Circini"]]},{name:"Triangulum Australe",starNames:[["Atria","Beta Trianguli Australis"],["Beta Trianguli Australis","Gamma Trianguli Australis"],["Gamma Trianguli Australis","Atria"]]},{name:"Telescopium",starNames:[["Alpha Telescopii","Alpha Telescopii"]]},{name:"Octans",starNames:[["Nu Octantis","Nu Octantis"]]},{name:"Hydrus",starNames:[["Beta Hydri","Alpha Hydri"]]},{name:"Mensa",starNames:[["Alpha Mensae","Alpha Mensae"]]},{name:"Reticulum",starNames:[["Alpha Reticuli","Alpha Reticuli"]]},{name:"Grus",starNames:[["Alnair","Beta Gruis"]]},{name:"Phoenix",starNames:[["Ankaa","Ankaa"]]},{name:"Microscopium",starNames:[["Gamma Microscopii","Gamma Microscopii"]]},{name:"Scutum",starNames:[["Alpha Scuti","Alpha Scuti"]]},{name:"Antlia",starNames:[["Alpha Antliae","Alpha Antliae"]]},{name:"Pyxis",starNames:[["Alpha Pyxidis","Alpha Pyxidis"]]},{name:"Monoceros",starNames:[["Beta Monocerotis","Beta Monocerotis"]]}];function da(e){return{O:"#9bb0ff",B:"#aabfff",A:"#cad7ff",F:"#f8f7ff",G:"#fff4ea",K:"#ffd2a1",M:"#ffcc6f"}[e]||"#ffffff"}const ma={Mercury:{a:.3871,e:.20563,i:7.005,omega:77.456,Omega:48.331,L0:252.251,n:4.09233445},Venus:{a:.72333,e:.00677,i:3.395,omega:131.564,Omega:76.68,L0:181.98,n:1.60213034},Mars:{a:1.52368,e:.0934,i:1.85,omega:336.041,Omega:49.558,L0:355.453,n:.52402068},Jupiter:{a:5.2026,e:.04849,i:1.303,omega:14.754,Omega:100.464,L0:34.404,n:.08308529},Saturn:{a:9.55491,e:.05551,i:2.489,omega:92.432,Omega:113.666,L0:50.077,n:.03344414},Uranus:{a:19.21845,e:.0463,i:.773,omega:170.964,Omega:74.006,L0:314.055,n:.01172834},Neptune:{a:30.11039,e:.00899,i:1.77,omega:44.971,Omega:131.784,L0:304.349,n:.00598103}};function ua(e){let a=e.getUTCFullYear(),t=e.getUTCMonth()+1;const n=e.getUTCDate()+e.getUTCHours()/24+e.getUTCMinutes()/1440+e.getUTCSeconds()/86400;t<=2&&(a-=1,t+=12);const s=Math.floor(a/100),r=2-s+Math.floor(s/4);return Math.floor(365.25*(a+4716))+Math.floor(30.6001*(t+1))+n+r-1524.5}function ha(e){return e*Math.PI/180}function pa(e){for(;e<0;)e+=360;for(;e>=360;)e-=360;return e}function xa(e,a){const t=ma[e];if(!t)return{x:0,y:0,z:0};const n=a-2451545,s=pa(t.L0+t.n*n),r=function(e,a,t=1e-8){let n=e,s=1,r=0;for(;Math.abs(s)>t&&r<100;)s=(e-(n-a*Math.sin(n)))/(1-a*Math.cos(n)),n+=s,r++;return n}(ha(pa(s-t.omega)),t.e),o=2*Math.atan2(Math.sqrt(1+t.e)*Math.sin(r/2),Math.sqrt(1-t.e)*Math.cos(r/2)),i=t.a*(1-t.e*Math.cos(r)),l=i*Math.cos(o),c=i*Math.sin(o),d=t.omega-t.Omega,m=Math.cos(ha(d)),u=Math.sin(ha(d)),h=Math.cos(ha(t.Omega)),p=Math.sin(ha(t.Omega)),x=Math.cos(ha(t.i)),g=Math.sin(ha(t.i));return{x:(h*m-p*u*x)*l+(-h*u-p*m*x)*c,y:(p*m+h*u*x)*l+(-p*u+h*m*x)*c,z:u*g*l+m*g*c}}function ga(e,a,t){const n=ha(23.439),s=e,r=a*Math.cos(n)-t*Math.sin(n),o=a*Math.sin(n)+t*Math.cos(n),i=Math.hypot(s,r,o),l=180*Math.asin(o/i)/Math.PI;let c=180*Math.atan2(r,s)/Math.PI;return c<0&&(c+=360),c/=15,{ra:c,dec:l}}const fa={Mercury:"#b5b5b5",Venus:"#e6e6ac",Mars:"#e27b58",Jupiter:"#d8ca9d",Saturn:"#ead6b8",Uranus:"#b4d9e8",Neptune:"#5b5ddf"};function ya(e,a,t){return pa(180*Math.atan2(a,e)/Math.PI)}function ba(e=new Date){const a=ua(e),t=function(e){const a=e-2451545,t=pa(100.46435+.9856474*a),n=pa(357.528+.9856003*a),s=pa(t+1.915*Math.sin(ha(n))+.02*Math.sin(ha(2*n))),r=1.00014-.01671*Math.cos(ha(n))-14e-5*Math.cos(ha(2*n));return{x:r*Math.cos(ha(s)),y:r*Math.sin(ha(s)),z:0}}(a),n=[];for(const s of Object.keys(ma)){const e=xa(s,a),r=e.x-t.x,o=e.y-t.y,i=e.z-t.z,l=Math.hypot(r,o,i),{ra:c,dec:d}=ga(r,o,i),m=ya(r,o);n.push({name:s,ra:c,dec:d,distance:l,color:fa[s]||"#ffffff",eclipticLongitude:m})}return n}function ja(e=new Date){const a=ua(e)-2451545,t=pa(218.316+13.176396*a),n=pa(134.963+13.064993*a),s=pa(93.272+13.22935*a),r=pa(t+6.289*Math.sin(ha(n))),o=5.128*Math.sin(ha(s)),i=385001-20905*Math.cos(ha(n)),l=ha(23.439),c=ha(r),d=ha(o),m=180*Math.atan2(Math.sin(c)*Math.cos(l)-Math.tan(d)*Math.sin(l),Math.cos(c))/Math.PI;return{name:"Moon",ra:(m<0?m+360:m)/15,dec:180*Math.asin(Math.sin(d)*Math.cos(l)+Math.cos(d)*Math.sin(l)*Math.sin(c))/Math.PI,distance:i/149597870.7,color:"#f4f4f4",eclipticLongitude:r}}function Ma(e=new Date){const a=ua(e)-2451545,t=pa(357.529+.98560028*a),n=pa(280.459+.98564736*a),s=pa(n+1.915*Math.sin(ha(t))+.02*Math.sin(ha(2*t))),r=ha(23.439-36e-8*a),o=ha(s),i=180*Math.atan2(Math.cos(r)*Math.sin(o),Math.cos(o))/Math.PI;return{name:"Sun",ra:(i<0?i+360:i)/15,dec:180*Math.asin(Math.sin(r)*Math.sin(o))/Math.PI,distance:1,color:"#ffdd44",eclipticLongitude:s}}function wa(e,a,t,n,s,r=100){const o=e/24*2*Math.PI,i=a*Math.PI/180,l=n*Math.PI/180,c=function(e){let a=e.getUTCFullYear(),t=e.getUTCMonth()+1;const n=e.getUTCDate()+e.getUTCHours()/24+e.getUTCMinutes()/1440+e.getUTCSeconds()/86400;t<=2&&(a-=1,t+=12);const s=Math.floor(a/100),r=2-s+Math.floor(s/4),o=Math.floor(365.25*(a+4716))+Math.floor(30.6001*(t+1))+n+r-1524.5;return o}(t),d=(c-2451545)/36525;let m=280.46061837+360.98564736629*(c-2451545)+387933e-9*d*d-d*d*d/3871e4;m=function(e){let a=e%360;a<0&&(a+=360);return a}(m)/15,m=Aa(m);const u=Aa(m+s/15)/24*2*Math.PI-o,h=Math.cos(i)*Math.sin(u),p=Math.cos(i)*Math.cos(u)*Math.sin(l)-Math.sin(i)*Math.cos(l);return[r*h,r*(Math.cos(i)*Math.cos(u)*Math.cos(l)+Math.sin(i)*Math.sin(l)),-r*p]}function Aa(e){let a=e;for(;a<0;)a+=24;for(;a>=24;)a-=24;return a}function Na({star:e,radius:a,showLabels:s,showGlow:r,date:o,location:i,showAboveHorizon:l=!0,showBelowHorizon:c=!0,showNakshatraRings:d=!0}){const m=t.useRef(null),u=t.useRef(null),h=t.useRef(null),p=t.useRef(null),x=t.useRef(null),[g,f]=t.useState(!1),y=wa(e.ra,e.dec,o,i.latitude,i.longitude,a),b=da(e.spectralType),j=.8+.3*(2-e.magnitude);const M=t.useMemo(()=>{const e=new Ce,a=new Float32Array([0,0,0]);return e.setAttribute("position",new Se(a,3)),e},[]),w=t.useMemo(()=>{const e=document.createElement("canvas");e.width=64,e.height=64;const a=e.getContext("2d");if(!a)return new Te({size:8*j,transparent:!0,opacity:.4,blending:ke,color:new Pe(b),depthWrite:!1,sizeAttenuation:!0});const t=a.createRadialGradient(32,32,0,32,32,32);t.addColorStop(0,"rgba(255, 255, 255, 1)"),t.addColorStop(.2,"rgba(255, 255, 255, 0.6)"),t.addColorStop(.5,"rgba(255, 255, 255, 0.2)"),t.addColorStop(1,"rgba(255, 255, 255, 0)"),a.fillStyle=t,a.fillRect(0,0,64,64);const n=new ze(e);return new Te({size:8*j,map:n,transparent:!0,opacity:.4,blending:ke,color:new Pe(b),depthWrite:!1,sizeAttenuation:!0})},[b,j]);return t.useEffect(()=>{if(!m.current||u.current)return;const e=new Ee(j,8,8),a=new Le({color:b}),t=new Fe(e,a);u.current=t,m.current.add(t)},[b,j]),t.useEffect(()=>{if(m.current)if(r&&!h.current){const e=new Oe(M,w);h.current=e,m.current.add(e)}else!r&&h.current&&(m.current.remove(h.current),h.current=null)},[r,M,w]),t.useEffect(()=>{if(m.current)if(e.nakshatra&&d){if(!p.current){const e=new Re(2.5*j,.3*j,8,32),a=new Le({color:"#ffaa00",transparent:!0,opacity:.6}),t=new Fe(e,a);t.rotation.set(Math.PI/2,0,0),p.current=t,m.current.add(t)}if(!x.current){const e=new Be(1.5*j,3.5*j,32),a=new Le({transparent:!0,opacity:0}),t=new Fe(e,a);t.rotation.set(Math.PI/2,0,0),x.current=t,m.current.add(t)}}else p.current&&(m.current.remove(p.current),p.current=null),x.current&&(m.current.remove(x.current),x.current=null)},[e.nakshatra,d,j]),t.useEffect(()=>{m.current&&m.current.position.set(y[0],y[1],y[2])},[y]),t.useEffect(()=>{const e=()=>f(!0),a=()=>f(!1);return u.current&&(u.current.addEventListener("pointerover",e),u.current.addEventListener("pointerout",a)),x.current&&(x.current.addEventListener("pointerover",e),x.current.addEventListener("pointerout",a)),()=>{u.current&&(u.current.removeEventListener("pointerover",e),u.current.removeEventListener("pointerout",a)),x.current&&(x.current.removeEventListener("pointerover",e),x.current.removeEventListener("pointerout",a))}},[]),De(a=>{if(u.current){const t=.8+.2*Math.sin(2*a.clock.elapsedTime+10*e.ra);u.current.scale.setScalar(j*t)}if(h.current&&w){const t=.8+.2*Math.sin(1.5*a.clock.elapsedTime+5*e.dec);w.size=8*j*t}}),!l&&y[1]>0||!c&&y[1]<0?null:n.jsx("group",{ref:m,children:(s||g)&&e.magnitude<2&&n.jsx(Ie,{position:[0,4*j,0],center:!0,zIndexRange:[0,1e3],style:{color:"#ffffff",fontSize:g?"10px":"8px",fontFamily:"Space Mono, monospace",whiteSpace:"nowrap",pointerEvents:"none",textShadow:"0 0 3px rgba(0,0,0,0.9)",opacity:g?1:.7,backgroundColor:e.nakshatra?"rgba(255, 170, 0, 0.15)":"rgba(0, 0, 0, 0.4)",padding:"1px 4px",borderRadius:"2px",backdropFilter:"blur(2px)",border:e.nakshatra?"1px solid rgba(255, 170, 0, 0.3)":"none"},children:n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1px"},children:[n.jsx("span",{children:e.name}),e.nakshatra&&g&&n.jsx("span",{style:{color:"#ffaa00",fontSize:"7px",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.3px"},children:e.nakshatra})]})})})}function va({planet:e,radius:a,showLabels:s,showGlow:r,date:o,location:i,showAboveHorizon:l=!0,showBelowHorizon:c=!0}){const d=t.useRef(null),m=t.useRef(null),u=t.useRef(null),[h,p]=t.useState(!1),x=wa(e.ra,e.dec,o,i.latitude,i.longitude,a);let g=1.5;"Sun"===e.name?g=3:"Moon"===e.name&&(g=2.5);const f=t.useMemo(()=>{const e=new Ce,a=new Float32Array([0,0,0]);return e.setAttribute("position",new Se(a,3)),e},[]),y=t.useMemo(()=>{const a=document.createElement("canvas");a.width=128,a.height=128;const t=a.getContext("2d");if(!t)return new Te({size:12*g,transparent:!0,opacity:.5,blending:ke,color:new Pe(e.color),depthWrite:!1,sizeAttenuation:!0});const n=t.createRadialGradient(64,64,0,64,64,64);n.addColorStop(0,"rgba(255, 255, 255, 1)"),n.addColorStop(.15,"rgba(255, 255, 255, 0.8)"),n.addColorStop(.3,"rgba(255, 255, 255, 0.4)"),n.addColorStop(.6,"rgba(255, 255, 255, 0.1)"),n.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=n,t.fillRect(0,0,128,128);const s=new ze(a);return new Te({size:12*g,map:s,transparent:!0,opacity:.5,blending:ke,color:new Pe(e.color),depthWrite:!1,sizeAttenuation:!0})},[e.color,g]);return t.useEffect(()=>{if(d.current){if(d.current.position.set(x[0],x[1],x[2]),!m.current){const a=new Ee(g,16,16),t=new Le({color:e.color}),n=new Fe(a,t);m.current=n,d.current.add(n)}if(r&&!u.current){const e=new Oe(f,y);u.current=e,d.current.add(e)}else!r&&u.current&&(d.current.remove(u.current),u.current=null)}},[x,e.color,g,r,f,y]),t.useEffect(()=>{const e=()=>p(!0),a=()=>p(!1);return m.current&&(m.current.addEventListener("pointerover",e),m.current.addEventListener("pointerout",a)),()=>{m.current&&(m.current.removeEventListener("pointerover",e),m.current.removeEventListener("pointerout",a))}},[]),De(e=>{if(u.current&&y){const a=1+.15*Math.sin(1.5*e.clock.elapsedTime);y.size=12*g*a}}),!l&&x[1]>0||!c&&x[1]<0?null:n.jsx("group",{ref:d,children:(s||h)&&n.jsx(Ie,{position:[0,4.5*g,0],center:!0,zIndexRange:[0,1e3],style:{color:e.color,fontSize:"11px",fontFamily:"Orbitron, sans-serif",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none",textShadow:`0 0 6px ${e.color}, 0 0 8px rgba(0,0,0,0.9)`,backgroundColor:"rgba(0, 0, 0, 0.6)",padding:"2px 6px",borderRadius:"3px",backdropFilter:"blur(3px)"},children:e.name})})}function Ca({radius:e,visible:a,date:s,location:r,showAboveHorizon:o=!0,showBelowHorizon:i=!0,showLabels:l=!0}){const c=t.useMemo(()=>{if(!a)return[];const t=new Map(la.map(e=>[e.name,e])),n=[];return ca.forEach(a=>{a.starNames.forEach(([l,c])=>{const d=t.get(l),m=t.get(c);if(d&&m){const t=wa(d.ra,d.dec,s,r.latitude,r.longitude,e),l=wa(m.ra,m.dec,s,r.latitude,r.longitude,e),c=new He(...t),u=new He(...l),h=c.y>0,p=u.y>0;if(!o&&h&&p)return;if(!i&&!h&&!p)return;n.push({points:[c,u],constellation:a.name})}})}),n},[e,a,s,r,o,i]),d=t.useMemo(()=>{if(!a||!l)return[];const t=new Map(la.map(e=>[e.name,e])),n=[];return ca.forEach(a=>{const l=new Set;a.starNames.forEach(([e,a])=>{l.add(e),e!==a&&l.add(a)});const c=[];if(l.forEach(a=>{const n=t.get(a);if(n){const a=wa(n.ra,n.dec,s,r.latitude,r.longitude,e);c.push(new He(...a))}}),c.length>0){const e=new He;c.forEach(a=>e.add(a)),e.divideScalar(c.length);const t=e.y>0;(o&&t||i&&!t)&&n.push({name:a.name,position:e})}}),n},[e,a,s,r,o,i,l]);return a?n.jsxs("group",{children:[c.map((e,a)=>n.jsx(Ge,{points:e.points,color:"#4a6fa5",lineWidth:1,dashed:!0,dashSize:2,gapSize:1.5,opacity:.6,transparent:!0},`line-${a}-${e.constellation}`)),l&&d.map((e,a)=>n.jsx(Ie,{position:e.position,center:!0,sprite:!0,zIndexRange:[0,1e3],style:{pointerEvents:"none",userSelect:"none"},children:n.jsx("div",{style:{color:"#4a9eff",fontSize:"11px",fontFamily:"Orbitron, sans-serif",fontWeight:"bold",whiteSpace:"nowrap",textShadow:"0 0 6px #4a9eff, 0 0 8px rgba(0,0,0,0.9)",backgroundColor:"rgba(0, 0, 0, 0.6)",padding:"2px 6px",borderRadius:"3px",backdropFilter:"blur(3px)"},children:e.name})},`label-${e.name}`))]}):null}const Sa=(e,a,t,n)=>{const s=[];for(let r=0;r<=24;r+=.1){const o=wa(r,e,t,n.latitude,n.longitude,a);s.push(new He(...o))}return s},Ta=(e,a,t)=>{const n=[],s=23.4*Math.PI/180;for(let r=0;r<=360;r+=1){const o=r*Math.PI/180,i=Math.cos(o),l=Math.sin(o),c=i,d=l*Math.cos(s),m=l*Math.sin(s),u=Math.hypot(c,d,m),h=180*Math.asin(m/u)/Math.PI;let p=180*Math.atan2(d,c)/Math.PI;p<0&&(p+=360),p/=15;const x=wa(p,h,a,t.latitude,t.longitude,e);n.push(new He(...x))}return n};function ka({radius:e,visible:a,opacity:s=.3,date:r,location:o,showAboveHorizon:i=!0,showBelowHorizon:l=!0,showHorizonLine:c=!0,showEquatorLine:d=!0,showEclipticLine:m=!0,showTropicOfCancer:u=!0,showTropicOfCapricorn:h=!0,showArcticCircle:p=!0,showAntarcticCircle:x=!0}){const{declinationLines:g,raLines:f,equator:y,ecliptic:b,tropicCancer:j,tropicCapricorn:M,arcticCircle:w,antarcticCircle:A,raLabels:N,decLabels:v}=t.useMemo(()=>{const{decLines:a,decLabelPositions:t}=((e,a,t)=>{const n=[],s=[];for(let r=-60;r<=60;r+=30){const o=[];for(let n=0;n<=24;n+=.5){const s=wa(n,r,a,t.latitude,t.longitude,e);o.push(new He(...s))}if(n.push(o),0!==r){const n=wa(0,r,a,t.latitude,t.longitude,e+3);s.push({position:new He(...n),label:`${r>0?"+":""}${r}°`})}}return{decLines:n,decLabelPositions:s}})(e,r,o),{rightAscensionLines:n,raLabelPositions:s}=((e,a,t)=>{const n=[],s=[];for(let r=0;r<24;r+=2){const o=[];for(let n=-90;n<=90;n+=5){const s=wa(r,n,a,t.latitude,t.longitude,e);o.push(new He(...s))}n.push(o);const i=wa(r,0,a,t.latitude,t.longitude,e+3);s.push({position:new He(...i),label:`${r}h`})}return{rightAscensionLines:n,raLabelPositions:s}})(e,r,o);return{declinationLines:a,raLines:n,equator:Sa(0,e,r,o),ecliptic:Ta(e,r,o),tropicCancer:Sa(23.5,e,r,o),tropicCapricorn:Sa(-23.5,e,r,o),arcticCircle:Sa(66.5,e,r,o),antarcticCircle:Sa(-66.5,e,r,o),raLabels:s,decLabels:t}},[e,r,o]);if(!a)return null;const C=`hsl(220, 40%, ${25+30*s}%)`;return n.jsxs("group",{children:[g.map((e,a)=>{const t=e.filter(e=>!(!i&&e.y>0)&&!(!l&&e.y<0));if(t.length<2)return null;const r=180*a/(g.length-1)-90;return n.jsx(Ge,{points:t,color:C,lineWidth:1,opacity:.6*s,transparent:!0},`dec-${r}`)}),f.map((e,a)=>{const t=e.filter(e=>!(!i&&e.y>0)&&!(!l&&e.y<0));if(t.length<2)return null;const r=24*a/f.length;return n.jsx(Ge,{points:t,color:C,lineWidth:1,opacity:.6*s,transparent:!0},`ra-${r}`)}),N.map((e,a)=>{if(!i&&e.position.y>0)return null;if(!l&&e.position.y<0)return null;const t=Math.atan2(e.position.x,-e.position.z);return n.jsx(Ue,{position:e.position,fontSize:2,color:"#6b8cba",anchorX:"center",anchorY:"middle",rotation:[0,t,0],children:e.label},`ra-label-${e.label}`)}),v.map((e,a)=>{if(!i&&e.position.y>0)return null;if(!l&&e.position.y<0)return null;const t=Math.atan2(e.position.x,-e.position.z);return n.jsx(Ue,{position:e.position,fontSize:2,color:"#6b8cba",anchorX:"center",anchorY:"middle",rotation:[0,t,0],children:e.label},`dec-label-${e.label}`)}),c&&n.jsx(Ge,{points:Array.from({length:181},(a,t)=>{const n=2*t*Math.PI/180;return new He(Math.cos(n)*e,0,Math.sin(n)*e)}),color:"#00ff88",lineWidth:5,opacity:s+.4,transparent:!0}),c&&n.jsx(Ue,{position:[e+5,0,.1*e],fontSize:2.8,color:"#00ff88",anchorX:"left",anchorY:"middle",children:"HORIZON"}),d&&n.jsx(Ge,{points:y,color:"#4a90d9",lineWidth:4,opacity:s+.3,transparent:!0}),d&&n.jsx(Ue,{position:[e+5,0,0],fontSize:2.5,color:"#4a90d9",anchorX:"left",anchorY:"middle",children:"EQUATOR 0°"}),m&&n.jsx(Ge,{points:b,color:"#d9a54a",lineWidth:2,opacity:s+.2,transparent:!0}),m&&n.jsx(Ue,{position:[e+5,e*Math.sin(23.4*Math.PI/180),0],fontSize:2,color:"#d9a54a",anchorX:"left",anchorY:"middle",children:"ECLIPTIC"}),u&&n.jsx(Ge,{points:j,color:"#ff8844",lineWidth:2,opacity:s+.2,transparent:!0}),u&&n.jsx(Ue,{position:[e+5,e*Math.sin(23.5*Math.PI/180),.1*e],fontSize:2,color:"#ff8844",anchorX:"left",anchorY:"middle",children:"Tropic of Cancer 23.5°N"}),h&&n.jsx(Ge,{points:M,color:"#ff8844",lineWidth:2,opacity:s+.2,transparent:!0}),h&&n.jsx(Ue,{position:[e+5,e*Math.sin(-23.5*Math.PI/180),.1*e],fontSize:2,color:"#ff8844",anchorX:"left",anchorY:"middle",children:"Tropic of Capricorn 23.5°S"}),p&&n.jsx(Ge,{points:w,color:"#88ddff",lineWidth:2,opacity:s+.2,transparent:!0}),p&&n.jsx(Ue,{position:[e+5,e*Math.sin(66.5*Math.PI/180),.1*e],fontSize:2,color:"#88ddff",anchorX:"left",anchorY:"middle",children:"Arctic Circle 66.5°N"}),x&&n.jsx(Ge,{points:A,color:"#88ddff",lineWidth:2,opacity:s+.2,transparent:!0}),x&&n.jsx(Ue,{position:[e+5,e*Math.sin(-66.5*Math.PI/180),.1*e],fontSize:2,color:"#88ddff",anchorX:"left",anchorY:"middle",children:"Antarctic Circle 66.5°S"}),i&&n.jsx(Ue,{position:[0,.8*e,0],fontSize:3,color:"#4a90d9",anchorX:"center",anchorY:"middle",fillOpacity:.8*s,children:"NORTHERN HEMISPHERE"}),l&&n.jsx(Ue,{position:[0,.8*-e,0],fontSize:3,color:"#4ecdc4",anchorX:"center",anchorY:"middle",fillOpacity:.8*s,children:"SOUTHERN HEMISPHERE"})]})}function Pa({latitude:e=0}){const a=t.useRef(null),s=t.useRef(null),r=e<0;return De(e=>{s.current&&(s.current.position.y=.1*Math.sin(.5*e.clock.elapsedTime))}),n.jsxs("group",{ref:a,position:[0,0,0],children:[n.jsxs("group",{scale:[.6,.6,.6],children:[n.jsxs("mesh",{position:[0,1.2,0],children:[n.jsx("sphereGeometry",{args:[.4,16,16]}),n.jsx("meshBasicMaterial",{color:"#ffeb3b"})]}),n.jsxs("mesh",{position:[0,.4,0],children:[n.jsx("boxGeometry",{args:[.6,.8,.4]}),n.jsx("meshBasicMaterial",{color:"#ffeb3b"}),n.jsxs("lineSegments",{children:[n.jsx("edgesGeometry",{attach:"geometry",args:[new We(.6,.8,.4)]}),n.jsx("lineBasicMaterial",{color:"#000000",linewidth:1})]})]}),n.jsxs("mesh",{position:[-.45,.4,0],children:[n.jsx("boxGeometry",{args:[.35,.8,.35]}),n.jsx("meshBasicMaterial",{color:"#ffeb3b"}),n.jsxs("lineSegments",{children:[n.jsx("edgesGeometry",{attach:"geometry",args:[new We(.35,.8,.35)]}),n.jsx("lineBasicMaterial",{color:"#000000",linewidth:1})]})]}),n.jsxs("mesh",{position:[.45,.4,0],children:[n.jsx("boxGeometry",{args:[.35,.8,.35]}),n.jsx("meshBasicMaterial",{color:"#ffeb3b"}),n.jsxs("lineSegments",{children:[n.jsx("edgesGeometry",{attach:"geometry",args:[new We(.35,.8,.35)]}),n.jsx("lineBasicMaterial",{color:"#000000",linewidth:1})]})]}),n.jsxs("mesh",{position:[-.2,-.35,0],children:[n.jsx("boxGeometry",{args:[.25,.7,.35]}),n.jsx("meshBasicMaterial",{color:"#ffeb3b"}),n.jsxs("lineSegments",{children:[n.jsx("edgesGeometry",{attach:"geometry",args:[new We(.25,.7,.35)]}),n.jsx("lineBasicMaterial",{color:"#000000",linewidth:1})]})]}),n.jsxs("mesh",{position:[.2,-.35,0],children:[n.jsx("boxGeometry",{args:[.25,.7,.35]}),n.jsx("meshBasicMaterial",{color:"#ffeb3b"}),n.jsxs("lineSegments",{children:[n.jsx("edgesGeometry",{attach:"geometry",args:[new We(.25,.7,.35)]}),n.jsx("lineBasicMaterial",{color:"#000000",linewidth:1})]})]})]}),n.jsxs("group",{ref:s,position:[0,-.5,0],rotation:r?[0,Math.PI,0]:[0,0,0],children:[n.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[n.jsx("torusGeometry",{args:[3.5,.08,8,64]}),n.jsx("meshBasicMaterial",{color:"#4a90d9",transparent:!0,opacity:.6})]}),n.jsxs("group",{position:[0,0,-3.5],children:[n.jsxs("mesh",{rotation:[-Math.PI/2,0,0],children:[n.jsx("coneGeometry",{args:[.25,.6,8]}),n.jsx("meshBasicMaterial",{color:"#4ecdc4"})]}),n.jsx(Ue,{position:[0,.8,0],fontSize:.6,color:"#4ecdc4",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,Math.PI,0],children:"S"}),n.jsx(Ue,{position:[0,.25,0],fontSize:.25,color:"#7eddd7",anchorX:"center",anchorY:"middle",maxWidth:1,children:"180°"})]}),n.jsxs("group",{position:[0,0,3.5],children:[n.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[n.jsx("coneGeometry",{args:[.25,.6,8]}),n.jsx("meshBasicMaterial",{color:"#ff6b6b"})]}),n.jsx(Ue,{position:[0,.8,0],fontSize:.6,color:"#ff6b6b",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,0,0],children:"N"}),n.jsx(Ue,{position:[0,.25,0],fontSize:.25,color:"#ff9999",anchorX:"center",anchorY:"middle",maxWidth:1,children:"0°"})]}),n.jsxs("group",{position:[3.5,0,0],children:[n.jsxs("mesh",{rotation:[0,0,-Math.PI/2],children:[n.jsx("coneGeometry",{args:[.25,.6,8]}),n.jsx("meshBasicMaterial",{color:"#ffe66d"})]}),n.jsx(Ue,{position:[0,.8,0],fontSize:.6,color:"#ffe66d",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,Math.PI/2,0],children:"E"}),n.jsx(Ue,{position:[0,.25,0],fontSize:.25,color:"#fff099",anchorX:"center",anchorY:"middle",maxWidth:1,children:"90°"})]}),n.jsxs("group",{position:[-3.5,0,0],children:[n.jsxs("mesh",{rotation:[0,0,Math.PI/2],children:[n.jsx("coneGeometry",{args:[.25,.6,8]}),n.jsx("meshBasicMaterial",{color:"#a8e6cf"})]}),n.jsx(Ue,{position:[0,.8,0],fontSize:.6,color:"#a8e6cf",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,-Math.PI/2,0],children:"W"}),n.jsx(Ue,{position:[0,.25,0],fontSize:.25,color:"#c4f0dc",anchorX:"center",anchorY:"middle",maxWidth:1,children:"270°"})]}),n.jsx("group",{position:[2.475,0,3.5],children:n.jsx(Ue,{position:[0,.6,0],fontSize:.35,color:"#bbbbbb",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,Math.PI/4,0],children:"NE"})}),n.jsx("group",{position:[2.475,0,-2.475],children:n.jsx(Ue,{position:[0,.6,0],fontSize:.35,color:"#bbbbbb",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,3*Math.PI/4,0],children:"SE"})}),n.jsx("group",{position:[-2.475,0,-2.475],children:n.jsx(Ue,{position:[0,.6,0],fontSize:.35,color:"#bbbbbb",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,5*Math.PI/4,0],children:"SW"})}),n.jsx("group",{position:[-2.475,0,3.5],children:n.jsx(Ue,{position:[0,.6,0],fontSize:.35,color:"#bbbbbb",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,7*Math.PI/4,0],children:"NW"})})]}),n.jsxs("group",{position:[0,5,0],children:[n.jsxs("mesh",{children:[n.jsx("sphereGeometry",{args:[.15,8,8]}),n.jsx("meshBasicMaterial",{color:"#ffffff",transparent:!0,opacity:.6})]}),n.jsx(Ue,{position:[.5,0,0],fontSize:.3,color:"#aaaaaa",anchorX:"left",anchorY:"middle",children:"Zenith"})]})]})}function za({radius:e,visible:a,opacity:s=.8}){const r=t.useMemo(()=>[{label:"N",position:new He(0,0,e),color:"#ff4444"},{label:"S",position:new He(0,0,-e),color:"#ffffff"},{label:"W",position:new He(e,0,0),color:"#4a90d9"},{label:"E",position:new He(-e,0,0),color:"#ffaa00"},{label:"NW",position:new He(.707*e,0,.707*e),color:"#88aaff"},{label:"NE",position:new He(.707*-e,0,.707*e),color:"#ffaaaa"},{label:"SW",position:new He(.707*e,0,.707*-e),color:"#aaccff"},{label:"SE",position:new He(.707*-e,0,.707*-e),color:"#ffdd88"}],[e]);return a?n.jsx("group",{children:r.map(e=>n.jsx(Ie,{position:e.position,center:!0,zIndexRange:[1e3,2e3],style:{color:e.color,fontSize:1===e.label.length?"24px":"16px",fontFamily:"Orbitron, sans-serif",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none",textShadow:`0 0 8px ${e.color}, 0 0 12px rgba(0,0,0,0.9), 0 0 4px ${e.color}`,opacity:s,backgroundColor:"rgba(0, 0, 0, 0.7)",padding:1===e.label.length?"6px 12px":"4px 8px",borderRadius:"4px",backdropFilter:"blur(4px)",border:`2px solid ${e.color}`,letterSpacing:"2px"},children:e.label},e.label))}):null}function Ea({date:e,showGrid:a,showConstellations:s,showLabels:r,showConstellationLabels:o=!0,showStarGlow:i,showPlanetGlow:l,gridOpacity:c,zoomLevel:d,location:m,firstPersonMode:u,showAboveHorizon:h=!0,showBelowHorizon:p=!0,showNakshatraRings:x=!0,showHorizonLine:g=!0,showEquatorLine:f=!0,showEclipticLine:y=!0,showTropicOfCancer:b=!0,showTropicOfCapricorn:j=!0,showArcticCircle:M=!0,showAntarcticCircle:w=!0,controlsRef:A}){const N=200,v=t.useRef(null),{camera:C,scene:S}=Ke(),T=A||v;t.useEffect(()=>{const e=new $e(16777215,.1);return S.add(e),()=>{S.remove(e)}},[S]),t.useEffect(()=>{const e=T.current;e&&(e.minPolarAngle=-1/0,e.maxPolarAngle=1/0,e.minAzimuthAngle=-1/0,e.maxAzimuthAngle=1/0,e.touches={ONE:Ve.ROTATE,TWO:Ve.DOLLY_PAN},e.enableDamping=!0,e.dampingFactor=.05,e.rotateSpeed=u?1:.6,e.zoomSpeed=1.2,e.panSpeed=0)},[u,T]),t.useEffect(()=>{if(C)if(u)C.position.set(0,0,0),C.lookAt(0,1,0),C.updateProjectionMatrix();else{const e=d,a=C.position.clone().normalize();C.position.copy(a.multiplyScalar(e)),C.updateProjectionMatrix()}},[d,C,u]);const k=t.useMemo(()=>[...ba(e),ja(e),Ma(e)],[e]);return n.jsxs(n.Fragment,{children:[n.jsx(_e,{ref:T,enablePan:!1,enableZoom:!u,enableRotate:!0,minDistance:5,maxDistance:500,rotateSpeed:u?1:.6,zoomSpeed:1.2,enableDamping:!0,dampingFactor:.05,mouseButtons:{LEFT:0,MIDDLE:1,RIGHT:2},touches:{ONE:0,TWO:2}}),n.jsx(Ye,{radius:400,depth:100,count:8e3,factor:4,saturation:0,fade:!0,speed:.3}),!u&&n.jsx(Pa,{latitude:m.latitude}),n.jsx(za,{radius:N,visible:!0,opacity:u?1:.6}),n.jsx(ka,{radius:N,visible:a,opacity:c,date:e,location:m,showAboveHorizon:h,showBelowHorizon:p,showHorizonLine:g,showEquatorLine:f,showEclipticLine:y,showTropicOfCancer:b,showTropicOfCapricorn:j,showArcticCircle:M,showAntarcticCircle:w}),n.jsx(Ca,{radius:N,visible:s,date:e,location:m,showAboveHorizon:h,showBelowHorizon:p,showLabels:o}),n.jsx(t.Suspense,{fallback:null,children:la.map(a=>n.jsx(Na,{star:a,radius:N,showLabels:r,showGlow:i,date:e,location:m,showAboveHorizon:h,showBelowHorizon:p,showNakshatraRings:x},a.name))}),n.jsx(t.Suspense,{fallback:null,children:k.map(a=>n.jsx(va,{planet:a,radius:N,showLabels:r,showGlow:l,date:e,location:m,showAboveHorizon:h,showBelowHorizon:p},a.name))})]})}const La=t.lazy(()=>ve(()=>import("./MapPicker-Dy2twQu6.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),Fa=(e,a)=>{const t=Math.round(a/15);return`UTC${t>=0?"+":""}${t}`};function Oa({date:e,onDateChange:a,showGrid:r,onShowGridChange:o,showConstellations:i,onShowConstellationsChange:l,showLabels:c,onShowLabelsChange:d,showConstellationLabels:m,onShowConstellationLabelsChange:u,showStarGlow:h,onShowStarGlowChange:W,showPlanetGlow:K,onShowPlanetGlowChange:$,gridOpacity:V,onGridOpacityChange:_,skyDarkness:Y,onSkyDarknessChange:q,zoomLevel:X,onZoomLevelChange:Z,location:J,onLocationChange:Q,onExportSVG:ee,firstPersonMode:ae,onFirstPersonModeChange:te,showCelestialInfo:ne,onShowCelestialInfoChange:se,showNakshatraPanel:re,onShowNakshatraPanelChange:oe,showSunMoonPanel:ie,onShowSunMoonPanelChange:le,isLive:ce,onLiveModeChange:de,showAboveHorizon:me,onShowAboveHorizonChange:ue,showBelowHorizon:he,onShowBelowHorizonChange:pe,showNakshatraRings:xe,onShowNakshatraRingsChange:ge,showHorizonLine:fe,onShowHorizonLineChange:ye,showEquatorLine:be,onShowEquatorLineChange:je,showEclipticLine:Me,onShowEclipticLineChange:we,showTropicOfCancer:Ae,onShowTropicOfCancerChange:Ne,showTropicOfCapricorn:ve,onShowTropicOfCapricornChange:Ce,showArcticCircle:Se,onShowArcticCircleChange:Te,showAntarcticCircle:ke,onShowAntarcticCircleChange:Pe,timeSpeed:ze,onTimeSpeedChange:Ee}){const[Le,Fe]=t.useState(!0),[Oe,Re]=t.useState(J.latitude.toString()),[Be,De]=t.useState(J.longitude.toString()),[Ie,He]=t.useState(!1),[Ge,Ue]=t.useState(1),[We,Ke]=t.useState("s"),[$e,Ve]=t.useState({dateTime:!0,location:!0,view:!1,display:!1,horizon:!1,export:!0}),_e=e=>{Ve(a=>({...a,[e]:!a[e]}))},Ye=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}T${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`,[qe,Xe]=t.useState(Ye(e)),Ze=(e,a)=>{Ue(e),Ke(a);const t=e*{s:1,m:60,h:3600,d:86400,y:31536e3}[a];Ee(t),1===t||ce||de(!0)};s.useEffect(()=>{Re(J.latitude.toString()),De(J.longitude.toString())},[J.latitude,J.longitude]),s.useEffect(()=>{Xe(Ye(e))},[e]);return n.jsxs(n.Fragment,{children:[!Le&&n.jsx(p,{variant:"outline",size:"icon",className:"fixed left-4 top-4 z-[9999] bg-card border-border shadow-lg",onClick:()=>Fe(!0),children:n.jsx(x,{className:"h-4 w-4"})}),n.jsx("div",{className:"fixed left-0 top-0 h-full z-[9998] transition-transform duration-300 "+(Le?"translate-x-0":"-translate-x-full"),children:n.jsxs("div",{className:"h-full w-80 sm:w-80 max-w-full bg-card border-r border-border shadow-2xl flex flex-col",children:[n.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[n.jsxs("h2",{className:"font-orbitron text-lg font-semibold text-foreground flex items-center gap-2",children:[n.jsx(x,{className:"h-5 w-5 text-primary"}),"Sky Map Settings"]}),n.jsx(p,{variant:"ghost",size:"icon",onClick:()=>Fe(!1),children:n.jsx(g,{className:"h-4 w-4"})})]}),n.jsx(f,{className:"flex-1",children:n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs(y,{open:$e.dateTime,onOpenChange:()=>_e("dateTime"),children:[n.jsx(b,{asChild:!0,children:n.jsxs("button",{className:"w-full flex items-center justify-between text-sm font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(j,{className:"h-4 w-4"}),"Date & Time"]}),n.jsx(M,{className:"h-4 w-4 transition-transform "+($e.dateTime?"rotate-180":"")})]})}),n.jsxs(w,{className:"pt-3 space-y-2",children:[n.jsx(A,{type:"datetime-local",value:qe,onChange:e=>{const t=e.target.value;Xe(t);const n=new Date(t);Number.isNaN(n.getTime())||a(n)},className:"w-full cursor-pointer [&::-webkit-calendar-picker-indicator]:cursor-pointer [&::-webkit-calendar-picker-indicator]:absolute [&::-webkit-calendar-picker-indicator]:inset-0 [&::-webkit-calendar-picker-indicator]:w-full [&::-webkit-calendar-picker-indicator]:h-full [&::-webkit-calendar-picker-indicator]:opacity-0"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs(p,{variant:"secondary",size:"sm",className:"gap-2",onClick:()=>{de(!1),a(new Date)},children:[n.jsx(N,{className:"h-4 w-4"}),"Reset"]}),n.jsxs(p,{variant:ce?"default":"secondary",size:"sm",className:"gap-2 "+(ce?"bg-green-600 hover:bg-green-700":""),onClick:()=>de(!ce),children:[n.jsx(v,{className:"h-4 w-4 "+(ce?"animate-pulse":"")}),"Live"]})]}),n.jsxs("div",{className:"space-y-2 pt-2 border-t border-border/50",children:[n.jsx(C,{className:"text-xs text-muted-foreground",children:"Time Simulator"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(A,{type:"number",value:Ge,onChange:e=>{const a=Math.max(.1,Number.parseFloat(e.target.value)||1);Ze(a,We)},className:"flex-1 h-9 text-sm",min:"0.1",step:"0.1"}),n.jsxs(S,{value:We,onValueChange:e=>{Ze(Ge,e)},children:[n.jsx(T,{className:"w-[80px] h-9",children:n.jsx(k,{})}),n.jsxs(P,{className:"z-[10000]",children:[n.jsx(z,{value:"s",children:"sec"}),n.jsx(z,{value:"m",children:"min"}),n.jsx(z,{value:"h",children:"hour"}),n.jsx(z,{value:"d",children:"day"}),n.jsx(z,{value:"y",children:"year"})]})]})]}),n.jsxs("div",{className:"text-[10px] text-muted-foreground text-center",children:[Ge," ",(Je=We,{s:"second",m:"minute",h:"hour",d:"day",y:"year"}[Je]),1===Ge?"":"s"," per real second"]})]})]})]}),n.jsx(E,{}),n.jsxs(y,{open:$e.location,onOpenChange:()=>_e("location"),children:[n.jsx(b,{asChild:!0,children:n.jsxs("button",{className:"w-full flex items-center justify-between text-sm font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(L,{className:"h-4 w-4"}),"Observer Location"]}),n.jsx(M,{className:"h-4 w-4 transition-transform "+($e.location?"rotate-180":"")})]})}),n.jsxs(w,{className:"pt-3 space-y-3",children:[n.jsxs("div",{className:"bg-muted/50 rounded-md p-2 text-xs space-y-1",children:[n.jsx("p",{className:"text-foreground font-medium",children:J.name}),n.jsxs("p",{className:"text-muted-foreground",children:[J.latitude.toFixed(4),"°, ",J.longitude.toFixed(4),"°"]}),n.jsxs("div",{className:"pt-1 border-t border-border/50 space-y-0.5",children:[n.jsxs("p",{className:"text-muted-foreground flex items-center gap-1",children:[n.jsx("span",{className:"text-[10px] opacity-70",children:"System TZ:"}),n.jsx("span",{className:"font-mono text-[10px]",children:Intl.DateTimeFormat().resolvedOptions().timeZone})]}),n.jsxs("p",{className:"text-muted-foreground flex items-center gap-1",children:[n.jsx("span",{className:"text-[10px] opacity-70",children:"Location TZ:"}),n.jsx("span",{className:"font-mono text-[10px]",children:Fa(J.latitude,J.longitude)})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"text-xs text-muted-foreground",children:"Custom Coordinates"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(A,{type:"number",placeholder:"Lat",value:Oe,onChange:e=>Re(e.target.value),className:"text-xs h-8",min:-90,max:90}),n.jsx(A,{type:"number",placeholder:"Lng",value:Be,onChange:e=>De(e.target.value),className:"text-xs h-8",min:-180,max:180}),n.jsx(p,{size:"sm",className:"h-8 px-3",onClick:()=>{const e=Number.parseFloat(Oe),a=Number.parseFloat(Be);!Number.isNaN(e)&&!Number.isNaN(a)&&e>=-90&&e<=90&&a>=-180&&a<=180&&Q({latitude:e,longitude:a,name:"Custom Location"})},children:"Set"})]}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsx(p,{size:"sm",className:"h-8 px-3",onClick:()=>He(!0),children:"Pick on Map"}),n.jsx(p,{size:"sm",className:"h-8 px-3",onClick:()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async e=>{const a=e.coords.latitude,t=e.coords.longitude;try{const e=await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${a}&lon=${t}&format=json&zoom=10`),n=await e.json();let s="Current Location";if(n.address){const e=[];if(n.address.city?e.push(n.address.city):n.address.town?e.push(n.address.town):n.address.village&&e.push(n.address.village),n.address.state?e.push(n.address.state):n.address.county&&e.push(n.address.county),n.address.country&&e.push(n.address.country),e.length>0)s=e.join(", ");else if(n.display_name){s=n.display_name.split(",").slice(0,3).join(",")}}Q({latitude:a,longitude:t,name:s})}catch(n){Q({latitude:a,longitude:t,name:"Current Location"})}},e=>{}):alert("Geolocation not available in this browser.")},children:"Use My Location"})]})]})]})]}),Ie&&n.jsx(t.Suspense,{fallback:n.jsx("div",{className:"text-center py-4 text-sm text-muted-foreground",children:"Loading map..."}),children:n.jsx(La,{open:Ie,initial:{lat:J.latitude,lng:J.longitude},onSelect:(e,a,t)=>Q({latitude:e,longitude:a,name:t}),onClose:()=>He(!1)})}),n.jsx(E,{}),n.jsxs(y,{open:$e.display,onOpenChange:()=>_e("display"),children:[n.jsx(b,{asChild:!0,children:n.jsxs("button",{className:"w-full flex items-center justify-between text-sm font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(F,{className:"h-4 w-4"}),"Display Options"]}),n.jsx(M,{className:"h-4 w-4 transition-transform "+($e.display?"rotate-180":"")})]})}),n.jsx(w,{className:"pt-3",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(C,{htmlFor:"firstPerson",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx(O,{className:"h-4 w-4"}),"First-Person View"]}),n.jsx(R,{id:"firstPerson",checked:ae,onCheckedChange:te})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(C,{htmlFor:"grid",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx(B,{className:"h-4 w-4"}),"Show Grid"]}),n.jsx(R,{id:"grid",checked:r,onCheckedChange:o})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(C,{htmlFor:"constellations",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx(D,{className:"h-4 w-4"}),"Constellations"]}),n.jsx(R,{id:"constellations",checked:i,onCheckedChange:l})]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs(C,{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx(I,{className:"h-4 w-4"}),"Labels"]})}),n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsx(C,{htmlFor:"labels",className:"flex items-center gap-2 cursor-pointer text-sm",children:"Star"}),n.jsx(R,{id:"labels",checked:c,onCheckedChange:d})]}),n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsx(C,{htmlFor:"constellation-labels",className:"flex items-center gap-2 cursor-pointer text-sm",children:"Constellation"}),n.jsx(R,{id:"constellation-labels",checked:m,onCheckedChange:u})]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs(C,{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx(H,{className:"h-4 w-4"}),"Glow"]})}),n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsx(C,{htmlFor:"starGlow",className:"flex items-center gap-2 cursor-pointer text-sm",children:"Star"}),n.jsx(R,{id:"starGlow",checked:h,onCheckedChange:W})]}),n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsx(C,{htmlFor:"planetGlow",className:"flex items-center gap-2 cursor-pointer text-sm",children:"Planet"}),n.jsx(R,{id:"planetGlow",checked:K,onCheckedChange:$})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(C,{htmlFor:"nakshatraRings",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-amber-400",children:"⭘"})," ","Nakshatra Rings"]}),n.jsx(R,{id:"nakshatraRings",checked:xe,onCheckedChange:ge})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(C,{htmlFor:"celestialInfo",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),"Celestial Info"]}),n.jsx(R,{id:"celestialInfo",checked:ne,onCheckedChange:se})]}),ne&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsxs(C,{htmlFor:"nakshatraPanel",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-amber-400",children:"★"})," ","Nakshatra"]}),n.jsx(R,{id:"nakshatraPanel",checked:re,onCheckedChange:oe})]}),n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsxs(C,{htmlFor:"sunMoonPanel",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-yellow-400",children:"☼"})," ","Sun & Moon"]}),n.jsx(R,{id:"sunMoonPanel",checked:ie,onCheckedChange:le})]})]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs(C,{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx("span",{className:"text-blue-400",children:"—"})," ","Lines"]})}),n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsxs(C,{htmlFor:"horizonLine",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-green-400",children:"—"})," ","Horizon"]}),n.jsx(R,{id:"horizonLine",checked:fe,onCheckedChange:ye})]}),n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsxs(C,{htmlFor:"equatorLine",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-blue-400",children:"—"})," ","Equator"]}),n.jsx(R,{id:"equatorLine",checked:be,onCheckedChange:je})]}),n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsxs(C,{htmlFor:"eclipticLine",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-yellow-400",children:"—"})," ","Ecliptic"]}),n.jsx(R,{id:"eclipticLine",checked:Me,onCheckedChange:we})]}),n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsxs(C,{htmlFor:"tropicOfCancer",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-orange-400",children:"—"})," ","Tropic of Cancer"]}),n.jsx(R,{id:"tropicOfCancer",checked:Ae,onCheckedChange:Ne})]}),n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsxs(C,{htmlFor:"tropicOfCapricorn",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-orange-400",children:"—"})," ","Tropic of Capricorn"]}),n.jsx(R,{id:"tropicOfCapricorn",checked:ve,onCheckedChange:Ce})]}),n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsxs(C,{htmlFor:"arcticCircle",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-cyan-400",children:"—"})," ","Arctic Circle"]}),n.jsx(R,{id:"arcticCircle",checked:Se,onCheckedChange:Te})]}),n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsxs(C,{htmlFor:"antarcticCircle",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-cyan-400",children:"—"})," ","Antarctic Circle"]}),n.jsx(R,{id:"antarcticCircle",checked:ke,onCheckedChange:Pe})]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs(C,{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx("span",{children:"↕"})," ","Horizon"]})}),n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsxs(C,{htmlFor:"showAboveHorizon",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{children:"↑"})," ","Above"]}),n.jsx(R,{id:"showAboveHorizon",checked:me,onCheckedChange:ue})]}),n.jsxs("div",{className:"flex items-center justify-between ml-6",children:[n.jsxs(C,{htmlFor:"showBelowHorizon",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{children:"↓"})," ","Below"]}),n.jsx(R,{id:"showBelowHorizon",checked:he,onCheckedChange:pe})]})]})})]}),n.jsx(E,{}),n.jsxs(y,{open:$e.view,onOpenChange:()=>_e("view"),children:[n.jsx(b,{asChild:!0,children:n.jsxs("button",{className:"w-full flex items-center justify-between text-sm font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(v,{className:"h-4 w-4"}),"Visual Adjustments"]}),n.jsx(M,{className:"h-4 w-4 transition-transform "+($e.view?"rotate-180":"")})]})}),n.jsxs(w,{className:"pt-3 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(C,{className:"text-sm",children:"Grid Visibility"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.round(100*V),"%"]})]}),n.jsx(G,{value:[V],onValueChange:([e])=>_(e),min:.1,max:1,step:.05})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(C,{className:"text-sm",children:"Sky Darkness"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.round(100*Y),"%"]})]}),n.jsx(G,{value:[Y],onValueChange:([e])=>q(e),min:0,max:1,step:.05})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(C,{className:"text-sm",children:"Zoom Level"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:X.toFixed(0)})]}),n.jsx(G,{value:[X],onValueChange:([e])=>Z(e),min:10,max:300,step:5}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Zoom out to view the entire celestial sphere"})]})]})]}),n.jsx(E,{}),n.jsxs(p,{onClick:ee,className:"w-full gap-2",children:[n.jsx(U,{className:"h-4 w-4"}),"EXPORT (BETA)"]}),n.jsx(E,{}),n.jsxs("section",{className:"space-y-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"CONTROLS"}),n.jsxs("div",{className:"text-xs text-muted-foreground space-y-2 bg-muted/30 rounded-md p-3",children:[n.jsxs("p",{children:["• ",n.jsx("strong",{children:"Drag"})," to rotate view"]}),n.jsxs("p",{children:["• ",n.jsx("strong",{children:"Scroll"})," to zoom in/out"]}),n.jsxs("p",{children:["• ",n.jsx("strong",{children:"Zoom slider"})," to zoom out completely"]}),n.jsxs("p",{children:["• ",n.jsx("strong",{children:"Hover"})," over objects for details"]})]})]})]})}),n.jsxs("div",{className:"p-4 border-t border-border bg-muted/30",children:[n.jsx("h4",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"LEGEND"}),n.jsxs("div",{className:"flex flex-col gap-1.5 text-xs",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-1 bg-[#4a90d9] rounded-full"}),n.jsx("span",{className:"text-muted-foreground",children:"Celestial Equator"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-0.5 bg-[#d9a54a]"}),n.jsx("span",{className:"text-muted-foreground",children:"Ecliptic"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-0.5 border-t border-dashed border-[#4a6fa5]"}),n.jsx("span",{className:"text-muted-foreground",children:"Constellation Lines"})]})]})]})]})})]});var Je}const Ra=({message:e="Loading..."})=>n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] space-y-4",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),e&&n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:e})]}),Ba=t.lazy(()=>ve(()=>import("./NakshatraPanel-CnDn9PhW.js"),__vite__mapDeps([5,1,2,3,4,6,7,8]),import.meta.url).then(e=>({default:e.NakshatraPanel}))),Da=t.lazy(()=>ve(()=>import("./ExportDialog-BF8hcdAL.js"),__vite__mapDeps([9,1,2,3,4]),import.meta.url).then(e=>({default:e.ExportDialog})));function Ia(e,a){return function(s){return n.jsx(t.Suspense,{fallback:n.jsx(Ra,{message:a}),children:n.jsx(e,{...s})})}}t.lazy(()=>ve(()=>import("./MapPicker-Dy2twQu6.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url));const Ha=Ia(Ba,"Loading Nakshatra panel..."),Ga=Ia(Da,"Preparing export...");function Ua({onGesture:e}){const a=t.useRef(null),s=t.useRef(null),[r,o]=t.useState(!1),[i,l]=t.useState(!1),[c,d]=t.useState(!1),[m,u]=t.useState(!0),h=t.useRef(!1);t.useEffect(()=>{h.current=c},[c]);const x=t.useRef(null),g=t.useRef(null),f=t.useRef(null),[y,b]=t.useState(!1),[j,w]=t.useState({bottom:16,right:16}),A=t.useRef(null),N=t.useRef([]),v=t.useRef(0),C=t.useRef(0),S=.008;t.useEffect(()=>()=>{},[]);t.useEffect(()=>{if(!y)return;const e=e=>{if(!A.current)return;const a=A.current.x-e.clientX,t=A.current.y-e.clientY,n=Math.max(0,Math.min(globalThis.innerWidth-200,A.current.startRight+a)),s=Math.max(0,Math.min(globalThis.innerHeight-100,A.current.startBottom+t));w({bottom:s,right:n})},a=()=>{b(!1)},t=e=>{if(!A.current)return;const a=e.touches[0];if(!a)return;const t=A.current.x-a.clientX,n=A.current.y-a.clientY,s=Math.max(0,Math.min(globalThis.innerWidth-200,A.current.startRight+t)),r=Math.max(0,Math.min(globalThis.innerHeight-100,A.current.startBottom+n));w({bottom:r,right:s})},n=()=>{b(!1)};return globalThis.addEventListener("mousemove",e),globalThis.addEventListener("mouseup",a),globalThis.addEventListener("touchmove",t),globalThis.addEventListener("touchend",n),()=>{globalThis.removeEventListener("mousemove",e),globalThis.removeEventListener("mouseup",a),globalThis.removeEventListener("touchmove",t),globalThis.removeEventListener("touchend",n)}},[y]);const T=(e,a)=>Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2)+Math.pow(a.z-e.z,2)),k=e=>{const a=e[0],t=e[8],n=e[5],s=T(a,t),r=T(a,n),o=e[12],i=e[9],l=T(a,o),c=T(a,i),d=e[16],m=e[13];return[s>1.3*r,l>1.3*c,T(a,d)>1.3*T(a,m)].filter(Boolean).length>=2},P=e=>({x:(e[0].x+e[9].x)/2,y:(e[0].y+e[9].y)/2,z:(e[0].z+e[9].z)/2}),z=e=>{var a,t;if("zoom"===(null==(a=f.current)?void 0:a.type)&&void 0!==f.current.twoHandDistance)if(v.current++,v.current>0){const a=200*(f.current.twoHandDistance-e);N.current.push({type:"zoom",delta:a}),N.current.length>6&&N.current.shift();const t=N.current.reduce((e,a)=>e+("number"==typeof a.delta?a.delta:0),0)/N.current.length;if(f.current={type:"zoom",twoHandDistance:e,wasHandClosed:!1},Math.abs(t)>.012)return{type:"zoom",zoomDelta:t}}else f.current.twoHandDistance=e,f.current.wasHandClosed=!1;else v.current=0,"zoom"!==(null==(t=f.current)?void 0:t.type)&&(N.current=[]),f.current={type:"zoom",twoHandDistance:e,wasHandClosed:!1};return{type:"idle"}},E=e=>{var a;if("rotate"===(null==(a=f.current)?void 0:a.type)&&f.current.handCenter)if(v.current++,v.current>2){const a=f.current.handCenter,t=1.8*(e.x-a.x),n=1.8*-(e.y-a.y);N.current.push({type:"rotate",delta:{x:t,y:n}}),N.current.length>6&&N.current.shift();const s=N.current.reduce((e,a)=>e+("object"==typeof a.delta?a.delta.x:0),0)/N.current.length,r=N.current.reduce((e,a)=>e+("object"==typeof a.delta?a.delta.y:0),0)/N.current.length;if(f.current={type:"rotate",handCenter:e,wasHandClosed:!1},Math.abs(s)>S||Math.abs(r)>S)return{type:"rotate",rotateDelta:{x:s,y:r}}}else f.current.handCenter=e,f.current.wasHandClosed=!1;else v.current=0,N.current=[],f.current={type:"rotate",handCenter:e,wasHandClosed:!1};return{type:"idle"}},L=e=>{if(!e.multiHandLandmarks||0===e.multiHandLandmarks.length)return C.current++,C.current>30&&(f.current=null,v.current=0,N.current=[]),{type:"idle"};C.current=0;const a=e.multiHandLandmarks.length;if(2===a)return((e,a)=>{var t;const n=k(e),s=k(a);if(!n||!s)return f.current&&(f.current.wasHandClosed=!0),{type:"idle"};const r=P(e),o=P(a),i=T(r,o);return(null==(t=f.current)?void 0:t.wasHandClosed)?(v.current=0,N.current=[],f.current={type:"zoom",twoHandDistance:i,wasHandClosed:!1},{type:"idle"}):z(i)})(e.multiHandLandmarks[0],e.multiHandLandmarks[1]);if(1===a){const a="zoom"===(null==(t=f.current)?void 0:t.type)?(v.current++,v.current>5&&(f.current=null,v.current=0,N.current=[]),{type:"idle"}):null;return a||(e=>{var a;if(!k(e))return f.current?f.current.wasHandClosed=!0:f.current={type:"rotate",wasHandClosed:!0},{type:"idle"};const t=(e=>{const a=e[0],t=e[12];return{x:(a.x+t.x)/2,y:(a.y+t.y)/2}})(e);return!0===(null==(a=f.current)?void 0:a.wasHandClosed)?(v.current=0,N.current=[],f.current={type:"rotate",handCenter:t,wasHandClosed:!1},{type:"idle"}):E(t)})(e.multiHandLandmarks[0])}var t;return{type:"idle"}},F=a=>{if(!s.current)return;const t=s.current.getContext("2d");if(!t)return;if(t.save(),t.clearRect(0,0,s.current.width,s.current.height),h.current?(t.translate(s.current.width,0),t.scale(-1,1),t.drawImage(a.image,0,0,s.current.width,s.current.height),t.setTransform(1,0,0,1,0,0)):(t.fillStyle="#1a1a1a",t.fillRect(0,0,s.current.width,s.current.height)),a.multiHandLandmarks){const e=a.multiHandLandmarks.map(e=>e.map(e=>({...e,x:1-e.x})));for(const a of e){const e=[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[0,9],[9,10],[10,11],[11,12],[0,13],[13,14],[14,15],[15,16],[0,17],[17,18],[18,19],[19,20],[5,9],[9,13],[13,17]];t.strokeStyle="#00ff88",t.lineWidth=2;for(const[n,r]of e){const e=a[n],o=a[r];t.beginPath(),t.moveTo(e.x*s.current.width,e.y*s.current.height),t.lineTo(o.x*s.current.width,o.y*s.current.height),t.stroke()}for(const n of a)t.fillStyle="#ff0088",t.beginPath(),t.arc(n.x*s.current.width,n.y*s.current.height,5,0,2*Math.PI),t.fill()}a.multiHandLandmarks=e}t.restore();const n=L(a);e(n)},O=async()=>{r?(g.current&&g.current.stop(),o(!1),f.current=null,C.current=0,v.current=0,N.current=[]):(i?g.current&&await g.current.start():await(async()=>{if(a.current&&!i)try{if(void 0===globalThis.Hands)throw new TypeError("MediaPipe Hands not loaded. Please ensure the CDN script is loaded.");if(void 0===globalThis.Camera)throw new TypeError("MediaPipe Camera not loaded. Please ensure the CDN script is loaded.");const e=new globalThis.Hands({locateFile:e=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands@0.4.1675469240/${e}`});e.setOptions({maxNumHands:2,modelComplexity:1,minDetectionConfidence:.7,minTrackingConfidence:.5}),e.onResults(F),x.current=e;const t=new globalThis.Camera(a.current,{onFrame:async()=>{a.current&&x.current&&await x.current.send({image:a.current})},width:320,height:240});g.current=t,await t.start(),l(!0)}catch(e){const a=e instanceof Error?e.message:String(e);alert(`Failed to start camera: ${a}\n\nPlease check:\n- Camera permissions in browser\n- HTTPS is enabled\n- Camera is not in use by another app`)}})(),o(!0))};return t.useEffect(()=>()=>{g.current&&g.current.stop(),x.current&&x.current.close()},[]),n.jsxs("div",{className:"fixed z-[9999] flex flex-col gap-2",style:{bottom:`${j.bottom}px`,right:`${j.right}px`,cursor:y?"grabbing":"grab"},children:[n.jsx("button",{type:"button",className:"flex items-center justify-center bg-black/80 backdrop-blur-sm rounded-lg border border-white/20 p-2 shadow-2xl",onMouseDown:e=>{0===e.button&&(b(!0),A.current={x:e.clientX,y:e.clientY,startBottom:j.bottom,startRight:j.right},e.preventDefault())},onTouchStart:e=>{const a=e.touches[0];a&&(b(!0),A.current={x:a.clientX,y:a.clientY,startBottom:j.bottom,startRight:j.right},e.preventDefault())},onClick:e=>{y||O(),e.stopPropagation()},"aria-label":r?"Stop Hand Tracking (drag to move)":"Start Hand Tracking (drag to move)",title:r?"Stop Hand Tracking":"Start Hand Tracking",children:n.jsx("div",{className:(r?"bg-green-600":"bg-transparent border border-white/40")+" flex items-center justify-center rounded-md p-2",children:r?n.jsx(W,{className:"h-4 w-4"}):n.jsx(W,{className:"h-4 w-4 opacity-50"})})}),n.jsx("video",{ref:a,className:"hidden",playsInline:!0,"aria-label":"Hand tracking camera feed",children:n.jsx("track",{kind:"captions"})}),r&&n.jsxs("div",{className:"bg-black/80 backdrop-blur-sm rounded-lg border border-white/20 overflow-hidden shadow-2xl",children:[n.jsxs("button",{type:"button",className:"w-full p-2 border-b border-white/20 bg-white/5 cursor-pointer hover:bg-white/10 transition-colors",onClick:()=>u(!m),"aria-label":m?"Expand camera preview":"Collapse camera preview","aria-expanded":!m,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(K,{className:"h-3 w-3 text-green-400"}),n.jsx("p",{className:"text-xs font-semibold text-white",children:"Hand Gesture Control"})]}),m?n.jsx(M,{className:"h-4 w-4 text-white"}):n.jsx($,{className:"h-4 w-4 text-white"})]}),m&&n.jsx("p",{className:"text-[10px] text-gray-400 mt-1","aria-label":"Gesture controls",children:"✋ Rotate | 🙌 Zoom | ✊ Pause"})]}),n.jsxs("div",{className:"p-2 bg-black/30 "+(m?"hidden":""),children:[n.jsx("p",{className:"text-[10px] text-gray-400",children:"✋ Open hand: Move to rotate"}),n.jsx("p",{className:"text-[10px] text-gray-400",children:"🙌 Two open hands: Apart=Zoom in, together=Zoom out"}),n.jsx("p",{className:"text-[10px] text-gray-400",children:"✊ Close fist to pause (keeps position)"})]}),n.jsxs("div",{className:"relative "+(m?"hidden":""),children:[n.jsx("canvas",{ref:s,width:320,height:240,className:"w-80 h-60"}),n.jsx("div",{className:"absolute bottom-2 left-2",children:n.jsx(p,{variant:"secondary",size:"sm",onClick:()=>d(!c),className:"text-xs bg-black/50 hover:bg-black/70",children:c?"🖐️ Gestures Only":"📷 Show Camera"})})]})]})]})}function Wa(e){const a=new Date("2000-01-01T12:00:00Z");return 23.85+.01397*((e.getTime()-a.getTime())/864e5/365.25)}const Ka=["Ashwini","Bharani","Krittika","Rohini","Mrigashira","Ardra","Punarvasu","Pushya","Ashlesha","Magha","Purva Phalguni","Uttara Phalguni","Hasta","Chitra","Swati","Vishakha","Anuradha","Jyeshtha","Mula","Purva Ashadha","Uttara Ashadha","Shravana","Dhanishta","Shatabhisha","Purva Bhadrapada","Uttara Bhadrapada","Revati"];function $a(e,a,t,n){if(void 0!==t)return Va(t,n);const s=e/24*2*Math.PI,r=a*Math.PI/180,o=23.4392911*Math.PI/180,i=Math.sin(s)*Math.cos(o)+Math.tan(r)*Math.sin(o),l=Math.cos(s);let c=180*Math.atan2(i,l)/Math.PI;return c<0&&(c+=360),Va(c,n)}function Va(e,a){let t=e-(a?Wa(a):24);t<0&&(t+=360),t%=360;const n=Math.floor(t/(360/27));return Ka[n]}const _a=["Mesha (Aries)","Vrishabha (Taurus)","Mithuna (Gemini)","Karka (Cancer)","Simha (Leo)","Kanya (Virgo)","Tula (Libra)","Vrishchika (Scorpio)","Dhanu (Sagittarius)","Makara (Capricorn)","Kumbha (Aquarius)","Meena (Pisces)"];function Ya(e,a){let t=e-(a?Wa(a):24);t<0&&(t+=360),t%=360;const n=Math.floor(t/30);return _a[n]}const qa=(e,a,t)=>{const n=e.getFullYear(),s=e.getMonth()+1,r=e.getDate(),o=Math.floor((14-s)/12),i=n+4800-o,l=s+12*o-3,c=r+Math.floor((153*l+2)/5)+365*i+Math.floor(i/4)-Math.floor(i/100)+Math.floor(i/400)-32045-2451545+8e-4-t/360,d=(357.5291+.98560028*c)%360,m=d*Math.PI/180,u=(d+(1.9148*Math.sin(m)+.02*Math.sin(2*m)+3e-4*Math.sin(3*m))+180+102.9372)%360*Math.PI/180,h=2451545+c+.0053*Math.sin(m)-.0069*Math.sin(2*u),p=Math.sin(u)*Math.sin(23.44*Math.PI/180),x=Math.cos(Math.asin(p)),g=a*Math.PI/180,f=(Math.sin(-.833*Math.PI/180)-Math.sin(g)*p)/(Math.cos(g)*x);if(f>1)return{sunrise:"No Sunrise",sunset:"No Sunset"};if(f<-1)return{sunrise:"Midnight Sun",sunset:"Midnight Sun"};const y=180*Math.acos(f)/Math.PI,b=h+y/360,j=e=>{const a=new Date(864e5*(e-2440587.5)),t=a.getHours(),n=a.getMinutes(),s=a.getSeconds();return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`};return{sunrise:j(h-y/360),sunset:j(b)}},Xa=(e,a,t,n)=>{const s=e=>{for(;e<0;)e+=360;for(;e>=360;)e-=360;return e},r=e=>e*Math.PI/180,o=e=>{const a=e-2451545,t=s(218.316+13.176396*a),n=s(134.963+13.064993*a),o=s(93.272+13.22935*a),i=s(t+6.289*Math.sin(r(n))),l=5.128*Math.sin(r(o)),c=r(23.439),d=r(i),m=r(l),u=Math.atan2(Math.sin(d)*Math.cos(c)-Math.tan(m)*Math.sin(c),Math.cos(d)),h=Math.asin(Math.sin(m)*Math.cos(c)+Math.cos(m)*Math.sin(c)*Math.sin(d));return{ra:(180*u/Math.PI<0?180*u/Math.PI+360:180*u/Math.PI)/15,dec:180*h/Math.PI}},i=(e,a)=>{const t=(e-2451545)/36525;let n=280.46061837+360.98564736629*(e-2451545)+387933e-9*t*t-t*t*t/3871e4;n=s(n);return s(n+a)/15},l=(e,a)=>{const t=r(e),n=r(a),s=r(-.583),o=(Math.sin(s)-Math.sin(t)*Math.sin(n))/(Math.cos(t)*Math.cos(n));return o>1||o<-1?null:180*Math.acos(o)/Math.PI/15},c=e.getFullYear(),d=e.getMonth()+1,m=e.getDate(),u=Math.floor((14-d)/12),h=c+4800-u,p=d+12*u-3,x=m+Math.floor((153*p+2)/5)+365*h+Math.floor(h/4)-Math.floor(h/100)+Math.floor(h/400)-32045-.5;let g=x;for(let b=0;b<3;b++){const e=o(g),n=l(a,e.dec);if(null===n)return{moonrise:"No Moonrise",moonset:"No Moonset"};const r=i(g,t);let c=s(15*(e.ra-n-r))/360;c<0&&(c+=1),g=x+c}let f=x;for(let b=0;b<3;b++){const e=o(f),n=l(a,e.dec);if(null===n)return{moonrise:"No Moonrise",moonset:"No Moonset"};const r=i(f,t);let c=s(15*(e.ra+n-r))/360;c<0&&(c+=1),f=x+c}const y=e=>{const a=new Date(864e5*(e-2440587.5)),t=a.getHours(),n=a.getMinutes(),s=a.getSeconds();return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`};return{moonrise:y(g),moonset:y(f)}},Za=(e,a)=>{const t=Date.UTC(2e3,0,1,12,0,0);let n=e-(23.85+.01397*((a.getTime()-t)/864e5/365.25));n<0&&(n+=360);return["Ashwini","Bharani","Krittika","Rohini","Mrigashira","Ardra","Punarvasu","Pushya","Ashlesha","Magha","Purva Phalguni","Uttara Phalguni","Hasta","Chitra","Swati","Vishakha","Anuradha","Jyeshtha","Mula","Purva Ashadha","Uttara Ashadha","Shravana","Dhanishta","Shatabhisha","Purva Bhadrapada","Uttara Bhadrapada","Revati"][Math.floor(n/13.333333)%27]},Ja={"America/New_York":{lat:40.7128,lon:-74.006,name:"New York"},"America/Chicago":{lat:41.8781,lon:-87.6298,name:"Chicago"},"America/Denver":{lat:39.7392,lon:-104.9903,name:"Denver"},"America/Los_Angeles":{lat:34.0522,lon:-118.2437,name:"Los Angeles"},"America/Toronto":{lat:43.6532,lon:-79.3832,name:"Toronto"},"America/Vancouver":{lat:49.2827,lon:-123.1207,name:"Vancouver"},"America/Mexico_City":{lat:19.4326,lon:-99.1332,name:"Mexico City"},"Europe/London":{lat:51.5074,lon:-.1278,name:"London"},"Europe/Paris":{lat:48.8566,lon:2.3522,name:"Paris"},"Europe/Berlin":{lat:52.52,lon:13.405,name:"Berlin"},"Europe/Rome":{lat:41.9028,lon:12.4964,name:"Rome"},"Europe/Madrid":{lat:40.4168,lon:-3.7038,name:"Madrid"},"Europe/Moscow":{lat:55.7558,lon:37.6173,name:"Moscow"},"Europe/Istanbul":{lat:41.0082,lon:28.9784,name:"Istanbul"},"Asia/Dubai":{lat:25.2048,lon:55.2708,name:"Dubai"},"Asia/Kolkata":{lat:28.6139,lon:77.209,name:"Delhi"},"Asia/Calcutta":{lat:28.6139,lon:77.209,name:"Delhi"},"Asia/Mumbai":{lat:19.076,lon:72.8777,name:"Mumbai"},"Asia/Dhaka":{lat:23.8103,lon:90.4125,name:"Dhaka"},"Asia/Bangkok":{lat:13.7563,lon:100.5018,name:"Bangkok"},"Asia/Singapore":{lat:1.3521,lon:103.8198,name:"Singapore"},"Asia/Hong_Kong":{lat:22.3193,lon:114.1694,name:"Hong Kong"},"Asia/Shanghai":{lat:31.2304,lon:121.4737,name:"Shanghai"},"Asia/Tokyo":{lat:35.6762,lon:139.6503,name:"Tokyo"},"Asia/Seoul":{lat:37.5665,lon:126.978,name:"Seoul"},"Asia/Karachi":{lat:24.8607,lon:67.0011,name:"Karachi"},"Asia/Tehran":{lat:35.6892,lon:51.389,name:"Tehran"},"Asia/Jerusalem":{lat:31.7683,lon:35.2137,name:"Jerusalem"},"Asia/Riyadh":{lat:24.7136,lon:46.6753,name:"Riyadh"},"Asia/Kuwait":{lat:29.3759,lon:47.9774,name:"Kuwait City"},"Asia/Bahrain":{lat:26.0667,lon:50.5577,name:"Manama"},"Asia/Qatar":{lat:25.2854,lon:51.531,name:"Doha"},"Asia/Muscat":{lat:23.588,lon:58.3829,name:"Muscat"},"Asia/Kathmandu":{lat:27.7172,lon:85.324,name:"Kathmandu"},"Asia/Colombo":{lat:6.9271,lon:79.8612,name:"Colombo"},"Asia/Yangon":{lat:16.8661,lon:96.1951,name:"Yangon"},"Asia/Manila":{lat:14.5995,lon:120.9842,name:"Manila"},"Asia/Jakarta":{lat:-6.2088,lon:106.8456,name:"Jakarta"},"Asia/Kuala_Lumpur":{lat:3.139,lon:101.6869,name:"Kuala Lumpur"},"Asia/Ho_Chi_Minh":{lat:10.8231,lon:106.6297,name:"Ho Chi Minh City"},"Asia/Taipei":{lat:25.033,lon:121.5654,name:"Taipei"},"Australia/Sydney":{lat:-33.8688,lon:151.2093,name:"Sydney"},"Australia/Melbourne":{lat:-37.8136,lon:144.9631,name:"Melbourne"},"Australia/Perth":{lat:-31.9505,lon:115.8605,name:"Perth"},"Australia/Brisbane":{lat:-27.4698,lon:153.0251,name:"Brisbane"},"Australia/Adelaide":{lat:-34.9285,lon:138.6007,name:"Adelaide"},"Pacific/Auckland":{lat:-36.8485,lon:174.7633,name:"Auckland"},"Pacific/Fiji":{lat:-18.1416,lon:178.4419,name:"Suva"},"Pacific/Honolulu":{lat:21.3099,lon:-157.8581,name:"Honolulu"},"America/Sao_Paulo":{lat:-23.5505,lon:-46.6333,name:"São Paulo"},"America/Buenos_Aires":{lat:-34.6037,lon:-58.3816,name:"Buenos Aires"},"America/Bogota":{lat:4.711,lon:-74.0721,name:"Bogotá"},"America/Lima":{lat:-12.0464,lon:-77.0428,name:"Lima"},"America/Santiago":{lat:-33.4489,lon:-70.6693,name:"Santiago"},"America/Caracas":{lat:10.4806,lon:-66.9036,name:"Caracas"},"Africa/Cairo":{lat:30.0444,lon:31.2357,name:"Cairo"},"Africa/Johannesburg":{lat:-26.2041,lon:28.0473,name:"Johannesburg"},"Africa/Lagos":{lat:6.5244,lon:3.3792,name:"Lagos"},"Africa/Nairobi":{lat:-1.2864,lon:36.8172,name:"Nairobi"},"Africa/Casablanca":{lat:33.5731,lon:-7.5898,name:"Casablanca"},"Africa/Algiers":{lat:36.7538,lon:3.0588,name:"Algiers"},"Africa/Tunis":{lat:36.8065,lon:10.1815,name:"Tunis"},"Africa/Addis_Ababa":{lat:9.032,lon:38.7469,name:"Addis Ababa"}},Qa=40.7128,et=-74.006,at="New York",tt=()=>{const[e,a]=t.useState((()=>{const e=Intl.DateTimeFormat().resolvedOptions().timeZone,a=Ja[e];return a?{latitude:a.lat,longitude:a.lon,name:a.name}:{latitude:Qa,longitude:et,name:at}})());return{location:e,setLocation:t.useCallback(e=>{a(e)},[])}},nt=(e,a,t,n,s,r)=>{const o=wa(e.ra,e.dec,a,t.latitude,t.longitude,100);if(!r.showAboveHorizon&&o[1]>0||!r.showBelowHorizon&&o[1]<0)return{starElement:null,labelElement:null};const i=r.project3DTo2D(o,n,s,r.belowHorizon);if(!i)return{starElement:null,labelElement:null};const l=Math.max(2,6-.8*e.magnitude),c=da(e.spectralType);return{starElement:`  <circle cx="${i.x.toFixed(2)}" cy="${i.y.toFixed(2)}" r="${l.toFixed(1)}" fill="${c}" class="star"/>`,labelElement:r.showLabels&&e.magnitude<2.5?`  <text x="${(i.x+l+4).toFixed(2)}" y="${(i.y+4).toFixed(2)}" class="star-label">${e.name}</text>`:null}},st=(e,a,t,n,s,r,o)=>{const i=wa(e.ra,e.dec,t,n.latitude,n.longitude,100),l=wa(a.ra,a.dec,t,n.latitude,n.longitude,100),c=(o.showAboveHorizon||i[1]<=0)&&(o.showBelowHorizon||i[1]>=0),d=(o.showAboveHorizon||l[1]<=0)&&(o.showBelowHorizon||l[1]>=0);if(!c||!d)return null;const m=o.project3DTo2D(i,s,r,o.belowHorizon),u=o.project3DTo2D(l,s,r,o.belowHorizon);return m&&u?`  <line x1="${m.x.toFixed(2)}" y1="${m.y.toFixed(2)}" x2="${u.x.toFixed(2)}" y2="${u.y.toFixed(2)}" class="constellation-line"/>`:null},rt=(e,a,t)=>{const n=[],s=[];for(let o=0;o<=90;o+=15){const r=o*Math.PI/180,i=(Math.PI/2-r)*(t/(Math.PI/2));n.push(`  <circle cx="${e.toFixed(2)}" cy="${a.toFixed(2)}" r="${i.toFixed(2)}" class="grid-circle"/>`),o>0&&o<90&&s.push(`  <text x="${(e+i+5).toFixed(2)}" y="${(a-3).toFixed(2)}" class="alt-label">${o}°</text>`)}const r=["N","NE","E","SE","S","SW","W","NW"];return[0,45,90,135,180,225,270,315].forEach((o,i)=>{const l=o*Math.PI/180,c=e+t*Math.sin(l),d=a-t*Math.cos(l);n.push(`  <line x1="${e.toFixed(2)}" y1="${a.toFixed(2)}" x2="${c.toFixed(2)}" y2="${d.toFixed(2)}" class="grid-line"/>`);const m=t+25,u=e+m*Math.sin(l),h=a-m*Math.cos(l);s.push(`  <text x="${u.toFixed(2)}" y="${(h+3).toFixed(2)}" class="azimuth-label">${r[i]}</text>`)}),{gridElements:n,labelElements:s}},ot=t.memo(()=>{const[e,a]=t.useState(new Date),[s,r]=t.useState(!0),[o,i]=t.useState(!0),[l,c]=t.useState(!0),[d,m]=t.useState(!0),[u,h]=t.useState(!0),[p,x]=t.useState(.5),[g,f]=t.useState(.8),[y,b]=t.useState(500),[j,M]=t.useState(!1),[w,A]=t.useState(!0),[N,v]=t.useState(()=>window.innerWidth>=768),[C,S]=t.useState(!1),[T,k]=t.useState(()=>window.innerWidth>=768),[P,z]=t.useState(!1),[E,L]=t.useState(!0),[F,O]=t.useState(!0),[R,B]=t.useState(!1),[D,I]=t.useState(!0),[H,G]=t.useState(!0),[U,W]=t.useState(!0),[K,$]=t.useState(!0),[V,_]=t.useState(!0),[Y,q]=t.useState(!0),[X,Z]=t.useState(!0),[J,Q]=t.useState(1),[ee,ae]=t.useState(!1),{location:te,setLocation:ne}=tt();(({isLive:e,timeSpeed:a,date:n,onDateChange:s})=>{const r=t.useRef(n),o=t.useRef(performance.now());t.useEffect(()=>{r.current=n},[n]),t.useEffect(()=>{if(!e)return;let n;const i=1e3/60,l=()=>{const e=performance.now(),c=e-o.current;if(c>=i){const n=c/1e3*a*1e3,i=new Date(r.current.getTime()+n);r.current=i,t.startTransition(()=>{s(i)}),o.current=e}n=requestAnimationFrame(l)};return n=requestAnimationFrame(l),()=>{n&&cancelAnimationFrame(n)}},[e,a,s])})({isLive:P,timeSpeed:J,date:e,onDateChange:a});const se=t.useRef(null),re=t.useRef(null),oe=t.useDeferredValue(e),ie=t.useMemo(()=>[...ba(oe),ja(oe),Ma(oe)],[oe]),le=t.useCallback((e,a)=>{var t;if(j)return;const n=Math.max(5,Math.min(500,y-e));if(b(n),a.object){const n=a.object,s=e/200,r=s>0?Math.min(.2,s):Math.max(-.08,s),o=Math.exp(r);n.position.multiplyScalar(o),null==(t=a.update)||t.call(a)}},[y,j]),ce=t.useCallback((e,a)=>{var t;const n=1.5;if(a.getAzimuthalAngle&&a.getPolarAngle){const t=a.getAzimuthalAngle(),s=a.getPolarAngle();a.minAzimuthAngle=t-e.x*n,a.maxAzimuthAngle=t-e.x*n,a.minPolarAngle=Math.max(0,s+e.y*n),a.maxPolarAngle=Math.min(Math.PI,s+e.y*n),setTimeout(()=>{a.minAzimuthAngle=-1/0,a.maxAzimuthAngle=1/0,a.minPolarAngle=0,a.maxPolarAngle=Math.PI},0)}null==(t=a.update)||t.call(a)},[]),de=t.useCallback(e=>{if(!re.current)return;const a=re.current;switch(e.type){case"zoom":e.zoomDelta&&le(e.zoomDelta,a);break;case"rotate":e.rotateDelta&&ce(e.rotateDelta,a)}},[le,ce]),me=`hsl(230, 30%, ${4+15*(1-g)}%)`,ue=`hsl(230, 25%, ${6+18*(1-g)}%)`,he=t.useCallback((a,t=1,n=1)=>{const r=700,i=742.5,c=Math.min(1190,1262.25)/2,d=700,m=2227.5,u=(e,a,t,n=!1)=>{let s=e[0],r=e[1],o=e[2];if(n&&(r=-r,s=-s,o=-o),r<0)return null;const i=Math.hypot(s,o),l=Math.atan2(r,i),d=Math.atan2(s,o),m=(Math.PI/2-l)*(c/(Math.PI/2));return{x:a+m*Math.sin(d),y:t-m*Math.cos(d)}},h=[],x=[],g=[],f=[],y=[],b=[],j=[],{gridElements:M,labelElements:A}=s?rt(r,i,c):{gridElements:[],labelElements:[]},{gridElements:N,labelElements:v}=s?rt(d,m,c):{gridElements:[],labelElements:[]};s&&(b.push(...A),j.push(...v)),la.forEach(a=>{const t=nt(a,e,te,r,i,{projectionRadius:c,project3DTo2D:u,showAboveHorizon:E,showBelowHorizon:F,showLabels:l});t.starElement&&x.push(t.starElement),t.labelElement&&b.push(t.labelElement);const n=nt(a,e,te,d,m,{projectionRadius:c,project3DTo2D:u,showAboveHorizon:E,showBelowHorizon:F,showLabels:l,belowHorizon:!0});n.starElement&&g.push(n.starElement),n.labelElement&&j.push(n.labelElement)});const C=ba(e),S=ja(e),T=Ma(e),k=[...C,S,T];if(k.forEach(a=>{const t=wa(a.ra,a.dec,e,te.latitude,te.longitude,100);if(!E&&t[1]>0||!F&&t[1]<0)return;const n=u(t,r,i);let s=8;"Sun"===a.name?s=14:"Moon"===a.name&&(s=12),n&&(x.push('  <circle cx="'+n.x.toFixed(2)+'" cy="'+n.y.toFixed(2)+'" r="'+s+'" fill="'+a.color+'" class="planet"/>'),l&&b.push('  <text x="'+(n.x+s+5).toFixed(2)+'" y="'+(n.y+5).toFixed(2)+'" class="planet-label" fill="'+a.color+'">'+a.name+"</text>"))}),k.forEach(a=>{const t=wa(a.ra,a.dec,e,te.latitude,te.longitude,100);if(!E&&t[1]>0||!F&&t[1]<0)return;const n=u(t,d,m,!0);let s=8;"Sun"===a.name?s=14:"Moon"===a.name&&(s=12),n&&(g.push('  <circle cx="'+n.x.toFixed(2)+'" cy="'+n.y.toFixed(2)+'" r="'+s+'" fill="'+a.color+'" class="planet"/>'),l&&j.push('  <text x="'+(n.x+s+5).toFixed(2)+'" y="'+(n.y+5).toFixed(2)+'" class="planet-label" fill="'+a.color+'">'+a.name+"</text>"))}),o){const a=new Map(la.map(e=>[e.name,e])),t=[],n=[];ca.forEach(s=>{const o=new Set;s.starNames.forEach(([e,a])=>{o.add(e),e!==a&&o.add(a)});const l=[];if(o.forEach(t=>{const n=a.get(t);if(n){const a=wa(n.ra,n.dec,e,te.latitude,te.longitude,100);if((E||a[1]<=0)&&(F||a[1]>=0)){const e=u(a,r,i);e&&l.push(e)}}}),l.length>0){const e=l.reduce((e,a)=>e+a.x,0)/l.length,a=l.reduce((e,a)=>e+a.y,0)/l.length;t.push({name:s.name,x:e,y:a})}const c=[];if(o.forEach(t=>{const n=a.get(t);if(n){const a=wa(n.ra,n.dec,e,te.latitude,te.longitude,100);if((E||a[1]<=0)&&(F||a[1]>=0)){const e=u(a,d,m,!0);e&&c.push(e)}}}),c.length>0){const e=c.reduce((e,a)=>e+a.x,0)/c.length,a=c.reduce((e,a)=>e+a.y,0)/c.length;n.push({name:s.name,x:e,y:a})}s.starNames.forEach(([t,n])=>{const s=a.get(t),o=a.get(n);if(s&&o){const a=st(s,o,e,te,r,i,{project3DTo2D:u,showAboveHorizon:E,showBelowHorizon:F});a&&f.push(a);const t=st(s,o,e,te,d,m,{project3DTo2D:u,showAboveHorizon:E,showBelowHorizon:F,belowHorizon:!0});t&&y.push(t)}})}),w&&(t.forEach(e=>{b.push('  <text x="'+e.x.toFixed(2)+'" y="'+e.y.toFixed(2)+'" class="constellation-label">'+e.name+"</text>")}),n.forEach(e=>{j.push('  <text x="'+e.x.toFixed(2)+'" y="'+e.y.toFixed(2)+'" class="constellation-label">'+e.name+"</text>")}))}const P=['<?xml version="1.0" encoding="UTF-8"?>','<svg xmlns="http://www.w3.org/2000/svg" width="2100" height="2970" viewBox="0 0 2100 2970">',"  <defs>","    <style>","      .grid-circle { stroke: #1e3a5f; stroke-width: 0.5; fill: none; opacity: "+.5*p+"; }","      .grid-line { stroke: #1e3a5f; stroke-width: 0.5; fill: none; opacity: "+.5*p+"; }","      .constellation-line { stroke: #4a6fa5; stroke-width: 1; stroke-dasharray: 4,3; fill: none; opacity: 0.6; }","      .star { filter: drop-shadow(0 0 1px rgba(255,255,255,0.3)); }","      .planet { filter: drop-shadow(0 0 3px rgba(255,255,255,0.6)); }",'      .star-label { font-family: "Space Mono", monospace; font-size: '+10*t+"px; fill: #aabbcc; }",'      .planet-label { font-family: "Orbitron", sans-serif; font-size: '+12*t+"px; font-weight: bold; }",'      .constellation-label { font-family: "Orbitron", sans-serif; font-size: '+11*t+"px; fill: #4a9eff; font-weight: bold; text-anchor: middle; }",'      .alt-label { font-family: "Space Mono", monospace; font-size: '+8*t+"px; fill: #6b8cba; opacity: 0.6; }",'      .azimuth-label { font-family: "Orbitron", sans-serif; font-size: '+14*t+"px; fill: #6b8cba; font-weight: bold; text-anchor: middle; }",'      .nakshatra-title { font-family: "Orbitron", sans-serif; font-size: '+28*n+"px; fill: #f59e0b; font-weight: bold; }",'      .nakshatra-planet { font-family: "Space Mono", monospace; font-size: '+20*n+"px; fill: #e5e7eb; }",'      .nakshatra-name { font-family: "Space Mono", monospace; font-size: '+22*n+"px; fill: #fbbf24; font-weight: bold; }","    </style>","  </defs>"];h.push(...P);const z="#0a0a1a",L=['  <rect width="2100" height="2970" fill="'+z+'"/>','  <rect width="1400" height="2970" fill="'+z+'"/>'];h.push(...L);const O=['  <rect x="1400" width="700" height="2970" fill="#0f0f20" stroke="#2a4a7f" stroke-width="2"/>','  <circle cx="'+r.toFixed(2)+'" cy="'+i.toFixed(2)+'" r="'+c.toFixed(2)+'" fill="none" stroke="#2a4a7f" stroke-width="3"/>','  <circle cx="'+d.toFixed(2)+'" cy="'+m.toFixed(2)+'" r="'+c.toFixed(2)+'" fill="none" stroke="#2a4a7f" stroke-width="3"/>'];h.push(...O);const R=["  \x3c!-- First Sky Map --\x3e",...M,...f,...x,...b];h.push(...R);const B=["  \x3c!-- First Map Title --\x3e",'  <text x="100" y="100" font-family="Orbitron, sans-serif" font-size="36" fill="#4a90d9" font-weight="bold">Sky Map - Above Horizon</text>','  <text x="100" y="145" font-family="Space Mono, monospace" font-size="22" fill="#6b7280">'+e.toISOString().split("T")[0]+" "+e.toTimeString().split(" ")[0]+"</text>"];a===`${te.latitude.toFixed(2)}°, ${te.longitude.toFixed(2)}°`?B.push('  <text x="100" y="180" font-family="Space Mono, monospace" font-size="20" fill="#6b7280">Coordinates: '+te.latitude.toFixed(2)+"°, "+te.longitude.toFixed(2)+"°</text>"):B.push('  <text x="100" y="180" font-family="Space Mono, monospace" font-size="20" fill="#6b7280">Location: '+a+"</text>",'  <text x="100" y="210" font-family="Space Mono, monospace" font-size="20" fill="#6b7280">Coordinates: '+te.latitude.toFixed(2)+"°, "+te.longitude.toFixed(2)+"°</text>"),h.push(...B);const D=["  \x3c!-- Separator --\x3e",'  <line x1="0" y1="1485" x2="1400" y2="1485" stroke="#2a4a7f" stroke-width="3"/>'];h.push(...D);const I=["  \x3c!-- Second Sky Map --\x3e",...N,...y,...g,...j];h.push(...I);const H=["  \x3c!-- Second Map Title --\x3e",'  <text x="100" y="1585" font-family="Orbitron, sans-serif" font-size="36" fill="#4a90d9" font-weight="bold">Sky Map - Below Horizon</text>','  <text x="100" y="1630" font-family="Space Mono, monospace" font-size="22" fill="#6b7280">'+e.toISOString().split("T")[0]+" "+e.toTimeString().split(" ")[0]+"</text>"];a===`${te.latitude.toFixed(2)}°, ${te.longitude.toFixed(2)}°`?H.push('  <text x="100" y="1665" font-family="Space Mono, monospace" font-size="20" fill="#6b7280">Coordinates: '+te.latitude.toFixed(2)+"°, "+te.longitude.toFixed(2)+"°</text>"):H.push('  <text x="100" y="1665" font-family="Space Mono, monospace" font-size="20" fill="#6b7280">Location: '+a+"</text>",'  <text x="100" y="1695" font-family="Space Mono, monospace" font-size="20" fill="#6b7280">Coordinates: '+te.latitude.toFixed(2)+"°, "+te.longitude.toFixed(2)+"°</text>"),h.push(...H);let G=120;const U=["  \x3c!-- Nakshatra Panel --\x3e",'  <text x="1480" y="'+G+'" class="nakshatra-title">PLANETARY NAKSHATRAS</text>'];h.push(...U),G+=60;k.forEach(a=>{const t=$a(a.ra,a.dec,a.eclipticLongitude,e),n=['  <circle cx="1510" cy="'+(G-5)+'" r="8" fill="'+a.color+'"/>','  <text x="1530" y="'+G+'" class="nakshatra-planet">'+a.name+"</text>",'  <text x="1990" y="'+G+'" class="nakshatra-name" text-anchor="end">'+t.toUpperCase()+"</text>"];h.push(...n),G+=38});const W=((e,a,t)=>{const n=a.eclipticLongitude||0;let s=(t.eclipticLongitude||0)-n;s<0&&(s+=360);let r="";return r=s<45?"New Moon":s<90?"Waxing Crescent":s<135?"First Quarter":s<180?"Waxing Gibbous":s<225?"Full Moon":s<270?"Waning Gibbous":s<315?"Last Quarter":"Waning Crescent",{phaseName:r,illumination:50*(1-Math.cos(s*Math.PI/180)),elongation:s}})(0,T,S),K=((e,a,t)=>{let n=t-a;n<0&&(n+=360);const s=Math.floor(n/12)+1;return`${["Pratipada","Dwitiya","Tritiya","Chaturthi","Panchami","Shashthi","Saptami","Ashtami","Navami","Dashami","Ekadashi","Dwadashi","Trayodashi","Chaturdashi","Purnima/Amavasya"][s<=15?s-1:s-16]} (${s<=15?"Shukla":"Krishna"})`})(0,T.eclipticLongitude??0,S.eclipticLongitude??0),$=qa(e,te.latitude,te.longitude),V=Xa(e,te.latitude,te.longitude),_=((e,a,t)=>{const n=Date.UTC(2e3,0,1,12,0,0);let s=360-(t.getTime()-n)/864e5/365.25*19.3%360;s<0&&(s+=360);const r=(s+180)%360;return{rahuNakshatra:Za(s,t),ketuNakshatra:Za(r,t)}})(0,0,e);G+=60;const Y=['  <text x="1480" y="'+G+'" font-family="Orbitron, sans-serif" font-size="18" fill="#f59e0b" font-weight="bold">LUNAR INFORMATION</text>'];G+=35,Y.push('  <text x="1500" y="'+G+'" class="nakshatra-planet">Moon Phase</text>','  <text x="1990" y="'+G+'" class="nakshatra-name" text-anchor="end">'+W.phaseName.toUpperCase()+"</text>"),G+=30,Y.push('  <text x="1500" y="'+G+'" class="nakshatra-planet">Illumination</text>','  <text x="1990" y="'+G+'" class="nakshatra-name" text-anchor="end">'+W.illumination.toFixed(1)+"%</text>"),G+=30,Y.push('  <text x="1500" y="'+G+'" class="nakshatra-planet">Tithi (Lunar Day)</text>','  <text x="1990" y="'+G+'" class="nakshatra-name" text-anchor="end">'+K.toUpperCase()+"</text>"),h.push(...Y),G+=50;const q=['  <text x="1480" y="'+G+'" font-family="Orbitron, sans-serif" font-size="18" fill="#f59e0b" font-weight="bold">LUNAR NODES</text>'];G+=35,q.push('  <circle cx="1510" cy="'+(G-5)+'" r="8" fill="#e74c3c"/>','  <text x="1530" y="'+G+'" class="nakshatra-planet">Rahu (North Node)</text>','  <text x="1990" y="'+G+'" class="nakshatra-name" text-anchor="end">'+_.rahuNakshatra.toUpperCase()+"</text>"),G+=35,q.push('  <circle cx="1510" cy="'+(G-5)+'" r="8" fill="#8e44ad"/>','  <text x="1530" y="'+G+'" class="nakshatra-planet">Ketu (South Node)</text>','  <text x="1990" y="'+G+'" class="nakshatra-name" text-anchor="end">'+_.ketuNakshatra.toUpperCase()+"</text>"),h.push(...q),G+=50;const X=['  <text x="1480" y="'+G+'" font-family="Orbitron, sans-serif" font-size="18" fill="#f59e0b" font-weight="bold">SUN &amp; MOON TIMES</text>'];G+=35,X.push('  <text x="1500" y="'+G+'" class="nakshatra-planet">Sunrise</text>','  <text x="1990" y="'+G+'" class="nakshatra-name" text-anchor="end">'+$.sunrise+"</text>"),G+=30,X.push('  <text x="1500" y="'+G+'" class="nakshatra-planet">Sunset</text>','  <text x="1990" y="'+G+'" class="nakshatra-name" text-anchor="end">'+$.sunset+"</text>"),G+=30,X.push('  <text x="1500" y="'+G+'" class="nakshatra-planet">Moonrise</text>','  <text x="1990" y="'+G+'" class="nakshatra-name" text-anchor="end">'+V.moonrise+"</text>"),G+=30,X.push('  <text x="1500" y="'+G+'" class="nakshatra-planet">Moonset</text>','  <text x="1990" y="'+G+'" class="nakshatra-name" text-anchor="end">'+V.moonset+"</text>"),h.push(...X);const Z=Ya(T.eclipticLongitude??0,e),J=Ya(S.eclipticLongitude??0,e);G+=50;const Q=['  <text x="1480" y="'+G+'" font-family="Orbitron, sans-serif" font-size="18" fill="#f59e0b" font-weight="bold">BIRTH RASHI</text>'];G+=25,Q.push('  <text x="1500" y="'+G+'" font-family="Space Mono, monospace" font-size="13" fill="#9ca3af">If born at this time:</text>'),G+=30,Q.push('  <text x="1500" y="'+G+'" class="nakshatra-planet">☀ Sun Sign</text>','  <text x="1990" y="'+G+'" class="nakshatra-name" text-anchor="end">'+Z.toUpperCase()+"</text>"),G+=30,Q.push('  <text x="1500" y="'+G+'" class="nakshatra-planet">🌙 Moon Sign</text>','  <text x="1990" y="'+G+'" class="nakshatra-name" text-anchor="end">'+J.toUpperCase()+"</text>"),h.push(...Q),G+=90;const ee=['  <line x1="1480" y1="'+(G-40)+'" x2="2000" y2="'+(G-40)+'" stroke="#4a6fa5" stroke-width="1"/>','  <text x="1480" y="'+G+'" font-family="Orbitron, sans-serif" font-size="20" fill="#6b8cba" font-weight="bold">About Nakshatras</text>'];G+=36,ee.push('  <text x="1480" y="'+G+'" font-family="Space Mono, monospace" font-size="15" fill="#9ca3af">Nakshatras are 27 lunar mansions in Vedic</text>'),G+=26,ee.push('  <text x="1480" y="'+G+'" font-family="Space Mono, monospace" font-size="15" fill="#9ca3af">astrology, each spanning 13°20\' of the</text>'),G+=26,ee.push('  <text x="1480" y="'+G+'" font-family="Space Mono, monospace" font-size="15" fill="#9ca3af">sidereal zodiac. Calculated using Lahiri</text>'),G+=26,ee.push('  <text x="1480" y="'+G+'" font-family="Space Mono, monospace" font-size="15" fill="#9ca3af">Ayanamsa for accurate sidereal positions.</text>'),h.push(...ee);return h.push("</svg>"),h.join("\n")},[e,s,o,l,w,p,te,E,F]),pe=t.useCallback(async(a,t,n=1,s=1)=>{const r=a.trim()||`${te.latitude.toFixed(2)}°, ${te.longitude.toFixed(2)}°`,o=he(r,n,s),i="skymap-"+e.toISOString().split("T")[0];if("svg"===t){const e=new Blob([o],{type:"image/svg+xml"}),a=URL.createObjectURL(e),t=document.createElement("a");t.href=a,t.download=i+".svg",document.body.appendChild(t),t.click(),t.remove(),URL.revokeObjectURL(a)}else{const{jsPDF:e}=await ve(async()=>{const{jsPDF:e}=await import("./pdf-vendor-ChITbXoE.js").then(e=>e.j);return{jsPDF:e}},__vite__mapDeps([7,2,3]),import.meta.url),{svg2pdf:a}=await ve(async()=>{const{svg2pdf:e}=await import("./pdf-vendor-ChITbXoE.js").then(e=>e.s);return{svg2pdf:e}},__vite__mapDeps([7,2,3]),import.meta.url),t=(new DOMParser).parseFromString(o,"image/svg+xml").documentElement,n=new e({orientation:"portrait",unit:"pt",format:"a4"});a(t,n,{x:0,y:0,width:n.internal.pageSize.getWidth(),height:n.internal.pageSize.getHeight()}).then(()=>{n.save(i+".pdf")})}},[e,te,he]),xe=t.useCallback(()=>{ae(!0)},[]);return n.jsxs("div",{className:"relative w-full h-screen bg-background",children:[n.jsx(Oa,{date:e,onDateChange:a,showGrid:s,onShowGridChange:r,showConstellations:o,onShowConstellationsChange:i,showLabels:l,onShowLabelsChange:c,showConstellationLabels:w,onShowConstellationLabelsChange:A,showStarGlow:d,onShowStarGlowChange:m,showPlanetGlow:u,onShowPlanetGlowChange:h,gridOpacity:p,onGridOpacityChange:x,skyDarkness:g,onSkyDarknessChange:f,zoomLevel:y,onZoomLevelChange:b,location:te,onLocationChange:ne,onExportSVG:xe,firstPersonMode:j,onFirstPersonModeChange:M,showCelestialInfo:N,onShowCelestialInfoChange:v,showNakshatraPanel:C,showSunMoonPanel:T,onShowSunMoonPanelChange:k,onShowNakshatraPanelChange:S,isLive:P,onLiveModeChange:z,showAboveHorizon:E,onShowAboveHorizonChange:L,showBelowHorizon:F,onShowBelowHorizonChange:O,showNakshatraRings:R,onShowNakshatraRingsChange:B,showHorizonLine:D,onShowHorizonLineChange:I,showEquatorLine:H,onShowEquatorLineChange:G,showEclipticLine:U,onShowEclipticLineChange:W,showTropicOfCancer:K,onShowTropicOfCancerChange:$,showTropicOfCapricorn:V,onShowTropicOfCapricornChange:_,showArcticCircle:Y,onShowArcticCircleChange:q,showAntarcticCircle:X,onShowAntarcticCircleChange:Z,timeSpeed:J,onTimeSpeedChange:Q}),n.jsx(qe,{ref:se,camera:{position:[0,50,y],fov:60,near:.1,far:1e3},style:{background:`linear-gradient(to bottom, ${me} 0%, ${ue} 100%)`},children:n.jsx(Ea,{date:oe,showGrid:s,showConstellations:o,showLabels:l,showConstellationLabels:w,showStarGlow:d,showPlanetGlow:u,gridOpacity:p,zoomLevel:y,location:te,firstPersonMode:j,showAboveHorizon:E,showBelowHorizon:F,showNakshatraRings:R,showHorizonLine:D,showEquatorLine:H,showEclipticLine:U,showTropicOfCancer:K,showTropicOfCapricorn:V,showArcticCircle:Y,showAntarcticCircle:X,controlsRef:re})}),n.jsx(Ua,{onGesture:de}),n.jsx("button",{className:"fixed top-4 right-4 z-[99999] bg-black/80 backdrop-blur-sm border border-white/20 rounded-lg p-2 text-xs text-white hover:bg-white/10 transition-colors shadow-lg flex items-center justify-center",onClick:()=>{document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()},title:"Toggle Full Screen (F11)",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})}),N&&(C||T)&&n.jsx(Ha,{planets:ie,date:e,location:te,showNakshatra:C,showSunMoon:T,calculateSunriseSunset:qa,calculateMoonriseMoonset:Xa,onClose:()=>{S(!1),k(!1)}}),ee&&n.jsx(Ga,{open:ee,onOpenChange:ae,defaultLocation:"Current Location"===te.name?"":te.name,onExport:pe,previewGenerator:he})]})}),it={name:"Sun",type:"star",radius:696340,color:"#FDB813",semiMajorAxis:0,eccentricity:0,inclination:0,longitudeOfAscendingNode:0,argumentOfPeriapsis:0,meanAnomalyAtEpoch:0,orbitalPeriod:0,axialTilt:7.25,rotationPeriod:609.12},lt=[{name:"Mercury",type:"planet",radius:2439.7,color:"#8c8c8c",semiMajorAxis:.38709927,eccentricity:.20563593,inclination:7.00497902,longitudeOfAscendingNode:48.33076593,argumentOfPeriapsis:29.12703035,meanAnomalyAtEpoch:174.79252722,orbitalPeriod:87.9691,axialTilt:.034,rotationPeriod:1407.6},{name:"Venus",type:"planet",radius:6051.8,color:"#e6c87a",semiMajorAxis:.72333566,eccentricity:.00677672,inclination:3.39467605,longitudeOfAscendingNode:76.67984255,argumentOfPeriapsis:54.85229712,meanAnomalyAtEpoch:50.44675034,orbitalPeriod:224.701,axialTilt:177.36,rotationPeriod:-5832.5},{name:"Earth",type:"planet",radius:6371,color:"#4a90d9",semiMajorAxis:1.00000261,eccentricity:.01671123,inclination:1531e-8,longitudeOfAscendingNode:-11.26064,argumentOfPeriapsis:114.20783,meanAnomalyAtEpoch:358.617,orbitalPeriod:365.256,axialTilt:23.44,rotationPeriod:23.9345},{name:"Mars",type:"planet",radius:3389.5,color:"#c1440e",semiMajorAxis:1.52371034,eccentricity:.0933941,inclination:1.84969142,longitudeOfAscendingNode:49.55953891,argumentOfPeriapsis:286.5016,meanAnomalyAtEpoch:19.41248,orbitalPeriod:686.98,axialTilt:25.19,rotationPeriod:24.6229},{name:"Jupiter",type:"planet",radius:69911,color:"#d8ca9d",semiMajorAxis:5.202887,eccentricity:.04838624,inclination:1.30439695,longitudeOfAscendingNode:100.47390909,argumentOfPeriapsis:273.867,meanAnomalyAtEpoch:20.02,orbitalPeriod:4332.59,axialTilt:3.13,rotationPeriod:9.925,hasRings:!0,ringInnerRadius:1.4,ringOuterRadius:1.8,ringColor:"#8b7355",ringOpacity:.2},{name:"Saturn",type:"planet",radius:58232,color:"#ead6b8",semiMajorAxis:9.53667594,eccentricity:.05386179,inclination:2.48599187,longitudeOfAscendingNode:113.66242448,argumentOfPeriapsis:339.392,meanAnomalyAtEpoch:317.02,orbitalPeriod:10759.22,axialTilt:26.73,rotationPeriod:10.656,hasRings:!0,ringInnerRadius:1.149,ringOuterRadius:2.349,ringColor:"#c4b896",ringOpacity:.7},{name:"Uranus",type:"planet",radius:25362,color:"#b4d9e8",semiMajorAxis:19.18916464,eccentricity:.04725744,inclination:.77263783,longitudeOfAscendingNode:74.01692503,argumentOfPeriapsis:96.998857,meanAnomalyAtEpoch:142.2386,orbitalPeriod:30688.5,axialTilt:97.77,rotationPeriod:-17.24,hasRings:!0,ringInnerRadius:1.5,ringOuterRadius:2,ringColor:"#6b8fa3",ringOpacity:.3},{name:"Neptune",type:"planet",radius:24622,color:"#5b5ddf",semiMajorAxis:30.06992276,eccentricity:.00859048,inclination:1.77004347,longitudeOfAscendingNode:131.78422574,argumentOfPeriapsis:276.336,meanAnomalyAtEpoch:256.228,orbitalPeriod:60182,axialTilt:28.32,rotationPeriod:16.11,hasRings:!0,ringInnerRadius:1.5,ringOuterRadius:2.5,ringColor:"#4040a0",ringOpacity:.2}],ct=[{name:"Moon",type:"moon",parent:"Earth",radius:1737.4,color:"#c4c4c4",semiMajorAxis:384400,eccentricity:.0549,inclination:5.145,longitudeOfAscendingNode:125.08,argumentOfPeriapsis:318.15,meanAnomalyAtEpoch:135.27,orbitalPeriod:27.322,axialTilt:6.68,rotationPeriod:655.728},{name:"Phobos",type:"moon",parent:"Mars",radius:11.267,color:"#8b7355",semiMajorAxis:9376,eccentricity:.0151,inclination:1.093,longitudeOfAscendingNode:164.8,argumentOfPeriapsis:150.057,meanAnomalyAtEpoch:92.474,orbitalPeriod:.3189,axialTilt:0,rotationPeriod:7.65},{name:"Deimos",type:"moon",parent:"Mars",radius:6.2,color:"#a0906c",semiMajorAxis:23463,eccentricity:33e-5,inclination:1.788,longitudeOfAscendingNode:339.6,argumentOfPeriapsis:290.496,meanAnomalyAtEpoch:296.23,orbitalPeriod:1.263,axialTilt:0,rotationPeriod:30.31},{name:"Io",type:"moon",parent:"Jupiter",radius:1821.6,color:"#e8d85c",semiMajorAxis:421700,eccentricity:.0041,inclination:.036,longitudeOfAscendingNode:43.977,argumentOfPeriapsis:84.129,meanAnomalyAtEpoch:342.021,orbitalPeriod:1.769,axialTilt:0,rotationPeriod:42.46},{name:"Europa",type:"moon",parent:"Jupiter",radius:1560.8,color:"#d4cfc4",semiMajorAxis:671034,eccentricity:.0094,inclination:.466,longitudeOfAscendingNode:219.106,argumentOfPeriapsis:88.97,meanAnomalyAtEpoch:171.016,orbitalPeriod:3.551,axialTilt:.1,rotationPeriod:85.23},{name:"Ganymede",type:"moon",parent:"Jupiter",radius:2634.1,color:"#9c9682",semiMajorAxis:1070412,eccentricity:.0011,inclination:.177,longitudeOfAscendingNode:63.552,argumentOfPeriapsis:192.417,meanAnomalyAtEpoch:317.54,orbitalPeriod:7.155,axialTilt:0,rotationPeriod:171.72},{name:"Callisto",type:"moon",parent:"Jupiter",radius:2410.3,color:"#6e6459",semiMajorAxis:1882709,eccentricity:.0074,inclination:.192,longitudeOfAscendingNode:298.848,argumentOfPeriapsis:52.643,meanAnomalyAtEpoch:181.408,orbitalPeriod:16.689,axialTilt:0,rotationPeriod:400.54},{name:"Titan",type:"moon",parent:"Saturn",radius:2574.73,color:"#d4a854",semiMajorAxis:1221870,eccentricity:.0288,inclination:.34854,longitudeOfAscendingNode:0,argumentOfPeriapsis:0,meanAnomalyAtEpoch:0,orbitalPeriod:15.945,axialTilt:0,rotationPeriod:382.68},{name:"Rhea",type:"moon",parent:"Saturn",radius:763.8,color:"#c8c8c8",semiMajorAxis:527108,eccentricity:.0012583,inclination:.345,longitudeOfAscendingNode:0,argumentOfPeriapsis:0,meanAnomalyAtEpoch:0,orbitalPeriod:4.518,axialTilt:0,rotationPeriod:108.43},{name:"Iapetus",type:"moon",parent:"Saturn",radius:734.5,color:"#8c7e6c",semiMajorAxis:3560820,eccentricity:.0276,inclination:15.47,longitudeOfAscendingNode:0,argumentOfPeriapsis:0,meanAnomalyAtEpoch:0,orbitalPeriod:79.322,axialTilt:0,rotationPeriod:1903.72},{name:"Dione",type:"moon",parent:"Saturn",radius:561.4,color:"#e8e8e8",semiMajorAxis:377396,eccentricity:.0022,inclination:.028,longitudeOfAscendingNode:0,argumentOfPeriapsis:0,meanAnomalyAtEpoch:0,orbitalPeriod:2.737,axialTilt:0,rotationPeriod:65.69},{name:"Tethys",type:"moon",parent:"Saturn",radius:531.1,color:"#f0f0f0",semiMajorAxis:294619,eccentricity:1e-4,inclination:1.12,longitudeOfAscendingNode:0,argumentOfPeriapsis:0,meanAnomalyAtEpoch:0,orbitalPeriod:1.888,axialTilt:0,rotationPeriod:45.31},{name:"Enceladus",type:"moon",parent:"Saturn",radius:252.1,color:"#ffffff",semiMajorAxis:237948,eccentricity:.0047,inclination:.019,longitudeOfAscendingNode:0,argumentOfPeriapsis:0,meanAnomalyAtEpoch:0,orbitalPeriod:1.37,axialTilt:0,rotationPeriod:32.88},{name:"Mimas",type:"moon",parent:"Saturn",radius:198.2,color:"#c0c0c0",semiMajorAxis:185539,eccentricity:.0196,inclination:1.574,longitudeOfAscendingNode:0,argumentOfPeriapsis:0,meanAnomalyAtEpoch:0,orbitalPeriod:.942,axialTilt:0,rotationPeriod:22.61},{name:"Titania",type:"moon",parent:"Uranus",radius:788.4,color:"#a8a8a8",semiMajorAxis:435910,eccentricity:.0011,inclination:.079,longitudeOfAscendingNode:0,argumentOfPeriapsis:0,meanAnomalyAtEpoch:0,orbitalPeriod:8.706,axialTilt:0,rotationPeriod:208.94},{name:"Oberon",type:"moon",parent:"Uranus",radius:761.4,color:"#9c9494",semiMajorAxis:583520,eccentricity:.0014,inclination:.068,longitudeOfAscendingNode:0,argumentOfPeriapsis:0,meanAnomalyAtEpoch:0,orbitalPeriod:13.463,axialTilt:0,rotationPeriod:323.12},{name:"Umbriel",type:"moon",parent:"Uranus",radius:584.7,color:"#6c6c6c",semiMajorAxis:266e3,eccentricity:.0039,inclination:.128,longitudeOfAscendingNode:0,argumentOfPeriapsis:0,meanAnomalyAtEpoch:0,orbitalPeriod:4.144,axialTilt:0,rotationPeriod:99.46},{name:"Ariel",type:"moon",parent:"Uranus",radius:578.9,color:"#b8b8b8",semiMajorAxis:191020,eccentricity:.0012,inclination:.041,longitudeOfAscendingNode:0,argumentOfPeriapsis:0,meanAnomalyAtEpoch:0,orbitalPeriod:2.52,axialTilt:0,rotationPeriod:60.49},{name:"Miranda",type:"moon",parent:"Uranus",radius:235.8,color:"#c0c0c0",semiMajorAxis:129390,eccentricity:.0013,inclination:4.232,longitudeOfAscendingNode:0,argumentOfPeriapsis:0,meanAnomalyAtEpoch:0,orbitalPeriod:1.413,axialTilt:0,rotationPeriod:33.92},{name:"Triton",type:"moon",parent:"Neptune",radius:1353.4,color:"#d4c8bc",semiMajorAxis:354759,eccentricity:16e-6,inclination:156.885,longitudeOfAscendingNode:0,argumentOfPeriapsis:0,meanAnomalyAtEpoch:0,orbitalPeriod:-5.877,axialTilt:0,rotationPeriod:141.05}],dt=[{name:"Pluto",type:"dwarf_planet",radius:1188.3,color:"#c4a882",semiMajorAxis:39.48211675,eccentricity:.2488273,inclination:17.14001206,longitudeOfAscendingNode:110.30393684,argumentOfPeriapsis:113.834,meanAnomalyAtEpoch:14.53,orbitalPeriod:90560,axialTilt:122.53,rotationPeriod:-153.29},{name:"Ceres",type:"dwarf_planet",radius:469.73,color:"#9c9c9c",semiMajorAxis:2.7691651545,eccentricity:.0760090291,inclination:10.59406704,longitudeOfAscendingNode:80.30553156,argumentOfPeriapsis:73.115369,meanAnomalyAtEpoch:77.372,orbitalPeriod:1681.63,axialTilt:4,rotationPeriod:9.074},{name:"Eris",type:"dwarf_planet",radius:1163,color:"#d8d8d8",semiMajorAxis:67.7091,eccentricity:.44068,inclination:44.04,longitudeOfAscendingNode:35.877,argumentOfPeriapsis:151.639,meanAnomalyAtEpoch:205.989,orbitalPeriod:203830,axialTilt:78,rotationPeriod:25.9},{name:"Makemake",type:"dwarf_planet",radius:715,color:"#c8a878",semiMajorAxis:45.791,eccentricity:.15586,inclination:28.9835,longitudeOfAscendingNode:79.416,argumentOfPeriapsis:297.24,meanAnomalyAtEpoch:153.94,orbitalPeriod:113190,axialTilt:0,rotationPeriod:22.48},{name:"Haumea",type:"dwarf_planet",radius:816,color:"#e0e0e0",semiMajorAxis:43.335,eccentricity:.19126,inclination:28.2137,longitudeOfAscendingNode:122.167,argumentOfPeriapsis:239.041,meanAnomalyAtEpoch:218.205,orbitalPeriod:103774,axialTilt:126,rotationPeriod:3.9155}],mt=2.2,ut=3.2,ht=[{name:"Halley's Comet",type:"comet",radius:5.5,color:"#d4d4d4",semiMajorAxis:17.834,eccentricity:.96714,inclination:162.26,longitudeOfAscendingNode:58.42,argumentOfPeriapsis:111.33,meanAnomalyAtEpoch:38.38,orbitalPeriod:27510,axialTilt:0,rotationPeriod:52.8},{name:"Hale-Bopp",type:"comet",radius:30,color:"#e0e0e0",semiMajorAxis:186,eccentricity:.995,inclination:89.4,longitudeOfAscendingNode:282.47,argumentOfPeriapsis:130.59,meanAnomalyAtEpoch:0,orbitalPeriod:923285,axialTilt:0,rotationPeriod:11.4},{name:"Encke",type:"comet",radius:2.4,color:"#c8c8c8",semiMajorAxis:2.2178,eccentricity:.8483,inclination:11.76,longitudeOfAscendingNode:334.57,argumentOfPeriapsis:186.54,meanAnomalyAtEpoch:0,orbitalPeriod:1204,axialTilt:0,rotationPeriod:11.08}],pt=100,xt=1e-5,gt=.008,ft=2.5,yt={Earth:2.5,Mars:80,Jupiter:8,Saturn:12,Uranus:8,Neptune:6};function bt(e){return e*Math.PI/180}function jt(e,a){const t=function(e){const a=e.getUTCFullYear(),t=e.getUTCMonth()+1,n=e.getUTCDate(),s=e.getUTCHours()+e.getUTCMinutes()/60+e.getUTCSeconds()/3600;let r=a,o=t;t<=2&&(r-=1,o+=12);const i=Math.floor(r/100),l=2-i+Math.floor(i/4);return Math.floor(365.25*(r+4716))+Math.floor(30.6001*(o+1))+n+s/24+l-1524.5}(a),n=t-2451545,s=e.semiMajorAxis,r=e.eccentricity,o=bt(e.inclination),i=bt(e.longitudeOfAscendingNode),l=bt(e.argumentOfPeriapsis),c=360/Math.abs(e.orbitalPeriod),d=bt(function(e){let a=e%360;return a<0&&(a+=360),a}(e.meanAnomalyAtEpoch+c*n)),m=function(e,a,t=1e-8){let n=e;for(let s=0;s<100;s++){const s=(n-a*Math.sin(n)-e)/(1-a*Math.cos(n));if(n-=s,Math.abs(s)<t)break}return n}(d,r),u=function(e,a){const t=Math.sqrt(1-a*a)*Math.sin(e)/(1-a*Math.cos(e)),n=(Math.cos(e)-a)/(1-a*Math.cos(e));return Math.atan2(t,n)}(m,r),h=function(e,a,t){return e*(1-a*Math.cos(t))}(s,r,m),p=h*Math.cos(u),x=h*Math.sin(u),g=Math.cos(l),f=Math.sin(l),y=Math.cos(o),b=Math.sin(o),j=Math.cos(i),M=Math.sin(i);return{x:(j*g-M*f*y)*p+(-j*f-M*g*y)*x,y:(M*g+j*f*y)*p+(-M*f+j*g*y)*x,z:f*b*p+g*b*x,distance:h,trueAnomaly:u,meanAnomaly:d}}const Mt={Sun:"/textures/sun.jpg",Mercury:"/textures/mercury.jpg",Venus:"/textures/venus.jpg",Earth:"/textures/earth.jpg",Mars:"/textures/mars.jpg",Jupiter:"/textures/jupiter.jpg",Saturn:"/textures/saturn.jpg",Uranus:"/textures/uranus.jpg",Neptune:"/textures/neptune.jpg",Pluto:"/textures/pluto.jpg",Moon:"/textures/moon.jpg",Io:"/textures/io.jpg",Europa:"/textures/europa.jpg",Ganymede:"/textures/ganymede.jpg",Callisto:"/textures/callisto.jpg",Mimas:"/textures/mimas.jpg",Enceladus:"/textures/enceladus.jpg"},wt={Sun:"#FDB813",Mercury:"#8c8c8c",Venus:"#e6c87a",Earth:"#4a90d9",Mars:"#c1440e",Jupiter:"#d8ca9d",Saturn:"#ead6b8",Uranus:"#b4d9e8",Neptune:"#5b5ddf",Moon:"#c4c4c4",Io:"#e8d85c",Europa:"#d4cfc4",Ganymede:"#9c9682",Callisto:"#6e6459",Titan:"#d4a854",Pluto:"#cbb797"};function At({distanceToCamera:e,bodyRadius:a}){const t=Math.max(.3,e/10),s=.04*t,r=.1*t,o=.12*t,i=.008*t,l=a+.05*t+r;return n.jsxs("group",{position:[0,l,0],children:[n.jsxs("mesh",{rotation:[Math.PI,0,0],children:[n.jsx("coneGeometry",{args:[s,r,6]}),n.jsx("meshBasicMaterial",{color:"#00ff88"})]}),n.jsxs("mesh",{position:[0,.5*r+.25*o,0],children:[n.jsx("cylinderGeometry",{args:[i,i,.5*o,6]}),n.jsx("meshBasicMaterial",{color:"#00ff88"})]})]})}function Nt({radius:e}){const a=t.useRef(null),s=150,{positions:r,velocities:o,colors:i,sizes:l,lifetimes:c}=t.useMemo(()=>{const a=new Float32Array(450),t=new Float32Array(450),n=new Float32Array(450),r=new Float32Array(s),o=new Float32Array(s);for(let i=0;i<s;i++){const s=3*i,l=Math.random()*Math.PI*2,c=.7*Math.acos(2*Math.random()-1)+.15*Math.PI,d=e*(1.01+.15*Math.random());a[s]=d*Math.sin(c)*Math.cos(l),a[s+1]=d*Math.sin(c)*Math.sin(l),a[s+2]=d*Math.cos(c);const m=new He(a[s],a[s+1],a[s+2]).normalize(),u=5e-4+.002*Math.random();t[s]=m.x*u,t[s+1]=m.y*u,t[s+2]=m.z*u;const h=Math.random();h<.4?(n[s]=1,n[s+1]=.95,n[s+2]=.7):h<.7?(n[s]=1,n[s+1]=.6+.2*Math.random(),n[s+2]=.2):(n[s]=1,n[s+1]=.3+.2*Math.random(),n[s+2]=.1),r[i]=.015+.03*Math.random(),o[i]=Math.random()}return{positions:a,velocities:t,colors:n,sizes:r,lifetimes:o}},[e,s]);De((t,n)=>{if(!a.current)return;const r=a.current.geometry.attributes.position,i=a.current.geometry.attributes.size,d=r.array,m=i.array;for(let a=0;a<s;a++){const t=3*a;if(c[a]+=.2*n,c[a]>1){c[a]=0;const n=Math.random()*Math.PI*2,s=.7*Math.acos(2*Math.random()-1)+.15*Math.PI,r=1.01*e;d[t]=r*Math.sin(s)*Math.cos(n),d[t+1]=r*Math.sin(s)*Math.sin(n),d[t+2]=r*Math.cos(s);const i=new He(d[t],d[t+1],d[t+2]).normalize(),l=5e-4+.002*Math.random();o[t]=i.x*l,o[t+1]=i.y*l,o[t+2]=i.z*l}else{d[t]+=o[t],d[t+1]+=o[t+1],d[t+2]+=o[t+2];const e=Math.min(4*c[a],1)*(1-Math.pow(c[a],1.5));m[a]=l[a]*e}}r.needsUpdate=!0,i.needsUpdate=!0,a.current.rotation.y+=.01*n});const d=t.useMemo(()=>{const e=document.createElement("canvas");e.width=32,e.height=32;const a=e.getContext("2d"),t=a.createRadialGradient(16,16,0,16,16,16);t.addColorStop(0,"rgba(255, 255, 255, 1)"),t.addColorStop(.3,"rgba(255, 220, 150, 0.6)"),t.addColorStop(.6,"rgba(255, 150, 50, 0.3)"),t.addColorStop(1,"rgba(255, 100, 0, 0)"),a.fillStyle=t,a.fillRect(0,0,32,32);return new ze(e)},[]);return n.jsxs("points",{ref:a,children:[n.jsxs("bufferGeometry",{children:[n.jsx("bufferAttribute",{attach:"attributes-position",count:s,array:r,itemSize:3}),n.jsx("bufferAttribute",{attach:"attributes-color",count:s,array:i,itemSize:3}),n.jsx("bufferAttribute",{attach:"attributes-size",count:s,array:l,itemSize:1})]}),n.jsx("pointsMaterial",{map:d,size:.05,sizeAttenuation:!0,transparent:!0,opacity:.8,vertexColors:!0,blending:ke,depthWrite:!1})]})}function vt({innerRadius:e,outerRadius:a,opacity:s=.7}){const r=t.useRef(null),o=2e4,{positions:i,colors:l,sizes:c}=t.useMemo(()=>{const t=new Float32Array(6e4),n=new Float32Array(6e4),s=new Float32Array(o),r=a-e,i=.791,l=.06*r;for(let a=0;a<o;a++){const o=3*a,c=Math.random()*Math.PI*2,d=a%7/6-.5;let m=Math.random();m>.725&&m<i&&Math.random()>.05&&(m=Math.random()>.5?.725*Math.random():i+(1-i)*Math.random());const u=e+m*r,h=d*l+(Math.random()-.5)*(l/7)*.7;t[o]=u*Math.cos(c),t[o+1]=h,t[o+2]=u*Math.sin(c);let p=.7+.3*Math.random(),x=.8;m<.109?(p*=.4,x=.3):m<.359?(p*=.6,x=.5):m<.725?(p*=1,x=.9):m<i?(p*=.2,x=.15):(p*=.85,x=.75),n[o]=p*(.95+.05*Math.random()),n[o+1]=p*(.9+.05*Math.random()),n[o+2]=p*(.8+.1*Math.random()),s[a]=(.002+.006*Math.random())*x}return{positions:t,colors:n,sizes:s}},[e,a,o]);De(e=>{if(r.current){r.current.rotation.y+=1e-4;const a=r.current.geometry.attributes.size,t=a.array,n=e.clock.elapsedTime;for(let e=0;e<o;e+=50){const a=c[e],s=1+.3*Math.sin(2*n+.1*e);t[e]=a*s}a.needsUpdate=!0}});const d=t.useMemo(()=>{const e=document.createElement("canvas");e.width=32,e.height=32;const a=e.getContext("2d"),t=a.createRadialGradient(16,16,0,16,16,16);return t.addColorStop(0,"rgba(255, 255, 255, 1)"),t.addColorStop(.3,"rgba(255, 250, 240, 0.8)"),t.addColorStop(.6,"rgba(255, 245, 230, 0.4)"),t.addColorStop(1,"rgba(255, 240, 220, 0)"),a.fillStyle=t,a.fillRect(0,0,32,32),new ze(e)},[]),m=t.useMemo(()=>{const t=new Be(e,a,128),n=t.attributes.position,s=t.attributes.uv;for(let r=0;r<n.count;r++){const t=n.getX(r),o=n.getY(r),i=(Math.sqrt(t*t+o*o)-e)/(a-e);s.setXY(r,i,.5)}return t},[e,a]),u=t.useMemo(()=>{const e=document.createElement("canvas");e.width=1024,e.height=1;const a=e.getContext("2d"),t=2.349-1.149,n=.131/t,s=.35916666666666663,r=.725,o=.790833333333333,i=a.createLinearGradient(0,0,1024,0);i.addColorStop(0,"rgba(120, 110, 90, 0.1)"),i.addColorStop(n,"rgba(150, 135, 110, 0.15)"),i.addColorStop(s,"rgba(165, 150, 125, 0.2)"),i.addColorStop(s+.01,"rgba(200, 185, 155, 0.35)"),i.addColorStop(.5420833333333333,"rgba(220, 200, 165, 0.45)"),i.addColorStop(r,"rgba(180, 160, 130, 0.25)"),i.addColorStop(.735,"rgba(20, 18, 15, 0.02)"),i.addColorStop(o-.01,"rgba(20, 18, 15, 0.02)"),i.addColorStop(o,"rgba(180, 165, 140, 0.25)"),i.addColorStop((o+1)/2,"rgba(200, 185, 155, 0.35)"),i.addColorStop(.94,"rgba(80, 70, 55, 0.1)"),i.addColorStop(.96,"rgba(80, 70, 55, 0.1)"),i.addColorStop(1,"rgba(100, 90, 75, 0.15)"),a.fillStyle=i,a.fillRect(0,0,1024,1);const l=new ze(e);return l.needsUpdate=!0,l},[]);return Xe.degToRad(26.73),n.jsxs("group",{children:[n.jsx("mesh",{geometry:m,rotation:[Math.PI/2,0,0],children:n.jsx("meshBasicMaterial",{map:u,transparent:!0,opacity:.5*s,side:Ze,depthWrite:!1})}),n.jsxs("points",{ref:r,rotation:[0,0,0],children:[n.jsxs("bufferGeometry",{children:[n.jsx("bufferAttribute",{attach:"attributes-position",count:o,array:i,itemSize:3}),n.jsx("bufferAttribute",{attach:"attributes-color",count:o,array:l,itemSize:3}),n.jsx("bufferAttribute",{attach:"attributes-size",count:o,array:c,itemSize:1})]}),n.jsx("pointsMaterial",{map:d,size:.015,sizeAttenuation:!0,transparent:!0,opacity:s,vertexColors:!0,depthWrite:!1,blending:ke})]})]})}function Ct({innerRadius:e,outerRadius:a,opacity:s=.25}){const r=t.useRef(null),o=8e3,{positions:i,colors:l,sizes:c}=t.useMemo(()=>{const t=new Float32Array(24e3),n=new Float32Array(24e3),s=new Float32Array(o),r=a-e,i=.03*r;for(let a=0;a<o;a++){const o=3*a,l=Math.random()*Math.PI*2,c=a%3/2-.5,d=Math.random(),m=e+d*r,u=c*i+(Math.random()-.5)*(i/3)*.6;t[o]=m*Math.cos(l),t[o+1]=u,t[o+2]=m*Math.sin(l);let h=.3+.2*Math.random();h*=d<.2?.5:d<.4?1:.3,n[o]=.7*h,n[o+1]=.6*h,n[o+2]=.5*h,s[a]=.002+.004*Math.random()}return{positions:t,colors:n,sizes:s}},[e,a,o]);De(()=>{r.current&&(r.current.rotation.y+=15e-5)});const d=t.useMemo(()=>{const e=document.createElement("canvas");e.width=32,e.height=32;const a=e.getContext("2d"),t=a.createRadialGradient(16,16,0,16,16,16);return t.addColorStop(0,"rgba(255, 255, 255, 1)"),t.addColorStop(.5,"rgba(200, 180, 150, 0.5)"),t.addColorStop(1,"rgba(150, 130, 100, 0)"),a.fillStyle=t,a.fillRect(0,0,32,32),new ze(e)},[]);return n.jsx("group",{children:n.jsxs("points",{ref:r,children:[n.jsxs("bufferGeometry",{children:[n.jsx("bufferAttribute",{attach:"attributes-position",count:o,array:i,itemSize:3}),n.jsx("bufferAttribute",{attach:"attributes-color",count:o,array:l,itemSize:3}),n.jsx("bufferAttribute",{attach:"attributes-size",count:o,array:c,itemSize:1})]}),n.jsx("pointsMaterial",{map:d,size:.01,sizeAttenuation:!0,transparent:!0,opacity:s,vertexColors:!0,depthWrite:!1,blending:ke})]})})}function St({innerRadius:e,outerRadius:a,opacity:s=.4}){const r=t.useRef(null),o=12e3,{positions:i,colors:l,sizes:c}=t.useMemo(()=>{const t=new Float32Array(36e3),n=new Float32Array(36e3),s=new Float32Array(o),r=a-e,i=.04*r,l=[.1,.2,.35,.45,.55,.65,.75,.85,.95],c=[.03,.02,.04,.02,.03,.02,.05,.03,.06];for(let a=0;a<o;a++){const o=3*a,d=Math.random()*Math.PI*2,m=a%5/4-.5,u=Math.floor(Math.random()*l.length),h=c[u],p=l[u]+(Math.random()-.5)*h,x=e+Math.max(0,Math.min(1,p))*r,g=m*i+(Math.random()-.5)*(i/5)*.5;t[o]=x*Math.cos(d),t[o+1]=g,t[o+2]=x*Math.sin(d);const f=.15+.1*Math.random();n[o]=.85*f,n[o+1]=.9*f,n[o+2]=1*f,s[a]=.002+.005*Math.random()}return{positions:t,colors:n,sizes:s}},[e,a,o]);De(()=>{r.current&&(r.current.rotation.y+=8e-5)});const d=t.useMemo(()=>{const e=document.createElement("canvas");e.width=32,e.height=32;const a=e.getContext("2d"),t=a.createRadialGradient(16,16,0,16,16,16);return t.addColorStop(0,"rgba(180, 190, 200, 1)"),t.addColorStop(.5,"rgba(100, 110, 120, 0.6)"),t.addColorStop(1,"rgba(50, 60, 70, 0)"),a.fillStyle=t,a.fillRect(0,0,32,32),new ze(e)},[]);return n.jsx("group",{children:n.jsxs("points",{ref:r,children:[n.jsxs("bufferGeometry",{children:[n.jsx("bufferAttribute",{attach:"attributes-position",count:o,array:i,itemSize:3}),n.jsx("bufferAttribute",{attach:"attributes-color",count:o,array:l,itemSize:3}),n.jsx("bufferAttribute",{attach:"attributes-size",count:o,array:c,itemSize:1})]}),n.jsx("pointsMaterial",{map:d,size:.012,sizeAttenuation:!0,transparent:!0,opacity:s,vertexColors:!0,depthWrite:!1,blending:ke})]})})}function Tt({innerRadius:e,outerRadius:a,opacity:s=.3}){const r=t.useRef(null),o=1e4,{positions:i,colors:l,sizes:c}=t.useMemo(()=>{const t=new Float32Array(3e4),n=new Float32Array(3e4),s=new Float32Array(o),r=a-e,i=.035*r,l=[.15,.3,.5,.7,.9],c=[.08,.04,.1,.03,.06],d=[.2,.4,.6,.8];for(let a=0;a<o;a++){const o=3*a;let m=Math.random()*Math.PI*2;const u=a%4/3-.5,h=Math.floor(Math.random()*l.length),p=c[h];let x=l[h]+(Math.random()-.5)*p,g=!1;if(4===h){const e=m/(2*Math.PI)%1;for(const a of d)if(Math.abs(e-a)<.075){g=!0;break}if(!g&&Math.random()<.7){m=(d[Math.floor(Math.random()*d.length)]+.15*(Math.random()-.5))*Math.PI*2,g=!0}}const f=e+Math.max(0,Math.min(1,x))*r,y=u*i+(Math.random()-.5)*(i/4)*.5;t[o]=f*Math.cos(m),t[o+1]=y,t[o+2]=f*Math.sin(m);let b=.2+.15*Math.random();g&&(b*=1.8),n[o]=1*b,n[o+1]=.85*b,n[o+2]=.9*b,s[a]=.002+.004*Math.random()}return{positions:t,colors:n,sizes:s}},[e,a,o]);De(()=>{r.current&&(r.current.rotation.y+=1e-4)});const d=t.useMemo(()=>{const e=document.createElement("canvas");e.width=32,e.height=32;const a=e.getContext("2d"),t=a.createRadialGradient(16,16,0,16,16,16);return t.addColorStop(0,"rgba(200, 180, 190, 1)"),t.addColorStop(.5,"rgba(120, 100, 110, 0.5)"),t.addColorStop(1,"rgba(80, 60, 70, 0)"),a.fillStyle=t,a.fillRect(0,0,32,32),new ze(e)},[]);return n.jsx("group",{children:n.jsxs("points",{ref:r,children:[n.jsxs("bufferGeometry",{children:[n.jsx("bufferAttribute",{attach:"attributes-position",count:o,array:i,itemSize:3}),n.jsx("bufferAttribute",{attach:"attributes-color",count:o,array:l,itemSize:3}),n.jsx("bufferAttribute",{attach:"attributes-size",count:o,array:c,itemSize:1})]}),n.jsx("pointsMaterial",{map:d,size:.01,sizeAttenuation:!0,transparent:!0,opacity:s,vertexColors:!0,depthWrite:!1,blending:ke})]})})}function kt({body:e,radius:a,isSun:s,parentPosition:r}){const o=t.useRef(null),i=t.useRef(null),l=Mt[e.name],c=wt[e.name]||e.color,d=t.useMemo(()=>{if(!l)return null;const e=(new Je).load(l);return e.colorSpace=Qe,e.wrapS=ea,e.wrapT=aa,e.minFilter=ta,e.magFilter=na,e.anisotropy=16,e},[l]),m=t.useMemo(()=>{if(s||!d)return null;const e=function(e){return new sa({uniforms:{dayTexture:{value:e},sunWorldPosition:{value:new He(0,0,0)},planetWorldPosition:{value:new He(0,0,0)}},vertexShader:"\n      varying vec2 vUv;\n      varying vec3 vWorldNormal;\n      varying vec3 vWorldPosition;\n      \n      void main() {\n        vUv = uv;\n        // Transform normal to world space\n        vWorldNormal = normalize((modelMatrix * vec4(normal, 0.0)).xyz);\n        // Get world position of this vertex\n        vec4 worldPos = modelMatrix * vec4(position, 1.0);\n        vWorldPosition = worldPos.xyz;\n        gl_Position = projectionMatrix * viewMatrix * worldPos;\n      }\n    ",fragmentShader:"\n      uniform sampler2D dayTexture;\n      uniform vec3 sunWorldPosition;\n      uniform vec3 planetWorldPosition;\n      \n      varying vec2 vUv;\n      varying vec3 vWorldNormal;\n      varying vec3 vWorldPosition;\n      \n      void main() {\n        // Calculate direction from this point to the sun\n        vec3 toSun = normalize(sunWorldPosition - vWorldPosition);\n        \n        // Dot product: positive when facing sun, negative when facing away\n        float sunDot = dot(normalize(vWorldNormal), toSun);\n        \n        // Smooth day/night transition\n        // -0.1 to 0.3 creates a soft terminator\n        float dayFactor = smoothstep(-0.1, 0.3, sunDot);\n        \n        vec4 dayColor = texture2D(dayTexture, vUv);\n        vec3 nightColor = dayColor.rgb * 0.05; // Very dark on night side\n        \n        vec3 finalColor = mix(nightColor, dayColor.rgb, dayFactor);\n        \n        // Add subtle orange terminator glow at the day/night boundary\n        float terminator = 1.0 - abs(sunDot);\n        float terminatorGlow = pow(terminator, 6.0) * 0.4;\n        finalColor += vec3(0.6, 0.3, 0.1) * terminatorGlow * (1.0 - dayFactor);\n        \n        gl_FragColor = vec4(finalColor, 1.0);\n      }\n    "})}(d);return i.current=e,e},[d,s]);if(De(()=>{if(o.current&&0!==e.rotationPeriod){const a=2*Math.PI/(3600*Math.abs(e.rotationPeriod));o.current.rotation.y+=a*(e.rotationPeriod<0?-1:1)*10}i.current&&(i.current.uniforms.sunWorldPosition.value.set(0,0,0),i.current.uniforms.planetWorldPosition.value.set(r[0],r[1],r[2]))}),!d)return n.jsxs("mesh",{ref:o,rotation:[0,0,Xe.degToRad(e.axialTilt)],children:[n.jsx("sphereGeometry",{args:[a,64,64]}),n.jsx("meshBasicMaterial",{color:c})]});if(s){const s=t.useMemo(()=>new sa({uniforms:{sunTexture:{value:d},time:{value:0},pulseIntensity:{value:1}},vertexShader:"\n          varying vec2 vUv;\n          varying vec3 vNormal;\n          \n          void main() {\n            vUv = uv;\n            vNormal = normalize(normalMatrix * normal);\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n          }\n        ",fragmentShader:"\n          uniform sampler2D sunTexture;\n          uniform float time;\n          uniform float pulseIntensity;\n          \n          varying vec2 vUv;\n          varying vec3 vNormal;\n          \n          // Noise function for organic flickering\n          float hash(vec2 p) {\n            return fract(sin(dot(p, vec2(127.1, 311.7))) * 43758.5453);\n          }\n          \n          float noise(vec2 p) {\n            vec2 i = floor(p);\n            vec2 f = fract(p);\n            f = f * f * (3.0 - 2.0 * f);\n            \n            float a = hash(i);\n            float b = hash(i + vec2(1.0, 0.0));\n            float c = hash(i + vec2(0.0, 1.0));\n            float d = hash(i + vec2(1.0, 1.0));\n            \n            return mix(mix(a, b, f.x), mix(c, d, f.x), f.y);\n          }\n          \n          void main() {\n            vec4 texColor = texture2D(sunTexture, vUv);\n            \n            // Multiple layered pulse effects\n            float slowPulse = sin(time * 0.5) * 0.5 + 0.5;\n            float mediumPulse = sin(time * 1.2 + 1.5) * 0.5 + 0.5;\n            float fastFlicker = sin(time * 4.0) * 0.5 + 0.5;\n            \n            // Noise-based organic variation\n            vec2 noiseCoord = vUv * 3.0 + time * 0.1;\n            float organicNoise = noise(noiseCoord) * 0.3;\n            \n            // Surface activity simulation\n            vec2 activityCoord = vUv * 8.0 + vec2(time * 0.05, time * 0.03);\n            float surfaceActivity = noise(activityCoord) * 0.15;\n            \n            // Combine pulses with different weights\n            float combinedPulse = slowPulse * 0.15 + mediumPulse * 0.1 + fastFlicker * 0.05;\n            combinedPulse += organicNoise + surfaceActivity;\n            \n            // Base brightness with pulse\n            float brightness = 1.0 + combinedPulse * pulseIntensity;\n            \n            // Limb darkening effect (edges slightly darker)\n            float limbDarkening = pow(max(dot(vNormal, vec3(0.0, 0.0, 1.0)), 0.0), 0.3);\n            limbDarkening = mix(0.85, 1.0, limbDarkening);\n            \n            // Apply brightness and limb effect\n            vec3 finalColor = texColor.rgb * brightness * limbDarkening;\n            \n            // Add subtle color variation - more orange during bright pulses\n            vec3 hotColor = vec3(1.0, 0.9, 0.7);\n            vec3 coolColor = vec3(1.0, 0.6, 0.3);\n            finalColor = mix(finalColor * coolColor, finalColor * hotColor, combinedPulse);\n            \n            // Emissive boost\n            finalColor *= 1.3;\n            \n            gl_FragColor = vec4(finalColor, 1.0);\n          }\n        "}),[d]);return De(e=>{s&&(s.uniforms.time.value=e.clock.elapsedTime,s.uniforms.pulseIntensity.value=.8+.2*Math.sin(.3*e.clock.elapsedTime))}),n.jsxs("mesh",{ref:o,rotation:[0,0,Xe.degToRad(e.axialTilt)],children:[n.jsx("sphereGeometry",{args:[a,128,64]}),n.jsx("primitive",{object:s,attach:"material"})]})}return n.jsxs("mesh",{ref:o,rotation:[0,0,Xe.degToRad(e.axialTilt)],children:[n.jsx("sphereGeometry",{args:[a,128,64]}),m?n.jsx("primitive",{object:m,attach:"material"}):n.jsx("meshBasicMaterial",{map:d})]})}function Pt({body:e,position:a,scale:s,showLabel:r,onClick:o,isFocused:i}){const l=t.useRef(null),{camera:c}=Ke(),[d,m]=t.useState(0);De(()=>{if(l.current){const e=new He;l.current.getWorldPosition(e),m(c.position.distanceTo(e))}});const u="star"===e.type,h=e.radius*xt*s,p=Math.max(h,gt),x=!u&&(d>0?p/d*1e3:1e3)<.2,g=Math.max(.15,Math.min(1,2*p));return n.jsxs("group",{ref:l,position:a,children:[x?n.jsxs(n.Fragment,{children:[n.jsxs("mesh",{onClick:e=>{e.stopPropagation(),null==o||o()},children:[n.jsx("sphereGeometry",{args:[g,16,16]}),n.jsx("meshBasicMaterial",{color:e.color})]}),n.jsxs("mesh",{scale:1.8,children:[n.jsx("sphereGeometry",{args:[g,16,16]}),n.jsx("meshBasicMaterial",{color:e.color,transparent:!0,opacity:.5})]}),n.jsxs("mesh",{scale:3,children:[n.jsx("sphereGeometry",{args:[g,16,16]}),n.jsx("meshBasicMaterial",{color:e.color,transparent:!0,opacity:.2})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("group",{onClick:e=>{e.stopPropagation(),null==o||o()},children:n.jsx(kt,{body:e,radius:p,isSun:u,parentPosition:a})}),u&&n.jsxs(n.Fragment,{children:[n.jsx(Nt,{radius:p}),n.jsxs("mesh",{scale:1.1,children:[n.jsx("sphereGeometry",{args:[p,32,32]}),n.jsx("meshBasicMaterial",{color:"#FFAA00",transparent:!0,opacity:.25})]}),n.jsxs("mesh",{scale:1.25,children:[n.jsx("sphereGeometry",{args:[p,32,32]}),n.jsx("meshBasicMaterial",{color:"#FF6600",transparent:!0,opacity:.12})]}),n.jsxs("mesh",{scale:1.5,children:[n.jsx("sphereGeometry",{args:[p,32,32]}),n.jsx("meshBasicMaterial",{color:"#FF4400",transparent:!0,opacity:.05})]})]}),e.hasRings&&"Saturn"===e.name&&n.jsx("group",{rotation:[0,0,Xe.degToRad(e.axialTilt)],children:n.jsx(vt,{innerRadius:1.2*p,outerRadius:2.3*p,opacity:.8})}),e.hasRings&&"Jupiter"===e.name&&n.jsx("group",{rotation:[0,0,Xe.degToRad(e.axialTilt)],children:n.jsx(Ct,{innerRadius:p*(e.ringInnerRadius||1.4),outerRadius:p*(e.ringOuterRadius||1.8),opacity:.25})}),e.hasRings&&"Uranus"===e.name&&n.jsx("group",{rotation:[0,0,Xe.degToRad(e.axialTilt)],children:n.jsx(St,{innerRadius:p*(e.ringInnerRadius||1.5),outerRadius:p*(e.ringOuterRadius||2),opacity:.4})}),e.hasRings&&"Neptune"===e.name&&n.jsx("group",{rotation:[0,0,Xe.degToRad(e.axialTilt)],children:n.jsx(Tt,{innerRadius:p*(e.ringInnerRadius||1.5),outerRadius:p*(e.ringOuterRadius||2.5),opacity:.3})})]}),r&&n.jsx(Ie,{position:[0,x?g+.15:p+.08,0],center:!0,style:{color:i?"#00ff88":x?e.color:"#ffffff",fontSize:i?"14px":"11px",fontFamily:"Orbitron, sans-serif",textShadow:`0 0 8px ${x?e.color:"rgba(0,0,0,0.8)"}`,whiteSpace:"nowrap",pointerEvents:"none",fontWeight:i?"bold":"normal"},children:e.name}),i&&n.jsx(At,{distanceToCamera:d,bodyRadius:x?g:p})]})}function zt({body:e,scale:a,color:s="#ffffff"}){const r=t.useMemo(()=>{const t=function(e,a=360){const t=[],n=e.semiMajorAxis,s=e.eccentricity,r=bt(e.inclination),o=bt(e.longitudeOfAscendingNode),i=bt(e.argumentOfPeriapsis),l=Math.cos(i),c=Math.sin(i),d=Math.cos(r),m=Math.sin(r),u=Math.cos(o),h=Math.sin(o);for(let p=0;p<=a;p++){const e=p/a*2*Math.PI,r=n*(1-s*s)/(1+s*Math.cos(e)),o=r*Math.cos(e),i=r*Math.sin(e),x=(u*l-h*c*d)*o+(-u*c-h*l*d)*i,g=(h*l+u*c*d)*o+(-h*c+u*l*d)*i,f=c*m*o+l*m*i;t.push([x,g,f])}return t}(e,180),n=t.map(e=>new He(e[0]*pt*a,e[2]*pt*a,e[1]*pt*a)),r=(new Ce).setFromPoints(n),o=new ra({color:s,transparent:!0,opacity:.5,depthWrite:!1});return new oa(r,o)},[e,a,s]);return n.jsx("primitive",{object:r})}function Et(e,a,t,n){var s;const r=e.semiMajorAxis/149597870.7,o=e.parent||"",i=(null==(s=yt)?void 0:s[o])||ft,l=r*pt*n*i,c=Math.abs(e.orbitalPeriod),d=(t.getTime()-new Date("2000-01-01T12:00:00Z").getTime())/864e5,m=((e.meanAnomalyAtEpoch||0)+360/c*d)%360*Math.PI/180,u=e.inclination*Math.PI/180,h=(e.longitudeOfAscendingNode||0)*Math.PI/180,p=l*Math.cos(m),x=l*Math.sin(m),g=Math.cos(u),f=Math.sin(u),y=Math.cos(h),b=Math.sin(h),j=y*p-b*g*x,M=b*p+y*g*x,w=f*x;return[a[0]+j,a[1]+w,a[2]+M]}function Lt({moon:e,parentPosition:a,scale:s}){const r=t.useMemo(()=>{var t;const n=e.semiMajorAxis/149597870.7,r=e.parent||"",o=(null==(t=yt)?void 0:t[r])||ft,i=n*pt*s*o,l=e.inclination*Math.PI/180,c=(e.longitudeOfAscendingNode||0)*Math.PI/180,d=Math.cos(l),m=Math.sin(l),u=Math.cos(c),h=Math.sin(c),p=[];for(let e=0;e<=64;e++){const t=e/64*Math.PI*2,n=i*Math.cos(t),s=i*Math.sin(t),r=u*n-h*d*s,o=h*n+u*d*s,l=m*s;p.push(new He(a[0]+r,a[1]+l,a[2]+o))}const x=(new Ce).setFromPoints(p),g=new ra({color:e.color||"#888888",transparent:!0,opacity:.3,depthWrite:!1});return new oa(x,g)},[e,a,s]);return n.jsx("primitive",{object:r})}function Ft({scale:e,visible:a}){const s=t.useMemo(()=>a?function(e,a,t,n=12345){const s=[],r=e=>{const a=1e4*Math.sin(e);return a-Math.floor(a)};for(let o=0;o<t;o++){const t=n+o,i=e+r(t)*(a-e),l=2*r(t+1e3)*Math.PI,c=.3*(r(t+2e3)-.5),d=.01+.05*r(t+3e3);s.push({x:i*Math.cos(l),y:i*Math.sin(l),z:c,size:d})}return s}(mt,ut,2e3):[],[a]);if(!a)return null;const r=t.useMemo(()=>{const a=new Float32Array(3*s.length);return s.forEach((t,n)=>{a[3*n]=t.x*pt*e,a[3*n+1]=t.z*pt*e,a[3*n+2]=t.y*pt*e}),a},[s,e]),o=t.useMemo(()=>{const e=new Float32Array(s.length);return s.forEach((a,t)=>{e[t]=3*a.size}),e},[s]);return n.jsxs("points",{children:[n.jsxs("bufferGeometry",{children:[n.jsx("bufferAttribute",{attach:"attributes-position",count:s.length,array:r,itemSize:3}),n.jsx("bufferAttribute",{attach:"attributes-size",count:s.length,array:o,itemSize:1})]}),n.jsx("pointsMaterial",{color:"#c4a882",size:.15,transparent:!0,opacity:.8,sizeAttenuation:!0})]})}function Ot({date:e,showOrbits:a,showLabels:s,showMoons:r,showAsteroidBelt:o,showDwarfPlanets:i,showComets:l,focusedBody:c,onBodyClick:d,orbitControlsRef:m,isFirstPersonMode:u=!1,spacecraftPosition:h=[0,10,0],spacecraftTargetPosition:p=[0,10,0],targetBodyCenter:x=[0,0,0],isFlying:g=!1,flightSpeed:f=1,targetBodyRadius:y=6371,onFlightUpdate:b,onArrived:j}){const M=t.useRef(null),w=m||M,{camera:A}=Ke(),N=t.useRef(new He(...h)),v=t.useRef(new He(0,0,-1)),C=t.useRef(0),S=t.useRef([]),T=t.useRef(0),k=t.useRef(!1),P=t.useRef(0),z=t.useCallback((e,a)=>{const t=[],n=a.clone().sub(e),s=n.length(),r=it.radius*xt*3,o=e.clone().add(a).multiplyScalar(.5),i=o.length(),l=e.clone().negate(),c=n.clone().normalize(),d=l.dot(c);if(Math.sqrt(Math.max(0,l.lengthSq()-d*d))<r&&d>0&&d<s){const s=(new He).crossVectors(n,new He(0,1,0)).normalize();s.length()<.1&&s.crossVectors(n,new He(1,0,0)).normalize();const o=1.5*r,l=Math.max(o,.3*i),c=e.clone().lerp(a,.25);c.y+=l,c.add(s.clone().multiplyScalar(.5*o)),t.push(c);const d=e.clone().lerp(a,.5);d.y+=1.2*l,d.add(s.clone().multiplyScalar(o)),t.push(d);const m=e.clone().lerp(a,.75);m.y+=.5*l,m.add(s.clone().multiplyScalar(.5*o)),t.push(m)}else if(s>500){const e=Math.min(.1*s,100),a=o.clone();a.y+=e,t.push(a)}return t.push(a),t},[]),E=t.useRef(f);t.useEffect(()=>{if(g&&u){const e=N.current.clone(),a=new He(...p);S.current=z(e,a),P.current=0,k.current=!1,T.current=0,E.current=f}},[p,g,u,z,f]),De((e,a)=>{if(!u)return;const t=S.current,n=P.current,s=(t.length>0&&n<t.length?t[n]:new He(...p)).clone().sub(N.current),r=s.length(),o=new He(...p),i=o.clone().sub(N.current).length();if(g&&i>2){r<5&&n<t.length-1&&P.current++,s.normalize(),v.current.lerp(s,.03);const e=f*pt/60,o=50;let l=1;i<o&&(l=Math.max(.1,i/o));const c=e*l,d=.08;C.current+=(c-C.current)*d;const m=C.current*a*60;N.current.add(v.current.clone().multiplyScalar(m)),A.position.copy(N.current);const u=new He(...x);A.lookAt(u),w.current&&(w.current.enabled=!1);const h=60*C.current/pt;null==b||b({position:[N.current.x,N.current.y,N.current.z],distance:i/pt,speed:h,direction:[v.current.x,v.current.y,v.current.z]})}else if(g&&i<=2)C.current=0,N.current.copy(o),S.current=[],P.current=0,k.current=!0,null==j||j();else if(!g&&u){const e=new He(...x);if(k.current){const t=.15;T.current+=t*a;const n=o.clone().sub(e).length(),s=.3,r=e.x+n*Math.cos(T.current)*.8,i=e.y+n*Math.sin(T.current)*Math.sin(s)+.4*n,l=e.z+n*Math.sin(T.current)*.8;N.current.lerp(new He(r,i,l),.05),A.position.copy(N.current),A.lookAt(e),w.current&&(w.current.enabled=!1),null==b||b({position:[N.current.x,N.current.y,N.current.z],distance:n/pt,speed:t*n/pt,direction:[0,0,0]})}else w.current&&!w.current.enabled&&(w.current.enabled=!0,w.current.update()),null==b||b({position:[A.position.x,A.position.y,A.position.z],distance:0,speed:0,direction:[0,0,0]})}}),t.useEffect(()=>{u?(N.current.set(...h),C.current=0,w.current&&(w.current.enabled=!1)):w.current&&(w.current.enabled=!0)},[u,h]);const L=t.useMemo(()=>{const a={};return a[it.name]=[0,0,0],lt.forEach(t=>{const n=jt(t,e);a[t.name]=[n.x*pt*1,n.z*pt*1,n.y*pt*1]}),r&&ct.forEach(t=>{const n=a[t.parent||""];n&&(a[t.name]=Et(t,n,e,1))}),i&&dt.forEach(t=>{const n=jt(t,e);a[t.name]=[n.x*pt*1,n.z*pt*1,n.y*pt*1]}),l&&ht.forEach(t=>{const n=jt(t,e);a[t.name]=[n.x*pt*1,n.z*pt*1,n.y*pt*1]}),a},[e,1,i,l,r]),F=t.useRef(null);return t.useEffect(()=>{if(!w.current)return;if(c===F.current)return;if(F.current=c,!c)return w.current.target.set(0,0,0),A.position.set(400,250,400),void w.current.update();const e=L[c];if(!e)return;const[a,t,n]=e;w.current.target.set(a,t,n);const s=[it,...lt,...dt].find(e=>e.name===c),r=8*(((null==s?void 0:s.radius)||6371)*xt);A.position.set(a+.8*r,t+.4*r,n+.8*r),w.current.update()},[c,L,A]),n.jsxs(n.Fragment,{children:[n.jsx(_e,{ref:w,enablePan:!0,enableZoom:!0,enableRotate:!0,minDistance:.1,maxDistance:15e3,zoomSpeed:1.2,panSpeed:1,target:[0,0,0]}),n.jsx("ambientLight",{intensity:.8}),n.jsx("pointLight",{position:[0,0,0],intensity:3,distance:2e3,decay:.3}),n.jsx("hemisphereLight",{intensity:.4,color:"#ffffff",groundColor:"#444466"}),n.jsx(Ye,{radius:500,depth:100,count:5e3,factor:4,fade:!0,speed:.2}),n.jsx(Pt,{body:it,position:[0,0,0],scale:1,showLabel:s,onClick:()=>null==d?void 0:d(it.name),isFocused:c===it.name}),lt.map(o=>{const i=L[o.name]||[0,0,0],l=r?ct.filter(e=>e.parent===o.name):[];return n.jsxs(t.Suspense,{fallback:null,children:[a&&n.jsx(zt,{body:o,scale:1,color:o.color}),n.jsx(Pt,{body:o,position:i,scale:1,showLabel:s,onClick:()=>null==d?void 0:d(o.name),isFocused:c===o.name}),l.map(t=>{const r=Et(t,i,e,1);return n.jsxs("group",{children:[a&&n.jsx(Lt,{moon:t,parentPosition:i,scale:1}),n.jsx(Pt,{body:t,position:r,scale:1,showLabel:s,onClick:()=>null==d?void 0:d(t.name),isFocused:c===t.name})]},t.name)})]},o.name)}),i&&dt.map(e=>n.jsxs(t.Suspense,{fallback:null,children:[a&&n.jsx(zt,{body:e,scale:1,color:"#666666"}),n.jsx(Pt,{body:e,position:L[e.name]||[0,0,0],scale:1,showLabel:s,onClick:()=>null==d?void 0:d(e.name),isFocused:c===e.name})]},e.name)),l&&ht.map(e=>n.jsxs(t.Suspense,{fallback:null,children:[a&&n.jsx(zt,{body:e,scale:1,color:"#aaaaaa"}),n.jsx(Pt,{body:e,position:L[e.name]||[0,0,0],scale:1,showLabel:s,onClick:()=>null==d?void 0:d(e.name),isFocused:c===e.name})]},e.name)),n.jsx(Ft,{scale:1,visible:o})]})}const Rt=t.memo(function({isActive:e,isFlying:a,currentTarget:s,distanceToTarget:r,speed:o,eta:i,isWarping:l,targetInfo:c}){const[d,m]=t.useState({power:98,fuel:87,hull:100,comms:95});if(t.useEffect(()=>{if(!e)return;const a=setInterval(()=>{m(e=>({power:Math.max(85,Math.min(100,e.power+2*(Math.random()-.5))),fuel:Math.max(75,Math.min(100,e.fuel+.5*(Math.random()-.5))),hull:100,comms:Math.max(80,Math.min(100,e.comms+3*(Math.random()-.5)))}))},1e3);return()=>clearInterval(a)},[e]),!e)return null;return n.jsxs("div",{className:"fixed inset-0 pointer-events-none z-40 overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0",children:[n.jsx("div",{className:"absolute top-0 left-0 right-0 h-16 bg-gradient-to-b from-black/80 to-transparent"}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-black/90 to-transparent"}),n.jsx("div",{className:"absolute top-0 left-0 w-64 h-full bg-gradient-to-r from-black/70 to-transparent"}),n.jsx("div",{className:"absolute top-0 right-0 w-64 h-full bg-gradient-to-l from-black/70 to-transparent"}),n.jsxs("svg",{className:"absolute top-0 left-0 w-32 h-32 text-primary/50",children:[n.jsx("path",{d:"M0,80 L0,20 Q0,0 20,0 L80,0",fill:"none",stroke:"currentColor",strokeWidth:"2"}),n.jsx("path",{d:"M0,60 L0,15 Q0,0 15,0 L60,0",fill:"none",stroke:"currentColor",strokeWidth:"1",opacity:"0.5"})]}),n.jsxs("svg",{className:"absolute top-0 right-0 w-32 h-32 text-primary/50 scale-x-[-1]",children:[n.jsx("path",{d:"M0,80 L0,20 Q0,0 20,0 L80,0",fill:"none",stroke:"currentColor",strokeWidth:"2"}),n.jsx("path",{d:"M0,60 L0,15 Q0,0 15,0 L60,0",fill:"none",stroke:"currentColor",strokeWidth:"1",opacity:"0.5"})]}),n.jsx("svg",{className:"absolute bottom-0 left-0 w-32 h-32 text-primary/50 scale-y-[-1]",children:n.jsx("path",{d:"M0,80 L0,20 Q0,0 20,0 L80,0",fill:"none",stroke:"currentColor",strokeWidth:"2"})}),n.jsx("svg",{className:"absolute bottom-0 right-0 w-32 h-32 text-primary/50 scale-[-1]",children:n.jsx("path",{d:"M0,80 L0,20 Q0,0 20,0 L80,0",fill:"none",stroke:"currentColor",strokeWidth:"2"})})]}),n.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-3 bg-black/60 backdrop-blur-sm px-6 py-2 rounded-full border border-primary/30",children:[n.jsx(V,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"font-orbitron text-xs text-primary tracking-wider",children:"VOYAGER DEEP SPACE MISSION"})]}),l&&n.jsxs("div",{className:"flex items-center gap-2 text-cyan-400 animate-pulse",children:[n.jsx(_,{className:"h-4 w-4"}),n.jsx("span",{className:"font-orbitron text-sm tracking-widest",children:"WARP DRIVE ENGAGED"}),n.jsx(_,{className:"h-4 w-4"})]})]}),n.jsxs("div",{className:"absolute top-44 left-4 w-52 space-y-3",children:[n.jsxs("div",{className:"bg-black/70 backdrop-blur-sm rounded-lg p-3 border border-primary/20",children:[n.jsxs("div",{className:"text-xs font-orbitron text-primary/70 mb-2 flex items-center gap-2",children:[n.jsx(Y,{className:"h-3 w-3"}),"SHIP SYSTEMS"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Bt,{label:"POWER",value:d.power,icon:n.jsx(_,{className:"h-3 w-3"})}),n.jsx(Bt,{label:"FUEL",value:d.fuel,icon:n.jsx(q,{className:"h-3 w-3"}),warning:d.fuel<80}),n.jsx(Bt,{label:"HULL",value:d.hull,icon:n.jsx(X,{className:"h-3 w-3"})}),n.jsx(Bt,{label:"COMMS",value:d.comms,icon:n.jsx(Z,{className:"h-3 w-3"})})]})]}),n.jsxs("div",{className:"bg-black/70 backdrop-blur-sm rounded-lg p-3 border border-cyan-500/20",children:[n.jsx("div",{className:"text-xs font-orbitron text-cyan-400/70 mb-1",children:"VELOCITY"}),n.jsxs("div",{className:"font-orbitron text-2xl text-cyan-400",children:[o.toFixed(1),n.jsx("span",{className:"text-sm ml-1",children:"AU/s"})]}),n.jsxs("div",{className:"text-xs text-cyan-400/50 mt-1",children:["≈ ",(149597870.7*o/299792).toFixed(0),"c"]})]})]}),n.jsxs("div",{className:"absolute top-44 right-4 w-56 space-y-3",children:[n.jsxs("div",{className:"bg-black/70 backdrop-blur-sm rounded-lg p-3 border border-primary/20",children:[n.jsxs("div",{className:"text-xs font-orbitron text-primary/70 mb-2 flex items-center gap-2",children:[n.jsx(J,{className:"h-3 w-3"}),"NAVIGATION"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:"TARGET"}),n.jsx("span",{className:"font-orbitron text-sm text-primary",children:s||"NONE"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:"DISTANCE"}),n.jsx("span",{className:"font-mono text-sm text-foreground",children:(h=r,h<1?`${(149597870.7*h).toFixed(0)} km`:`${h.toFixed(2)} AU`)})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:"ETA"}),n.jsx("span",{className:"font-mono text-sm text-foreground",children:i>0?(u=i,u<60?`${Math.ceil(u)}s`:u<3600?`${Math.floor(u/60)}m ${Math.ceil(u%60)}s`:`${Math.floor(u/3600)}h ${Math.floor(u%3600/60)}m`):"--"})]})]})]}),c&&n.jsxs("div",{className:"bg-black/70 backdrop-blur-sm rounded-lg p-3 border border-yellow-500/20",children:[n.jsxs("div",{className:"text-xs font-orbitron text-yellow-400/70 mb-2 flex items-center gap-2",children:[n.jsx(Q,{className:"h-3 w-3"}),"TARGET DATA"]}),n.jsxs("div",{className:"space-y-1 text-xs",children:[n.jsx("div",{className:"text-yellow-400 font-semibold",children:c.type}),c.diameter&&n.jsxs("div",{className:"text-muted-foreground",children:["Diameter: ",c.diameter.toLocaleString()," km"]}),void 0!==c.distance&&n.jsxs("div",{className:"text-muted-foreground",children:["Orbit: ",c.distance," AU from Sun"]})]})]})]}),!a&&n.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:n.jsxs("div",{className:"relative",children:[n.jsxs("svg",{width:"160",height:"160",className:"text-primary",children:[n.jsx("circle",{cx:"80",cy:"80",r:"70",fill:"none",stroke:"currentColor",strokeWidth:"1",opacity:"0.3"}),n.jsx("circle",{cx:"80",cy:"80",r:"50",fill:"none",stroke:"currentColor",strokeWidth:"1",opacity:"0.2"}),n.jsx("line",{x1:"0",y1:"80",x2:"55",y2:"80",stroke:"currentColor",strokeWidth:"1.5",opacity:"0.7"}),n.jsx("line",{x1:"105",y1:"80",x2:"160",y2:"80",stroke:"currentColor",strokeWidth:"1.5",opacity:"0.7"}),n.jsx("line",{x1:"80",y1:"0",x2:"80",y2:"55",stroke:"currentColor",strokeWidth:"1.5",opacity:"0.7"}),n.jsx("line",{x1:"80",y1:"105",x2:"80",y2:"160",stroke:"currentColor",strokeWidth:"1.5",opacity:"0.7"}),n.jsx("path",{d:"M80,70 L90,80 L80,90 L70,80 Z",fill:"none",stroke:"currentColor",strokeWidth:"2"}),n.jsx("path",{d:"M25,25 L25,10 L40,10",fill:"none",stroke:"currentColor",strokeWidth:"1.5",opacity:"0.5"}),n.jsx("path",{d:"M135,25 L135,10 L120,10",fill:"none",stroke:"currentColor",strokeWidth:"1.5",opacity:"0.5"}),n.jsx("path",{d:"M25,135 L25,150 L40,150",fill:"none",stroke:"currentColor",strokeWidth:"1.5",opacity:"0.5"}),n.jsx("path",{d:"M135,135 L135,150 L120,150",fill:"none",stroke:"currentColor",strokeWidth:"1.5",opacity:"0.5"}),n.jsx("line",{x1:"80",y1:"58",x2:"80",y2:"62",stroke:"currentColor",strokeWidth:"2"}),n.jsx("line",{x1:"80",y1:"98",x2:"80",y2:"102",stroke:"currentColor",strokeWidth:"2"}),n.jsx("line",{x1:"58",y1:"80",x2:"62",y2:"80",stroke:"currentColor",strokeWidth:"2"}),n.jsx("line",{x1:"98",y1:"80",x2:"102",y2:"80",stroke:"currentColor",strokeWidth:"2"})]}),s&&n.jsxs("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 text-sm font-orbitron text-primary whitespace-nowrap bg-black/50 px-3 py-1 rounded border border-primary/30",children:["◆ ",s.toUpperCase()]})]})})]});var u,h});function Bt({label:e,value:a,icon:t,warning:s=!1}){return n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between items-center text-xs",children:[n.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:[t,e]}),n.jsxs("span",{className:"font-mono "+(s?"text-yellow-400":"text-foreground"),children:[a.toFixed(0),"%"]})]}),n.jsx("div",{className:"h-1 bg-black/50 rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full ${s?"bg-yellow-500":a>90?"bg-green-500":a>70?"bg-cyan-500":a>50?"bg-yellow-500":"bg-red-500"} transition-all duration-300`,style:{width:`${a}%`}})})]})}const Dt={Sun:{avgTemp:"5,500°C (surface)",funFact:"Contains 99.86% of the Solar System's mass",gravity:"274 m/s²"},Mercury:{avgTemp:"-180°C to 430°C",atmosphere:"Virtually none",funFact:"A year is shorter than a day!",dayLength:"176 Earth days",gravity:"3.7 m/s²"},Venus:{avgTemp:"465°C",atmosphere:"Thick CO₂, sulfuric acid clouds",funFact:"Rotates backwards compared to other planets",dayLength:"243 Earth days",gravity:"8.9 m/s²"},Earth:{avgTemp:"15°C",atmosphere:"N₂, O₂",funFact:"Only known planet with life",dayLength:"24 hours",gravity:"9.8 m/s²"},Mars:{avgTemp:"-60°C",atmosphere:"Thin CO₂",funFact:"Home to the tallest volcano: Olympus Mons",dayLength:"24.6 hours",gravity:"3.7 m/s²"},Jupiter:{avgTemp:"-110°C",atmosphere:"H₂, He",funFact:"The Great Red Spot is a storm larger than Earth",dayLength:"10 hours",gravity:"24.8 m/s²"},Saturn:{avgTemp:"-140°C",atmosphere:"H₂, He",funFact:"Could float in water if you had a big enough bathtub",dayLength:"10.7 hours",gravity:"10.4 m/s²"},Uranus:{avgTemp:"-195°C",atmosphere:"H₂, He, methane",funFact:"Rotates on its side with a 98° axial tilt",dayLength:"17.2 hours",gravity:"8.7 m/s²"},Neptune:{avgTemp:"-200°C",atmosphere:"H₂, He, methane",funFact:"Has the strongest winds in the Solar System (2,100 km/h)",dayLength:"16 hours",gravity:"11.2 m/s²"},Pluto:{avgTemp:"-230°C",atmosphere:"Thin N₂, CH₄",funFact:"Has a heart-shaped glacier made of nitrogen ice",dayLength:"6.4 Earth days",gravity:"0.6 m/s²"},Ceres:{avgTemp:"-105°C",funFact:"Largest object in the asteroid belt",gravity:"0.3 m/s²"},Eris:{avgTemp:"-240°C",funFact:"More massive than Pluto, caused Pluto's reclassification",gravity:"0.8 m/s²"},Makemake:{avgTemp:"-240°C",funFact:"Named after the creator god of Easter Island",gravity:"0.5 m/s²"},Haumea:{avgTemp:"-240°C",funFact:"Egg-shaped due to rapid rotation (4 hours)",gravity:"0.4 m/s²"}};const It=t.memo(({bodyName:e,isVisible:a})=>{const s=t.useMemo(()=>{if("Sun"===e)return it;const a=lt.find(a=>a.name===e);if(a)return a;return dt.find(a=>a.name===e)||null},[e]),r=t.useMemo(()=>ct.filter(a=>a.parent===e).length,[e]),o=Dt[e]||{};if(!s||!a)return null;const i=2*s.radius,l=s.semiMajorAxis,c=s.orbitalPeriod,d="star"===s.type?"Star":"planet"===s.type?"Planet":"Dwarf Planet";return n.jsx("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 z-50 animate-fade-in",children:n.jsxs(ee,{className:"bg-card/95 backdrop-blur-md border-primary/30 shadow-2xl shadow-primary/10 min-w-[320px] max-w-[400px]",children:[n.jsx(ae,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(te,{className:"text-xl font-bold flex items-center gap-2",children:[n.jsx(ne,{className:"h-5 w-5 text-primary"}),e]}),n.jsx(se,{variant:"outline",className:"text-xs",children:d})]})}),n.jsxs(re,{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md bg-muted/50",children:[n.jsx(oe,{className:"h-4 w-4 text-muted-foreground shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Diameter"}),n.jsxs("p",{className:"text-sm font-mono font-semibold truncate",children:[(m=i,m>=1e6?`${(m/1e6).toFixed(2)}M`:m>=1e3?`${(m/1e3).toFixed(1)}k`:m.toLocaleString())," km"]})]})]}),l>0&&n.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md bg-muted/50",children:[n.jsx(ie,{className:"h-4 w-4 text-muted-foreground shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"From Sun"}),n.jsxs("p",{className:"text-sm font-mono font-semibold truncate",children:[l.toFixed(2)," AU"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md bg-muted/50",children:[n.jsx(le,{className:"h-4 w-4 text-muted-foreground shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Moons"}),n.jsx("p",{className:"text-sm font-mono font-semibold",children:r>0?r:"None"})]})]}),c>0&&n.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md bg-muted/50",children:[n.jsx(ce,{className:"h-4 w-4 text-muted-foreground shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Orbital Period"}),n.jsx("p",{className:"text-sm font-mono font-semibold truncate",children:c>365?`${(c/365.25).toFixed(1)} years`:`${c.toFixed(1)} days`})]})]})]}),(o.avgTemp||o.dayLength)&&n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.avgTemp&&n.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md bg-muted/50",children:[n.jsx(X,{className:"h-4 w-4 text-muted-foreground shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Temperature"}),n.jsx("p",{className:"text-xs font-mono truncate",children:o.avgTemp})]})]}),o.dayLength&&n.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md bg-muted/50",children:[n.jsx(de,{className:"h-4 w-4 text-muted-foreground shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Day Length"}),n.jsx("p",{className:"text-xs font-mono truncate",children:o.dayLength})]})]})]}),o.funFact&&n.jsxs("div",{className:"p-3 rounded-md bg-primary/10 border border-primary/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide mb-1",children:"Did you know?"}),n.jsx("p",{className:"text-sm leading-relaxed",children:o.funFact})]})]})]})});var m});It.displayName="PlanetInfoCard";const Ht={hours:1/24,days:1,months:30,years:365};function Gt({onDistanceChange:e}){const{camera:a}=Ke();return De(()=>{const t=a.position.length();e(t/pt)}),null}const Ut=t.memo(()=>{var e,a,s,r;const[o,i]=t.useState(new Date),[l,c]=t.useState(0),[d,m]=t.useState(!0),[u,h]=t.useState(!0),[y,b]=t.useState(!0),[M,w]=t.useState(!0),[L,F]=t.useState(!0),[O,B]=t.useState(!1),[D,U]=t.useState(null),[W,K]=t.useState(!0),$=t.useRef(null),[_,Y]=t.useState(!1),[q,X]=t.useState(0),[Z,J]=t.useState(!1),[Q,ee]=t.useState(5),[ae,te]=t.useState([0,20,50]),[ne,se]=t.useState({distance:0,speed:0,direction:[0,0,-1]}),[re,de]=t.useState(!1),[je,Me]=t.useState(8),we=t.useRef(null),Ae=t.useMemo(()=>{const e=[{name:"Sun",type:"Star",diameter:1392700,radius:696340},...lt.map(e=>({name:e.name,type:"Planet",diameter:Math.round(2*e.radius),radius:e.radius,orbitDistance:e.semiMajorAxis}))];return L&&e.push(...dt.map(e=>({name:e.name,type:"Dwarf Planet",diameter:Math.round(2*e.radius),radius:e.radius,orbitDistance:e.semiMajorAxis}))),e},[L]),[Ne,ve]=t.useState(!1),[Ce,Se]=t.useState(1),[Te,ke]=t.useState("days"),[Pe,ze]=t.useState(1),Ee=[it,...lt,...L?dt:[]];t.useEffect(()=>{if(!Ne)return;const e=setInterval(()=>{i(e=>{const a=new Date(e),t=Ce*Ht[Te]*Pe;return a.setTime(a.getTime()+24*t*60*60*1e3),a})},50);return()=>clearInterval(e)},[Ne,Ce,Te,Pe]);const Le=t.useCallback(()=>{ve(e=>!e)},[]),Fe=t.useCallback(()=>{ze(-1),Ne||ve(!0)},[Ne]),Oe=t.useCallback(()=>{ze(1),Ne||ve(!0)},[Ne]),Re=t.useCallback(()=>{i(new Date),ve(!1)},[]),Be=t.useCallback(()=>{Y(!0),X(0);const e=45*pt;te([e,.3*e,.5*e]),J(!0),U(null)},[]),De=t.useCallback(()=>{q<Ae.length-1?(X(e=>e+1),J(!0)):(X(0),J(!0))},[q,Ae.length]),Ie=t.useCallback(()=>{q>0&&(X(e=>e-1),J(!0))},[q]),He=t.useCallback(()=>{var e;J(!1);const a=null==(e=Ae[q])?void 0:e.name;a&&U(a),re&&(we.current&&clearTimeout(we.current),we.current=setTimeout(()=>{q<Ae.length-1?(X(e=>e+1),J(!0)):(X(0),J(!0))},1e3*je))},[q,Ae,re,je]);t.useEffect(()=>()=>{we.current&&clearTimeout(we.current)},[]);const Ge=t.useCallback(()=>{we.current&&(clearTimeout(we.current),we.current=null)},[]),Ue=t.useCallback(()=>{Y(!1),J(!1),U(null),de(!1),Ge()},[Ge]),We=t.useCallback(()=>{de(!0),Y(!0),X(0);const e=45*pt;te([e,.3*e,.5*e]),J(!0),U(null)},[]),Ke=t.useCallback(()=>{de(!1),Ge()},[Ge]),$e=t.useCallback(e=>{te(e.position),se({distance:e.distance,speed:e.speed,direction:e.direction})},[]),Ve=t.useMemo(()=>{const e=Ae[q];if(!e)return[0,0,0];if("Sun"===e.name)return[0,0,0];const a=[...lt,...dt].find(a=>a.name===e.name);if(!a)return[0,0,0];const t=jt(a,o);return[t.x*pt,t.z*pt,t.y*pt]},[q,Ae,o]),_e=t.useMemo(()=>{const e=Ae[q];if(!e)return[0,20,0];const[a,t,n]=Ve,s=8*((e.radius||6371)*xt);return[a+.8*s,t+.4*s,n+.8*s]},[q,Ae,Ve]),Ye=t.useMemo(()=>!Z||ne.speed<=0?0:ne.distance/Math.max(.001,ne.speed),[Z,ne.distance,ne.speed]),Xe=t.useCallback((e,a)=>{var t;if(a.object){const n=a.object,s=e/200,r=s>0?Math.min(.2,s):Math.max(-.08,s),o=Math.exp(r);n.position.multiplyScalar(o),null==(t=a.update)||t.call(a)}},[]),Ze=t.useCallback((e,a)=>{var t;const n=1.5;if(a.getAzimuthalAngle&&a.getPolarAngle){const t=a.getAzimuthalAngle(),s=a.getPolarAngle();a.minAzimuthAngle=t-e.x*n,a.maxAzimuthAngle=t-e.x*n,a.minPolarAngle=Math.max(0,s+e.y*n),a.maxPolarAngle=Math.min(Math.PI,s+e.y*n),setTimeout(()=>{a.minAzimuthAngle=-1/0,a.maxAzimuthAngle=1/0,a.minPolarAngle=0,a.maxPolarAngle=Math.PI},0)}null==(t=a.update)||t.call(a)},[]),Je=t.useCallback(e=>{if(!$.current)return;const a=$.current;switch(e.type){case"zoom":e.zoomDelta&&Xe(e.zoomDelta,a);break;case"rotate":e.rotateDelta&&Ze(e.rotateDelta,a)}},[Xe,Ze]);return n.jsxs("div",{className:"w-full h-full relative bg-background",children:[n.jsxs(qe,{camera:{position:[900,500,900],fov:50,near:.001,far:2e4},style:{background:"radial-gradient(ellipse at center, #0a0a12 0%, #000005 100%)"},children:[n.jsx(Gt,{onDistanceChange:c}),n.jsx(Ot,{date:o,showOrbits:d,showLabels:!_&&u,showMoons:y,showAsteroidBelt:M,showDwarfPlanets:L,showComets:O,focusedBody:D,onBodyClick:U,orbitControlsRef:$,isFirstPersonMode:_,spacecraftPosition:ae,spacecraftTargetPosition:_e,targetBodyCenter:Ve,isFlying:Z,flightSpeed:Q,targetBodyRadius:(null==(e=Ae[q])?void 0:e.radius)||6371,onFlightUpdate:$e,onArrived:He})]}),n.jsx(Rt,{isActive:_,isFlying:Z,currentTarget:(null==(a=Ae[q])?void 0:a.name)||null,distanceToTarget:ne.distance,speed:ne.speed,eta:Ye,isWarping:Z&&ne.speed>.5,targetInfo:Ae[q]?{type:Ae[q].type,diameter:Ae[q].diameter,distance:Ae[q].orbitDistance}:void 0}),_&&n.jsx("div",{className:"fixed bottom-24 left-1/2 -translate-x-1/2 z-50 bg-black/80 backdrop-blur-sm rounded-lg px-6 py-3 border border-primary/30 shadow-lg animate-fade-in",children:n.jsxs("div",{className:"flex items-center gap-6",children:[re&&n.jsxs("div",{className:"flex items-center gap-2 border-r border-primary/30 pr-4",children:[n.jsx(me,{className:"h-4 w-4 text-amber-400 animate-pulse"}),n.jsx("span",{className:"text-xs text-amber-400 font-orbitron",children:"CINEMATIC"})]}),n.jsx(p,{variant:"ghost",size:"icon",className:"h-10 w-10 text-primary hover:bg-primary/20",onClick:()=>{Ge(),Ie()},disabled:0===q||Z,children:n.jsx(ue,{className:"h-5 w-5"})}),n.jsxs("div",{className:"text-center min-w-[150px]",children:[n.jsxs("div",{className:"text-xs text-muted-foreground font-orbitron",children:["DESTINATION ",q+1," OF ",Ae.length]}),n.jsx("div",{className:"text-lg font-orbitron font-bold text-primary",children:(null==(s=Ae[q])?void 0:s.name)||"Unknown"})]}),Z?n.jsx(p,{variant:"ghost",size:"icon",className:"h-10 w-10 text-primary hover:bg-primary/20",onClick:()=>{Ge(),De()},disabled:Z,children:n.jsx(he,{className:"h-5 w-5"})}):n.jsxs(p,{variant:"default",size:"sm",className:"gap-2 bg-primary hover:bg-primary/80",onClick:()=>{Ge(),De()},children:[n.jsx(V,{className:"h-4 w-4"}),re?"Skip":"Engage"]}),n.jsxs("div",{className:"flex items-center gap-2 border-l border-primary/30 pl-4",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:"WARP"}),n.jsx(G,{value:[Q],onValueChange:([e])=>ee(e),min:1,max:20,step:1,className:"w-20"}),n.jsxs("span",{className:"text-xs font-mono text-primary",children:[Q," AU/s"]})]}),n.jsxs("div",{className:"flex items-center gap-2 border-l border-primary/30 pl-4",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:"ACTUAL"}),n.jsxs("span",{className:"text-sm font-mono text-cyan-400",children:[ne.speed.toFixed(1)," AU/s"]})]}),re&&n.jsxs("div",{className:"flex items-center gap-2 border-l border-primary/30 pl-4",children:[n.jsx(ce,{className:"h-4 w-4 text-muted-foreground"}),n.jsx(G,{value:[je],onValueChange:([e])=>Me(e),min:3,max:20,step:1,className:"w-16"}),n.jsxs("span",{className:"text-xs font-mono text-muted-foreground",children:[je,"s"]})]}),n.jsxs(p,{variant:re?"default":"outline",size:"sm",className:"gap-1 "+(re?"bg-amber-500 hover:bg-amber-600":""),onClick:()=>{re?Ke():(de(!0),Z||(we.current=setTimeout(()=>{De()},1e3*je)))},children:[n.jsx(me,{className:"h-3 w-3"}),re?"Manual":"Auto"]}),n.jsxs(p,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground",onClick:Ue,children:[n.jsx(pe,{className:"h-3 w-3 mr-1"}),"Exit"]})]})}),_&&!Z&&Ae[q]&&n.jsx(It,{bodyName:Ae[q].name,isVisible:!0}),n.jsx(Ua,{onGesture:Je}),n.jsx("div",{className:"fixed top-20 right-4 z-40 bg-card/90 backdrop-blur-sm rounded-lg px-4 py-2 border border-border shadow-lg",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ie,{className:"h-4 w-4 text-primary"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:"Distance from Sun"}),n.jsx("span",{className:"text-sm font-mono font-semibold",children:l<10?`${l.toFixed(2)} AU`:l<1e3?`${l.toFixed(1)} AU`:`${(l/1e3).toFixed(2)}k AU`})]})]})}),n.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-40 bg-card/90 backdrop-blur-sm rounded-lg px-4 py-2 border border-border shadow-lg",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(p,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:Fe,children:n.jsx(xe,{className:"h-4 w-4 "+(-1===Pe&&Ne?"text-primary":"")})}),n.jsx(p,{variant:Ne?"default":"outline",size:"icon",className:"h-8 w-8",onClick:Le,children:Ne?n.jsx(ge,{className:"h-4 w-4"}):n.jsx(fe,{className:"h-4 w-4"})}),n.jsx(p,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:Oe,children:n.jsx(ye,{className:"h-4 w-4 "+(1===Pe&&Ne?"text-primary":"")})})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:"Speed:"}),n.jsx(G,{value:[Ce],onValueChange:([e])=>Se(e),min:.1,max:10,step:.1,className:"w-20"}),n.jsxs("span",{className:"text-xs font-mono w-8",children:[Ce.toFixed(1),"x"]})]}),n.jsxs(S,{value:Te,onValueChange:e=>ke(e),children:[n.jsx(T,{className:"w-24 h-8 text-xs",children:n.jsx(k,{})}),n.jsxs(P,{children:[n.jsx(z,{value:"hours",children:"Hours"}),n.jsx(z,{value:"days",children:"Days"}),n.jsx(z,{value:"months",children:"Months"}),n.jsx(z,{value:"years",children:"Years"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 border-l border-border pl-4",children:[n.jsx(j,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm font-mono",children:(Qe=o,Qe.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]}),n.jsxs(p,{variant:"ghost",size:"sm",className:"h-8 gap-1",onClick:()=>{U(null),Re()},children:[n.jsx(N,{className:"h-3 w-3"}),"Overview"]})]})}),!W&&n.jsx(p,{variant:"outline",size:"icon",className:"fixed left-4 top-4 z-50 bg-card/80 backdrop-blur",onClick:()=>K(!0),children:n.jsx(x,{className:"h-4 w-4"})}),n.jsx("div",{className:"fixed left-0 top-0 h-full z-40 transition-transform duration-300 "+(W?"translate-x-0":"-translate-x-full"),children:n.jsxs("div",{className:"h-full w-72 bg-card/95 backdrop-blur border-r border-border flex flex-col",children:[n.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[n.jsxs("h2",{className:"font-orbitron text-lg font-semibold flex items-center gap-2",children:[n.jsx(be,{className:"h-5 w-5 text-primary"}),"Solar System"]}),n.jsx(p,{variant:"ghost",size:"icon",onClick:()=>K(!1),children:n.jsx(g,{className:"h-4 w-4"})})]}),n.jsx(f,{className:"flex-1 p-4",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"text-xs text-muted-foreground uppercase",children:"Date & Time"}),n.jsx(A,{type:"datetime-local",value:o.toISOString().slice(0,16),onChange:e=>{i(new Date(e.target.value)),ve(!1)},className:"text-sm"}),n.jsxs(p,{variant:"secondary",size:"sm",className:"w-full gap-2",onClick:Re,children:[n.jsx(N,{className:"h-4 w-4"}),"Reset to Now"]})]}),n.jsx(E,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(C,{className:"text-xs text-muted-foreground uppercase",children:"Space Tour"}),_?n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-primary/10 border border-primary/20",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[re?n.jsx(me,{className:"h-4 w-4 text-amber-400 animate-pulse"}):n.jsx(V,{className:"h-4 w-4 text-primary"}),n.jsxs("span",{className:"text-sm font-medium",children:[re?"Cinematic":"Manual"," Mode"]})]}),n.jsx(p,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:Ue,children:"Exit"})]}),n.jsxs("div",{className:"text-center p-2 rounded-md bg-muted/50",children:[n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Destination ",q+1," of ",Ae.length]}),n.jsx("div",{className:"text-sm font-semibold text-primary",children:(null==(r=Ae[q])?void 0:r.name)||"Unknown"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"text-xs text-muted-foreground",children:"Warp Speed"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(G,{value:[Q],onValueChange:([e])=>ee(e),min:.5,max:5,step:.5,className:"flex-1"}),n.jsxs("span",{className:"text-xs font-mono w-8",children:[Q,"x"]})]})]}),re&&n.jsxs("div",{className:"space-y-1",children:[n.jsxs(C,{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(ce,{className:"h-3 w-3"})," Orbit Time"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(G,{value:[je],onValueChange:([e])=>Me(e),min:3,max:20,step:1,className:"flex-1"}),n.jsxs("span",{className:"text-xs font-mono w-8",children:[je,"s"]})]})]}),n.jsxs(p,{variant:re?"default":"outline",size:"sm",className:"w-full gap-2 "+(re?"bg-amber-500 hover:bg-amber-600":""),onClick:()=>{re?Ke():(de(!0),Z||(we.current=setTimeout(()=>{De()},1e3*je)))},children:[n.jsx(me,{className:"h-4 w-4"}),re?"Switch to Manual":"Switch to Cinematic"]})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsxs(p,{variant:"default",size:"sm",className:"w-full gap-2 bg-gradient-to-r from-primary to-primary/80",onClick:Be,children:[n.jsx(V,{className:"h-4 w-4"}),"Manual Tour"]}),n.jsxs(p,{variant:"default",size:"sm",className:"w-full gap-2 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-400 hover:to-orange-400",onClick:We,children:[n.jsx(me,{className:"h-4 w-4"}),"Cinematic Tour"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Explore the solar system from a spacecraft cockpit view."})]})]}),n.jsx(E,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(C,{className:"text-xs text-muted-foreground uppercase",children:"Display"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(C,{className:"flex items-center gap-2 text-sm",children:[n.jsx(be,{className:"h-4 w-4"})," Orbits"]}),n.jsx(R,{checked:d,onCheckedChange:m})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(C,{className:"flex items-center gap-2 text-sm",children:[n.jsx(I,{className:"h-4 w-4"})," Labels"]}),n.jsx(R,{checked:u,onCheckedChange:h})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(C,{className:"flex items-center gap-2 text-sm",children:[n.jsx(le,{className:"h-4 w-4"})," Moons"]}),n.jsx(R,{checked:y,onCheckedChange:b})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(C,{className:"flex items-center gap-2 text-sm",children:[n.jsx(oe,{className:"h-4 w-4"})," Asteroid Belt"]}),n.jsx(R,{checked:M,onCheckedChange:w})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(C,{className:"flex items-center gap-2 text-sm",children:[n.jsx(oe,{className:"h-4 w-4"})," Dwarf Planets"]}),n.jsx(R,{checked:L,onCheckedChange:F})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(C,{className:"flex items-center gap-2 text-sm",children:[n.jsx(H,{className:"h-4 w-4"})," Comets"]}),n.jsx(R,{checked:O,onCheckedChange:B})]})]}),n.jsx(E,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"text-xs text-muted-foreground uppercase",children:"Navigate To"}),n.jsx("div",{className:"grid grid-cols-3 gap-1",children:Ee.map(e=>n.jsx(p,{variant:D===e.name?"default":"outline",size:"sm",className:"text-xs h-8 px-2",onClick:()=>U(e.name),children:"Sun"===e.name?n.jsx(v,{className:"h-3 w-3"}):e.name.slice(0,3)},e.name))}),y&&n.jsxs(n.Fragment,{children:[n.jsx(C,{className:"text-xs text-muted-foreground uppercase mt-4",children:"Moons"}),n.jsx("div",{className:"grid grid-cols-3 gap-1",children:ct.slice(0,12).map(e=>n.jsx(p,{variant:D===e.name?"default":"outline",size:"sm",className:"text-xs h-7 px-1",onClick:()=>U(e.name),children:e.name.slice(0,4)},e.name))})]}),D&&n.jsx(p,{variant:"ghost",size:"sm",className:"w-full",onClick:()=>U(null),children:"Clear Focus"})]}),n.jsx(E,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"text-xs text-muted-foreground uppercase",children:"Tips"}),n.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[n.jsx("p",{children:"• Use the timeline controls at the bottom to animate time"}),n.jsx("p",{children:"• Click on planets to focus the camera"}),n.jsx("p",{children:"• Scroll to zoom, drag to rotate"}),n.jsx("p",{children:'• Try "Years" mode to see outer planets move'})]})]})]})})]})})]});var Qe});Ut.displayName="SolarSystem";const Wt=()=>{const[e,a]=t.useState("skymap");return n.jsxs("div",{className:"w-full h-screen relative",children:[n.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-[9999] flex gap-2 bg-card/90 backdrop-blur-sm rounded-lg p-1 border border-border shadow-lg",children:[n.jsxs(p,{variant:"skymap"===e?"default":"ghost",size:"sm",className:"gap-2",onClick:()=>a("skymap"),children:[n.jsx(ne,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Sky Map"})]}),n.jsxs(p,{variant:"solarsystem"===e?"default":"ghost",size:"sm",className:"gap-2",onClick:()=>a("solarsystem"),children:[n.jsx(be,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Solar System"})]})]}),"skymap"===e?n.jsx(ot,{}):n.jsx(Ut,{})]})},Kt=()=>{const e=r();return t.useEffect(()=>{},[e.pathname]),n.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),n.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),n.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},$t=new Ae({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:3e5}}}),Vt=()=>n.jsx(ia,{children:n.jsx(Ne,{client:$t,children:n.jsxs(je,{children:[n.jsx(Me,{}),n.jsx(we,{}),n.jsx(o,{children:n.jsxs(i,{children:[n.jsx(l,{path:"/",element:n.jsx(Wt,{})}),n.jsx(l,{path:"*",element:n.jsx(Kt,{})})]})})]})})}),_t=document.getElementById("root");if(!_t)throw new Error("Root element not found");c(_t).render(n.jsx(Vt,{})),setTimeout(()=>{const e=document.getElementById("app-loader");e&&(e.classList.add("loaded"),setTimeout(()=>e.remove(),500))},100);export{ja as a,$a as b,Ma as c,Ya as g};
