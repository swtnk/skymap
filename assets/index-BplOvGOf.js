const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./NakshatraPanel-CMobUIwF.js","./react-vendor-OEMN43JN.js","./map-vendor-scx2wcTa.js","./map-vendor-Dgihpmma.css","./ui-vendor-uHWh54n4.js","./routing-vendor-BoMlvbZZ.js","./three-vendor-C4xQyQ5C.js","./pdf-vendor-Do3zHwVP.js","./ExportDialog-L86zP5RA.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,a,n)=>((t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n)(t,"symbol"!=typeof a?a+"":a,n);import{r as a,j as n,d as r,u as o,H as i,h as s,i as l,b as c}from"./react-vendor-OEMN43JN.js";import{A as u,T as h,a as d,b as m,B as p,D as f,c as g,d as x,e as y,N as b,S as v,C as w,f as j,g as A,h as M,i as S,j as T,k as C,I as N,R as k,l as P,L as F,m as L,n as E,o as B,p as z,q as O,r as R,M as D,E as I,G as H,s as G,t as _,u as U,v as K,w as V,x as W,y as $,H as Y,V as X,z as q,F as Z,J,K as Q}from"./ui-vendor-uHWh54n4.js";import{Q as ee,a as te}from"./routing-vendor-BoMlvbZZ.js";import{B as ae,a as ne,C as re,P as oe,A as ie,b as se,u as le,H as ce,V as ue,L as he,T as de,c as me,d as pe,O as fe,S as ge,e as xe}from"./three-vendor-C4xQyQ5C.js";import{L as ye,c as be}from"./map-vendor-scx2wcTa.js";import{_ as ve,E as we,Y as je}from"./pdf-vendor-Do3zHwVP.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();class Ae extends a.Component{constructor(e){super(e),t(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})}),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t}),this.props.onError&&this.props.onError(e,t)}render(){var e;return this.state.hasError?this.props.fallback?this.props.fallback:n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:n.jsxs("div",{className:"max-w-md w-full space-y-4",children:[n.jsxs(u,{variant:"destructive",children:[n.jsx(h,{className:"h-4 w-4"}),n.jsx(d,{children:"Something went wrong"}),n.jsx(m,{children:(null==(e=this.state.error)?void 0:e.message)||"An unexpected error occurred"})]}),!1,n.jsxs("div",{className:"flex gap-2",children:[n.jsx(p,{onClick:this.handleReset,className:"flex-1",children:"Try Again"}),n.jsx(p,{variant:"outline",onClick:()=>window.location.reload(),className:"flex-1",children:"Reload Page"})]})]})}):this.props.children}}const Me=[{name:"Dubhe",ra:11.062,dec:61.75,magnitude:1.79,spectralType:"K",constellation:"Ursa Major"},{name:"Merak",ra:11.031,dec:56.38,magnitude:2.37,spectralType:"A",constellation:"Ursa Major"},{name:"Phecda",ra:11.897,dec:53.69,magnitude:2.44,spectralType:"A",constellation:"Ursa Major"},{name:"Megrez",ra:12.257,dec:57.03,magnitude:3.31,spectralType:"A",constellation:"Ursa Major"},{name:"Alioth",ra:12.9,dec:55.96,magnitude:1.77,spectralType:"A",constellation:"Ursa Major"},{name:"Mizar",ra:13.399,dec:54.93,magnitude:2.27,spectralType:"A",constellation:"Ursa Major"},{name:"Alkaid",ra:13.792,dec:49.31,magnitude:1.86,spectralType:"B",constellation:"Ursa Major"},{name:"Muscida",ra:10.298,dec:60.72,magnitude:3.35,spectralType:"G",constellation:"Ursa Major"},{name:"Talitha",ra:10.296,dec:55.01,magnitude:3.13,spectralType:"A",constellation:"Ursa Major"},{name:"Betelgeuse",ra:5.919,dec:7.41,magnitude:.42,spectralType:"M",constellation:"Orion"},{name:"Rigel",ra:5.242,dec:-8.2,magnitude:.13,spectralType:"B",constellation:"Orion"},{name:"Bellatrix",ra:5.419,dec:6.35,magnitude:1.64,spectralType:"B",constellation:"Orion"},{name:"Mintaka",ra:5.533,dec:-.3,magnitude:2.23,spectralType:"O",constellation:"Orion"},{name:"Alnilam",ra:5.603,dec:-1.2,magnitude:1.7,spectralType:"B",constellation:"Orion"},{name:"Alnitak",ra:5.679,dec:-1.94,magnitude:1.77,spectralType:"O",constellation:"Orion"},{name:"Saiph",ra:5.796,dec:-9.67,magnitude:2.09,spectralType:"B",constellation:"Orion"},{name:"Nair Al Saif",ra:5.489,dec:-6.84,magnitude:4.43,spectralType:"B",constellation:"Orion"},{name:"Hatysa",ra:5.276,dec:9.27,magnitude:4.97,spectralType:"B",constellation:"Orion"},{name:"Antares",ra:16.49,dec:-26.43,magnitude:.96,spectralType:"M",constellation:"Scorpius",nakshatra:"Jyeshtha"},{name:"Shaula",ra:17.56,dec:-37.1,magnitude:1.63,spectralType:"B",constellation:"Scorpius"},{name:"Sargas",ra:17.622,dec:-42.99,magnitude:1.87,spectralType:"F",constellation:"Scorpius"},{name:"Dschubba",ra:16.005,dec:-22.62,magnitude:2.32,spectralType:"B",constellation:"Scorpius"},{name:"Alniyat",ra:16.217,dec:-19.27,magnitude:3.56,spectralType:"B",constellation:"Scorpius"},{name:"Girtab",ra:17.601,dec:-42.36,magnitude:5.23,spectralType:"B",constellation:"Scorpius"},{name:"Regulus",ra:10.14,dec:11.97,magnitude:1.35,spectralType:"B",constellation:"Leo",nakshatra:"Magha"},{name:"Denebola",ra:11.818,dec:14.57,magnitude:2.14,spectralType:"A",constellation:"Leo",nakshatra:"Uttara Phalguni"},{name:"Algieba",ra:10.333,dec:19.84,magnitude:2.08,spectralType:"K",constellation:"Leo"},{name:"Zosma",ra:11.235,dec:20.52,magnitude:2.56,spectralType:"A",constellation:"Leo"},{name:"Adhafera",ra:10.128,dec:16.77,magnitude:3.44,spectralType:"F",constellation:"Leo"},{name:"Chertan",ra:11.236,dec:14.57,magnitude:3.17,spectralType:"A",constellation:"Leo"},{name:"Deneb",ra:20.691,dec:45.28,magnitude:1.25,spectralType:"A",constellation:"Cygnus"},{name:"Sadr",ra:20.371,dec:40.26,magnitude:2.2,spectralType:"F",constellation:"Cygnus"},{name:"Gienah Cygni",ra:20.77,dec:33.97,magnitude:2.46,spectralType:"K",constellation:"Cygnus"},{name:"Albireo",ra:19.512,dec:27.96,magnitude:3.08,spectralType:"K",constellation:"Cygnus"},{name:"Nodus Secundus Cygni",ra:20.37,dec:40.26,magnitude:4.23,spectralType:"F",constellation:"Cygnus"},{name:"Vega",ra:18.616,dec:38.78,magnitude:.03,spectralType:"A",constellation:"Lyra"},{name:"Sheliak",ra:18.835,dec:33.36,magnitude:3.45,spectralType:"A",constellation:"Lyra"},{name:"Sulafat",ra:18.982,dec:32.69,magnitude:3.24,spectralType:"B",constellation:"Lyra"},{name:"Epsilon Lyrae",ra:18.74,dec:39.64,magnitude:4.68,spectralType:"A",constellation:"Lyra"},{name:"Altair",ra:19.846,dec:8.87,magnitude:.77,spectralType:"A",constellation:"Aquila",nakshatra:"Shravana"},{name:"Tarazed",ra:19.771,dec:10.61,magnitude:2.72,spectralType:"K",constellation:"Aquila"},{name:"Alshain",ra:19.922,dec:6.41,magnitude:3.71,spectralType:"G",constellation:"Aquila"},{name:"Schedar",ra:.675,dec:56.54,magnitude:2.23,spectralType:"K",constellation:"Cassiopeia"},{name:"Caph",ra:.153,dec:59.15,magnitude:2.27,spectralType:"F",constellation:"Cassiopeia"},{name:"Navi",ra:.945,dec:60.72,magnitude:2.47,spectralType:"B",constellation:"Cassiopeia"},{name:"Ruchbah",ra:1.43,dec:60.24,magnitude:2.68,spectralType:"A",constellation:"Cassiopeia"},{name:"Segin",ra:1.907,dec:63.67,magnitude:3.38,spectralType:"B",constellation:"Cassiopeia"},{name:"Achird",ra:.203,dec:57.81,magnitude:3.32,spectralType:"F",constellation:"Cassiopeia"},{name:"Aldebaran",ra:4.599,dec:16.51,magnitude:.85,spectralType:"K",constellation:"Taurus",nakshatra:"Rohini"},{name:"Elnath",ra:5.438,dec:28.61,magnitude:1.65,spectralType:"B",constellation:"Taurus"},{name:"Alcyone",ra:3.791,dec:24.1,magnitude:2.87,spectralType:"B",constellation:"Taurus"},{name:"Atlas",ra:3.797,dec:24.03,magnitude:3.63,spectralType:"B",constellation:"Taurus"},{name:"Electra",ra:3.791,dec:24.11,magnitude:3.72,spectralType:"B",constellation:"Taurus"},{name:"Maia",ra:3.763,dec:24.37,magnitude:3.87,spectralType:"B",constellation:"Taurus"},{name:"Merope",ra:3.756,dec:23.97,magnitude:4.17,spectralType:"B",constellation:"Taurus"},{name:"Pleione",ra:3.795,dec:24.14,magnitude:4.86,spectralType:"B",constellation:"Taurus"},{name:"Tiān Guān",ra:4.213,dec:15.63,magnitude:4.96,spectralType:"F",constellation:"Taurus"},{name:"Pollux",ra:7.755,dec:28.03,magnitude:1.14,spectralType:"K",constellation:"Gemini",nakshatra:"Punarvasu"},{name:"Castor",ra:7.577,dec:31.89,magnitude:1.58,spectralType:"A",constellation:"Gemini"},{name:"Alhena",ra:6.629,dec:16.4,magnitude:1.93,spectralType:"A",constellation:"Gemini"},{name:"Mebsuta",ra:6.732,dec:25.13,magnitude:2.98,spectralType:"G",constellation:"Gemini"},{name:"Wasat",ra:6.372,dec:22.51,magnitude:3.55,spectralType:"F",constellation:"Gemini"},{name:"Propus",ra:7.598,dec:26.13,magnitude:3.98,spectralType:"K",constellation:"Gemini"},{name:"Sirius",ra:6.752,dec:-16.72,magnitude:-1.46,spectralType:"A",constellation:"Canis Major"},{name:"Adhara",ra:6.977,dec:-28.97,magnitude:1.5,spectralType:"B",constellation:"Canis Major"},{name:"Wezen",ra:7.14,dec:-26.39,magnitude:1.84,spectralType:"F",constellation:"Canis Major"},{name:"Mirzam",ra:6.378,dec:-17.96,magnitude:1.98,spectralType:"B",constellation:"Canis Major"},{name:"Aludra",ra:7.401,dec:-29.3,magnitude:2.45,spectralType:"B",constellation:"Canis Major"},{name:"Furud",ra:7.077,dec:-27.94,magnitude:3.02,spectralType:"A",constellation:"Canis Major"},{name:"Isis",ra:6.361,dec:-16.39,magnitude:3.93,spectralType:"K",constellation:"Canis Major"},{name:"Procyon",ra:7.655,dec:5.23,magnitude:.34,spectralType:"F",constellation:"Canis Minor"},{name:"Gomeisa",ra:7.452,dec:8.29,magnitude:2.9,spectralType:"B",constellation:"Canis Minor"},{name:"Spica",ra:13.42,dec:-11.16,magnitude:.97,spectralType:"B",constellation:"Virgo",nakshatra:"Chitra"},{name:"Porrima",ra:12.695,dec:-1.45,magnitude:2.74,spectralType:"F",constellation:"Virgo"},{name:"Vindemiatrix",ra:13.037,dec:10.96,magnitude:2.83,spectralType:"G",constellation:"Virgo"},{name:"Heze",ra:13.455,dec:-6.06,magnitude:3.41,spectralType:"A",constellation:"Virgo"},{name:"Zaniah",ra:12.893,dec:-6.43,magnitude:3.89,spectralType:"A",constellation:"Virgo"},{name:"Arcturus",ra:14.261,dec:19.18,magnitude:-.05,spectralType:"K",constellation:"Boötes",nakshatra:"Swati"},{name:"Izar",ra:14.75,dec:27.07,magnitude:2.37,spectralType:"K",constellation:"Boötes"},{name:"Muphrid",ra:13.912,dec:18.4,magnitude:2.68,spectralType:"G",constellation:"Boötes"},{name:"Seginus",ra:15.031,dec:40.39,magnitude:3.03,spectralType:"A",constellation:"Boötes"},{name:"Alkalurops",ra:14.53,dec:13.73,magnitude:4.16,spectralType:"A",constellation:"Boötes"},{name:"Alpha Centauri",ra:14.66,dec:-60.84,magnitude:-.27,spectralType:"G",constellation:"Centaurus"},{name:"Hadar",ra:14.064,dec:-60.37,magnitude:.61,spectralType:"B",constellation:"Centaurus"},{name:"Menkent",ra:14.111,dec:-36.37,magnitude:2.06,spectralType:"K",constellation:"Centaurus"},{name:"Acrux",ra:12.443,dec:-63.1,magnitude:.76,spectralType:"B",constellation:"Crux"},{name:"Mimosa",ra:12.795,dec:-59.69,magnitude:1.25,spectralType:"B",constellation:"Crux"},{name:"Gacrux",ra:12.519,dec:-57.11,magnitude:1.64,spectralType:"M",constellation:"Crux"},{name:"Polaris",ra:2.53,dec:89.26,magnitude:1.98,spectralType:"F",constellation:"Ursa Minor"},{name:"Kochab",ra:14.845,dec:74.16,magnitude:2.08,spectralType:"K",constellation:"Ursa Minor"},{name:"Pherkad",ra:15.346,dec:71.83,magnitude:3,spectralType:"A",constellation:"Ursa Minor"},{name:"Yildun",ra:16.29,dec:75.76,magnitude:4.36,spectralType:"A",constellation:"Ursa Minor"},{name:"Alpheratz",ra:.14,dec:29.09,magnitude:2.06,spectralType:"B",constellation:"Andromeda"},{name:"Mirach",ra:1.162,dec:35.62,magnitude:2.06,spectralType:"M",constellation:"Andromeda"},{name:"Almach",ra:2.065,dec:42.33,magnitude:2.1,spectralType:"K",constellation:"Andromeda"},{name:"Delta Andromedae",ra:.651,dec:30.86,magnitude:3.28,spectralType:"K",constellation:"Andromeda"},{name:"Markab",ra:23.079,dec:15.21,magnitude:2.49,spectralType:"B",constellation:"Pegasus"},{name:"Scheat",ra:23.063,dec:28.08,magnitude:2.42,spectralType:"M",constellation:"Pegasus"},{name:"Algenib",ra:.22,dec:15.18,magnitude:2.83,spectralType:"B",constellation:"Pegasus"},{name:"Enif",ra:21.736,dec:9.87,magnitude:2.39,spectralType:"K",constellation:"Pegasus"},{name:"Theta Pegasi",ra:21.725,dec:12.12,magnitude:2.95,spectralType:"B",constellation:"Pegasus"},{name:"Eta Piscium",ra:1.525,dec:15.35,magnitude:3.62,spectralType:"G",constellation:"Pisces"},{name:"Alrescha",ra:2.034,dec:2.76,magnitude:3.82,spectralType:"A",constellation:"Pisces"},{name:"Fum al Samakah",ra:1.143,dec:5.49,magnitude:4.46,spectralType:"B",constellation:"Pisces"},{name:"Hamal",ra:2.12,dec:23.46,magnitude:2,spectralType:"K",constellation:"Aries"},{name:"Sheratan",ra:1.911,dec:20.81,magnitude:2.64,spectralType:"A",constellation:"Aries"},{name:"Mesarthim",ra:2.118,dec:23.48,magnitude:3.87,spectralType:"B",constellation:"Aries"},{name:"Kaus Australis",ra:18.403,dec:-34.38,magnitude:1.85,spectralType:"B",constellation:"Sagittarius"},{name:"Nunki",ra:18.921,dec:-26.3,magnitude:2.02,spectralType:"B",constellation:"Sagittarius"},{name:"Ascella",ra:19.044,dec:-29.88,magnitude:2.59,spectralType:"A",constellation:"Sagittarius"},{name:"Kaus Media",ra:18.35,dec:-29.83,magnitude:2.7,spectralType:"K",constellation:"Sagittarius"},{name:"Kaus Borealis",ra:18.466,dec:-25.42,magnitude:2.81,spectralType:"K",constellation:"Sagittarius"},{name:"Albaldah",ra:19.223,dec:-27.67,magnitude:3.27,spectralType:"F",constellation:"Sagittarius"},{name:"Deneb Algedi",ra:21.784,dec:-16.13,magnitude:2.81,spectralType:"A",constellation:"Capricornus"},{name:"Dabih",ra:20.35,dec:-14.78,magnitude:3.08,spectralType:"K",constellation:"Capricornus"},{name:"Nashira",ra:21.681,dec:-16.65,magnitude:3.68,spectralType:"A",constellation:"Capricornus"},{name:"Sadalsuud",ra:21.526,dec:-5.57,magnitude:2.91,spectralType:"G",constellation:"Aquarius"},{name:"Sadalmelik",ra:22.096,dec:-.32,magnitude:2.96,spectralType:"G",constellation:"Aquarius"},{name:"Sadaltager",ra:22.362,dec:-8.98,magnitude:3.27,spectralType:"A",constellation:"Aquarius"},{name:"Zubeneschamali",ra:15.283,dec:-9.38,magnitude:2.61,spectralType:"B",constellation:"Libra"},{name:"Zubenelgenubi",ra:14.848,dec:-16.04,magnitude:2.75,spectralType:"A",constellation:"Libra"},{name:"Zuben Elakrab",ra:15.592,dec:-9.38,magnitude:4.76,spectralType:"K",constellation:"Libra"},{name:"Acubens",ra:8.975,dec:11.86,magnitude:4.25,spectralType:"A",constellation:"Cancer"},{name:"Altarf",ra:8.275,dec:9.19,magnitude:3.53,spectralType:"K",constellation:"Cancer"},{name:"Fomalhaut",ra:22.961,dec:-29.62,magnitude:1.16,spectralType:"A",constellation:"Piscis Austrinus"},{name:"Capella",ra:5.278,dec:45.99,magnitude:.08,spectralType:"G",constellation:"Auriga"},{name:"Menkalinan",ra:5.993,dec:44.95,magnitude:1.9,spectralType:"A",constellation:"Auriga"},{name:"Algol",ra:3.138,dec:40.96,magnitude:2.1,spectralType:"B",constellation:"Perseus"},{name:"Mirfak",ra:3.405,dec:49.86,magnitude:1.79,spectralType:"F",constellation:"Perseus"},{name:"Almaaz",ra:5.252,dec:43.19,magnitude:2.6,spectralType:"G",constellation:"Auriga"},{name:"Muliphein",ra:6.641,dec:-27.04,magnitude:4.33,spectralType:"G",constellation:"Canis Major"},{name:"Achernar",ra:1.628,dec:-57.24,magnitude:.46,spectralType:"B",constellation:"Eridanus"},{name:"Cursa",ra:1.629,dec:-8.9,magnitude:2.76,spectralType:"A",constellation:"Eridanus"},{name:"Alphard",ra:9.273,dec:-8.66,magnitude:1.99,spectralType:"K",constellation:"Hydra"},{name:"Eltanin",ra:17.944,dec:51.49,magnitude:2.24,spectralType:"K",constellation:"Draco"},{name:"Rastaban",ra:17.656,dec:52.71,magnitude:2.79,spectralType:"G",constellation:"Draco"},{name:"Nodus Secundus Draconis",ra:19.207,dec:67.66,magnitude:4.84,spectralType:"K",constellation:"Draco"},{name:"Alderamin",ra:21.315,dec:62.59,magnitude:2.44,spectralType:"A",constellation:"Cepheus"},{name:"Alfirk",ra:21.449,dec:62.59,magnitude:3.21,spectralType:"B",constellation:"Cepheus"},{name:"Deneb Kaitos",ra:.727,dec:-17.99,magnitude:2.04,spectralType:"K",constellation:"Cetus"},{name:"Menkar",ra:3.048,dec:4.09,magnitude:2.54,spectralType:"M",constellation:"Cetus"},{name:"Ras Alhague",ra:17.483,dec:12.56,magnitude:2.08,spectralType:"A",constellation:"Ophiuchus"},{name:"Sabik",ra:17.173,dec:-15.73,magnitude:2.43,spectralType:"A",constellation:"Ophiuchus"},{name:"Unukalhai",ra:15.743,dec:6.43,magnitude:2.65,spectralType:"K",constellation:"Serpens"},{name:"Ras Algethi",ra:17.246,dec:14.39,magnitude:3.48,spectralType:"M",constellation:"Hercules"},{name:"Kornephoros",ra:16.688,dec:31.6,magnitude:2.81,spectralType:"G",constellation:"Hercules"},{name:"Arneb",ra:5.544,dec:-17.82,magnitude:2.58,spectralType:"F",constellation:"Lepus"},{name:"Nihal",ra:5.128,dec:-20.76,magnitude:2.81,spectralType:"G",constellation:"Lepus"},{name:"Beta Monocerotis",ra:6.401,dec:9.55,magnitude:3.93,spectralType:"K",constellation:"Monoceros"},{name:"Alphecca",ra:15.857,dec:26.71,magnitude:2.24,spectralType:"A",constellation:"Corona Borealis"},{name:"Gienah Corvus",ra:12.262,dec:-17.54,magnitude:2.59,spectralType:"B",constellation:"Corvus"},{name:"Kraz",ra:12.566,dec:-16.19,magnitude:2.65,spectralType:"B",constellation:"Corvus"},{name:"Naos",ra:8.066,dec:-40,magnitude:2.25,spectralType:"O",constellation:"Puppis"},{name:"Ahchita",ra:7.62,dec:-43.3,magnitude:2.71,spectralType:"K",constellation:"Puppis"},{name:"Gamma Velorum",ra:8.961,dec:-47.37,magnitude:1.83,spectralType:"O",constellation:"Vela"},{name:"Delta Velorum",ra:8.746,dec:-54.71,magnitude:1.93,spectralType:"A",constellation:"Vela"},{name:"Phact",ra:5.92,dec:-35.77,magnitude:2.64,spectralType:"B",constellation:"Columba"},{name:"Alpha Tucanae",ra:22.301,dec:-60.26,magnitude:2.86,spectralType:"K",constellation:"Tucana"},{name:"Peacock",ra:20.427,dec:-56.74,magnitude:1.94,spectralType:"B",constellation:"Pavo"},{name:"Alpha Indi",ra:20.638,dec:-47.29,magnitude:3.11,spectralType:"K",constellation:"Indus"},{name:"Alpha Lupi",ra:14.984,dec:-47.39,magnitude:2.3,spectralType:"B",constellation:"Lupus"},{name:"Gamma Normae",ra:16.2,dec:-50.15,magnitude:4.02,spectralType:"B",constellation:"Norma"},{name:"Alpha Arae",ra:17.531,dec:-49.88,magnitude:2.95,spectralType:"B",constellation:"Ara"},{name:"Beta Arae",ra:17.421,dec:-55.53,magnitude:2.85,spectralType:"K",constellation:"Ara"},{name:"Beta Trianguli",ra:2.158,dec:34.99,magnitude:3,spectralType:"A",constellation:"Triangulum"},{name:"Alpha Trianguli",ra:1.885,dec:29.58,magnitude:3.41,spectralType:"F",constellation:"Triangulum"},{name:"Gamma Trianguli",ra:2.289,dec:33.85,magnitude:4.01,spectralType:"A",constellation:"Triangulum"},{name:"Rotanev",ra:20.625,dec:14.6,magnitude:3.63,spectralType:"F",constellation:"Delphinus"},{name:"Sualocin",ra:20.66,dec:15.91,magnitude:3.77,spectralType:"B",constellation:"Delphinus"},{name:"Gamma Sagittae",ra:19.979,dec:19.49,magnitude:3.47,spectralType:"K",constellation:"Sagitta"},{name:"Delta Sagittae",ra:19.781,dec:18.53,magnitude:3.68,spectralType:"M",constellation:"Sagitta"},{name:"Alpha Vulpeculae",ra:19.479,dec:24.66,magnitude:4.44,spectralType:"M",constellation:"Vulpecula"},{name:"Kitalpha",ra:21.263,dec:10.13,magnitude:3.92,spectralType:"G",constellation:"Equuleus"},{name:"Alpha Lacertae",ra:22.521,dec:50.28,magnitude:3.77,spectralType:"A",constellation:"Lacerta"},{name:"Cor Caroli",ra:12.934,dec:38.32,magnitude:2.9,spectralType:"A",constellation:"Canes Venatici"},{name:"Chara",ra:12.563,dec:41.36,magnitude:4.24,spectralType:"G",constellation:"Canes Venatici"},{name:"Beta Comae Berenices",ra:13.197,dec:27.88,magnitude:4.26,spectralType:"G",constellation:"Coma Berenices"},{name:"Alpha Comae Berenices",ra:13.167,dec:17.53,magnitude:4.32,spectralType:"F",constellation:"Coma Berenices"},{name:"Alpha Coronae Australis",ra:19.158,dec:-37.9,magnitude:4.11,spectralType:"A",constellation:"Corona Australis"},{name:"Beta Coronae Australis",ra:19.167,dec:-39.34,magnitude:4.11,spectralType:"K",constellation:"Corona Australis"},{name:"Delta Crateris",ra:11.322,dec:-14.78,magnitude:3.56,spectralType:"K",constellation:"Crater"},{name:"Alpha Crateris",ra:10.996,dec:-18.3,magnitude:4.08,spectralType:"K",constellation:"Crater"},{name:"Alpha Sextantis",ra:10.132,dec:-.37,magnitude:4.49,spectralType:"A",constellation:"Sextans"},{name:"Praecipua",ra:10.887,dec:34.21,magnitude:3.83,spectralType:"G",constellation:"Leo Minor"},{name:"Beta Leonis Minoris",ra:10.465,dec:36.71,magnitude:4.21,spectralType:"G",constellation:"Leo Minor"},{name:"Alpha Lyncis",ra:9.35,dec:34.39,magnitude:3.13,spectralType:"K",constellation:"Lynx"},{name:"Beta Camelopardalis",ra:5.057,dec:60.44,magnitude:4.03,spectralType:"G",constellation:"Camelopardalis"},{name:"Alpha Sculptoris",ra:.976,dec:-29.36,magnitude:4.3,spectralType:"B",constellation:"Sculptor"},{name:"Alpha Fornacis",ra:3.201,dec:-28.99,magnitude:3.87,spectralType:"F",constellation:"Fornax"},{name:"Alpha Caeli",ra:4.676,dec:-41.86,magnitude:4.45,spectralType:"F",constellation:"Caelum"},{name:"Alpha Horologii",ra:4.233,dec:-42.29,magnitude:3.86,spectralType:"K",constellation:"Horologium"},{name:"Alpha Doradus",ra:4.567,dec:-55.04,magnitude:3.27,spectralType:"A",constellation:"Dorado"},{name:"Beta Doradus",ra:5.56,dec:-62.49,magnitude:3.46,spectralType:"F",constellation:"Dorado"},{name:"Alpha Pictoris",ra:6.803,dec:-61.94,magnitude:3.27,spectralType:"A",constellation:"Pictor"},{name:"Beta Volantis",ra:8.43,dec:-66.4,magnitude:3.77,spectralType:"K",constellation:"Volans"},{name:"Gamma Volantis",ra:7.144,dec:-70.5,magnitude:3.78,spectralType:"K",constellation:"Volans"},{name:"Canopus",ra:6.399,dec:-52.7,magnitude:-.72,spectralType:"F",constellation:"Carina"},{name:"Miaplacidus",ra:9.22,dec:-69.72,magnitude:1.68,spectralType:"A",constellation:"Carina"},{name:"Avior",ra:8.375,dec:-59.51,magnitude:1.86,spectralType:"K",constellation:"Carina"},{name:"Alpha Chamaeleontis",ra:8.308,dec:-76.92,magnitude:4.07,spectralType:"F",constellation:"Chamaeleon"},{name:"Alpha Apodis",ra:14.798,dec:-79.04,magnitude:3.83,spectralType:"K",constellation:"Apus"},{name:"Alpha Muscae",ra:12.619,dec:-69.14,magnitude:2.69,spectralType:"B",constellation:"Musca"},{name:"Beta Muscae",ra:12.771,dec:-68.11,magnitude:3.05,spectralType:"B",constellation:"Musca"},{name:"Alpha Circini",ra:14.709,dec:-64.97,magnitude:3.19,spectralType:"F",constellation:"Circinus"},{name:"Atria",ra:16.811,dec:-69.03,magnitude:1.92,spectralType:"K",constellation:"Triangulum Australe"},{name:"Beta Trianguli Australis",ra:15.919,dec:-63.43,magnitude:2.85,spectralType:"F",constellation:"Triangulum Australe"},{name:"Gamma Trianguli Australis",ra:15.315,dec:-68.68,magnitude:2.89,spectralType:"A",constellation:"Triangulum Australe"},{name:"Alpha Telescopii",ra:18.45,dec:-45.97,magnitude:3.51,spectralType:"B",constellation:"Telescopium"},{name:"Nu Octantis",ra:21.685,dec:-77.39,magnitude:3.76,spectralType:"K",constellation:"Octans"},{name:"Beta Hydri",ra:.426,dec:-77.25,magnitude:2.8,spectralType:"G",constellation:"Hydrus"},{name:"Alpha Hydri",ra:1.979,dec:-61.57,magnitude:2.86,spectralType:"F",constellation:"Hydrus"},{name:"Alpha Mensae",ra:6.17,dec:-74.75,magnitude:5.09,spectralType:"G",constellation:"Mensa"},{name:"Alpha Reticuli",ra:4.24,dec:-62.47,magnitude:3.35,spectralType:"G",constellation:"Reticulum"},{name:"Alnair",ra:22.137,dec:-46.96,magnitude:1.74,spectralType:"B",constellation:"Grus"},{name:"Beta Gruis",ra:22.711,dec:-46.88,magnitude:2.11,spectralType:"M",constellation:"Grus"},{name:"Ankaa",ra:.438,dec:-42.31,magnitude:2.39,spectralType:"K",constellation:"Phoenix"},{name:"Gamma Microscopii",ra:21.025,dec:-32.26,magnitude:4.67,spectralType:"G",constellation:"Microscopium"},{name:"Alpha Scuti",ra:18.586,dec:-8.24,magnitude:3.85,spectralType:"K",constellation:"Scutum"},{name:"Alpha Antliae",ra:10.452,dec:-31.07,magnitude:4.25,spectralType:"K",constellation:"Antlia"},{name:"Alpha Pyxidis",ra:8.726,dec:-33.19,magnitude:3.68,spectralType:"B",constellation:"Pyxis"}],Se=[{name:"Ursa Major",starNames:[["Dubhe","Merak"],["Merak","Phecda"],["Phecda","Megrez"],["Megrez","Dubhe"],["Megrez","Alioth"],["Alioth","Mizar"],["Mizar","Alkaid"]]},{name:"Orion",starNames:[["Betelgeuse","Bellatrix"],["Betelgeuse","Mintaka"],["Bellatrix","Mintaka"],["Mintaka","Alnilam"],["Alnilam","Alnitak"],["Alnitak","Saiph"],["Saiph","Rigel"],["Rigel","Mintaka"]]},{name:"Scorpius",starNames:[["Dschubba","Antares"],["Antares","Shaula"],["Shaula","Sargas"]]},{name:"Leo",starNames:[["Regulus","Algieba"],["Algieba","Zosma"],["Zosma","Denebola"],["Denebola","Regulus"]]},{name:"Cygnus",starNames:[["Deneb","Sadr"],["Sadr","Albireo"],["Sadr","Gienah"]]},{name:"Lyra",starNames:[["Vega","Sheliak"],["Sheliak","Sulafat"],["Sulafat","Vega"]]},{name:"Aquila",starNames:[["Altair","Tarazed"],["Altair","Alshain"]]},{name:"Cassiopeia",starNames:[["Caph","Schedar"],["Schedar","Navi"],["Navi","Ruchbah"],["Ruchbah","Segin"]]},{name:"Taurus",starNames:[["Aldebaran","Elnath"],["Aldebaran","Alcyone"]]},{name:"Gemini",starNames:[["Castor","Pollux"],["Pollux","Alhena"],["Castor","Mebsuta"]]},{name:"Canis Major",starNames:[["Sirius","Mirzam"],["Sirius","Adhara"],["Adhara","Wezen"]]},{name:"Canis Minor",starNames:[["Procyon","Gomeisa"]]},{name:"Virgo",starNames:[["Spica","Porrima"],["Porrima","Vindemiatrix"]]},{name:"Boötes",starNames:[["Arcturus","Izar"],["Arcturus","Muphrid"]]},{name:"Crux",starNames:[["Acrux","Gacrux"],["Mimosa","Gacrux"]]},{name:"Ursa Minor",starNames:[["Polaris","Kochab"],["Kochab","Pherkad"]]},{name:"Andromeda",starNames:[["Alpheratz","Mirach"],["Mirach","Almach"]]},{name:"Pegasus",starNames:[["Markab","Scheat"],["Scheat","Alpheratz"],["Alpheratz","Algenib"],["Algenib","Markab"]]},{name:"Sagittarius",starNames:[["Kaus Australis","Kaus Media"],["Kaus Media","Kaus Borealis"],["Kaus Borealis","Nunki"],["Nunki","Ascella"],["Ascella","Kaus Australis"]]},{name:"Aries",starNames:[["Hamal","Sheratan"],["Sheratan","Mesarthim"]]},{name:"Aquarius",starNames:[["Sadalsuud","Sadalmelik"],["Sadalmelik","Sadaltager"]]},{name:"Capricornus",starNames:[["Deneb Algedi","Dabih"],["Dabih","Nashira"]]},{name:"Libra",starNames:[["Zubeneschamali","Zubenelgenubi"],["Zubenelgenubi","Zuben Elakrab"]]},{name:"Cancer",starNames:[["Acubens","Altarf"]]},{name:"Pisces",starNames:[["Eta Piscium","Alrescha"],["Alrescha","Fum al Samakah"]]},{name:"Piscis Austrinus",starNames:[["Fomalhaut","Fomalhaut"]]},{name:"Auriga",starNames:[["Capella","Menkalinan"],["Menkalinan","Almaaz"],["Almaaz","Capella"]]},{name:"Perseus",starNames:[["Mirfak","Algol"]]},{name:"Eridanus",starNames:[["Achernar","Cursa"]]},{name:"Hydra",starNames:[["Alphard","Alphard"]]},{name:"Draco",starNames:[["Eltanin","Rastaban"],["Rastaban","Nodus Secundus Draconis"]]},{name:"Cepheus",starNames:[["Alderamin","Alfirk"]]},{name:"Cetus",starNames:[["Deneb Kaitos","Menkar"]]},{name:"Ophiuchus",starNames:[["Ras Alhague","Sabik"]]},{name:"Serpens",starNames:[["Unukalhai","Unukalhai"]]},{name:"Hercules",starNames:[["Ras Algethi","Kornephoros"]]},{name:"Lepus",starNames:[["Arneb","Nihal"]]},{name:"Corona Borealis",starNames:[["Alphecca","Alphecca"]]},{name:"Corvus",starNames:[["Gienah Corvus","Kraz"]]},{name:"Puppis",starNames:[["Naos","Ahchita"]]},{name:"Vela",starNames:[["Gamma Velorum","Delta Velorum"]]},{name:"Columba",starNames:[["Phact","Phact"]]},{name:"Centaurus",starNames:[["Alpha Centauri","Hadar"],["Hadar","Menkent"]]},{name:"Tucana",starNames:[["Alpha Tucanae","Alpha Tucanae"]]},{name:"Pavo",starNames:[["Peacock","Peacock"]]},{name:"Indus",starNames:[["Alpha Indi","Alpha Indi"]]},{name:"Lupus",starNames:[["Alpha Lupi","Alpha Lupi"]]},{name:"Norma",starNames:[["Gamma Normae","Gamma Normae"]]},{name:"Ara",starNames:[["Alpha Arae","Beta Arae"]]},{name:"Triangulum",starNames:[["Beta Trianguli","Alpha Trianguli"],["Alpha Trianguli","Gamma Trianguli"],["Gamma Trianguli","Beta Trianguli"]]},{name:"Delphinus",starNames:[["Rotanev","Sualocin"]]},{name:"Sagitta",starNames:[["Gamma Sagittae","Delta Sagittae"]]},{name:"Vulpecula",starNames:[["Alpha Vulpeculae","Alpha Vulpeculae"]]},{name:"Equuleus",starNames:[["Kitalpha","Kitalpha"]]},{name:"Lacerta",starNames:[["Alpha Lacertae","Alpha Lacertae"]]},{name:"Canes Venatici",starNames:[["Cor Caroli","Chara"]]},{name:"Coma Berenices",starNames:[["Beta Comae Berenices","Alpha Comae Berenices"]]},{name:"Corona Australis",starNames:[["Alpha Coronae Australis","Beta Coronae Australis"]]},{name:"Crater",starNames:[["Delta Crateris","Alpha Crateris"]]},{name:"Sextans",starNames:[["Alpha Sextantis","Alpha Sextantis"]]},{name:"Leo Minor",starNames:[["Praecipua","Beta Leonis Minoris"]]},{name:"Lynx",starNames:[["Alpha Lyncis","Alpha Lyncis"]]},{name:"Camelopardalis",starNames:[["Beta Camelopardalis","Beta Camelopardalis"]]},{name:"Sculptor",starNames:[["Alpha Sculptoris","Alpha Sculptoris"]]},{name:"Fornax",starNames:[["Alpha Fornacis","Alpha Fornacis"]]},{name:"Caelum",starNames:[["Alpha Caeli","Alpha Caeli"]]},{name:"Horologium",starNames:[["Alpha Horologii","Alpha Horologii"]]},{name:"Dorado",starNames:[["Alpha Doradus","Beta Doradus"]]},{name:"Pictor",starNames:[["Alpha Pictoris","Alpha Pictoris"]]},{name:"Volans",starNames:[["Beta Volantis","Gamma Volantis"]]},{name:"Carina",starNames:[["Canopus","Miaplacidus"],["Miaplacidus","Avior"],["Avior","Canopus"]]},{name:"Chamaeleon",starNames:[["Alpha Chamaeleontis","Alpha Chamaeleontis"]]},{name:"Apus",starNames:[["Alpha Apodis","Alpha Apodis"]]},{name:"Musca",starNames:[["Alpha Muscae","Beta Muscae"]]},{name:"Circinus",starNames:[["Alpha Circini","Alpha Circini"]]},{name:"Triangulum Australe",starNames:[["Atria","Beta Trianguli Australis"],["Beta Trianguli Australis","Gamma Trianguli Australis"],["Gamma Trianguli Australis","Atria"]]},{name:"Telescopium",starNames:[["Alpha Telescopii","Alpha Telescopii"]]},{name:"Octans",starNames:[["Nu Octantis","Nu Octantis"]]},{name:"Hydrus",starNames:[["Beta Hydri","Alpha Hydri"]]},{name:"Mensa",starNames:[["Alpha Mensae","Alpha Mensae"]]},{name:"Reticulum",starNames:[["Alpha Reticuli","Alpha Reticuli"]]},{name:"Grus",starNames:[["Alnair","Beta Gruis"]]},{name:"Phoenix",starNames:[["Ankaa","Ankaa"]]},{name:"Microscopium",starNames:[["Gamma Microscopii","Gamma Microscopii"]]},{name:"Scutum",starNames:[["Alpha Scuti","Alpha Scuti"]]},{name:"Antlia",starNames:[["Alpha Antliae","Alpha Antliae"]]},{name:"Pyxis",starNames:[["Alpha Pyxidis","Alpha Pyxidis"]]},{name:"Monoceros",starNames:[["Beta Monocerotis","Beta Monocerotis"]]}];function Te(e){return{O:"#9bb0ff",B:"#aabfff",A:"#cad7ff",F:"#f8f7ff",G:"#fff4ea",K:"#ffd2a1",M:"#ffcc6f"}[e]||"#ffffff"}const Ce={Mercury:{a:.3871,e:.20563,i:7.005,omega:77.456,Omega:48.331,L0:252.251,n:4.09233445},Venus:{a:.72333,e:.00677,i:3.395,omega:131.564,Omega:76.68,L0:181.98,n:1.60213034},Mars:{a:1.52368,e:.0934,i:1.85,omega:336.041,Omega:49.558,L0:355.453,n:.52402068},Jupiter:{a:5.2026,e:.04849,i:1.303,omega:14.754,Omega:100.464,L0:34.404,n:.08308529},Saturn:{a:9.55491,e:.05551,i:2.489,omega:92.432,Omega:113.666,L0:50.077,n:.03344414},Uranus:{a:19.21845,e:.0463,i:.773,omega:170.964,Omega:74.006,L0:314.055,n:.01172834},Neptune:{a:30.11039,e:.00899,i:1.77,omega:44.971,Omega:131.784,L0:304.349,n:.00598103}};function Ne(e){let t=e.getUTCFullYear(),a=e.getUTCMonth()+1;const n=e.getUTCDate()+e.getUTCHours()/24+e.getUTCMinutes()/1440+e.getUTCSeconds()/86400;a<=2&&(t-=1,a+=12);const r=Math.floor(t/100),o=2-r+Math.floor(r/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(a+1))+n+o-1524.5}function ke(e){return e*Math.PI/180}function Pe(e){for(;e<0;)e+=360;for(;e>=360;)e-=360;return e}function Fe(e,t){const a=Ce[e];if(!a)return{x:0,y:0,z:0};const n=t-2451545,r=Pe(a.L0+a.n*n),o=function(e,t,a=1e-8){let n=e,r=1,o=0;for(;Math.abs(r)>a&&o<100;)r=(e-(n-t*Math.sin(n)))/(1-t*Math.cos(n)),n+=r,o++;return n}(ke(Pe(r-a.omega)),a.e),i=2*Math.atan2(Math.sqrt(1+a.e)*Math.sin(o/2),Math.sqrt(1-a.e)*Math.cos(o/2)),s=a.a*(1-a.e*Math.cos(o)),l=s*Math.cos(i),c=s*Math.sin(i),u=a.omega-a.Omega,h=Math.cos(ke(u)),d=Math.sin(ke(u)),m=Math.cos(ke(a.Omega)),p=Math.sin(ke(a.Omega)),f=Math.cos(ke(a.i)),g=Math.sin(ke(a.i));return{x:(m*h-p*d*f)*l+(-m*d-p*h*f)*c,y:(p*h+m*d*f)*l+(-p*d+m*h*f)*c,z:d*g*l+h*g*c}}function Le(e,t,a){const n=ke(23.439),r=e,o=t*Math.cos(n)-a*Math.sin(n),i=t*Math.sin(n)+a*Math.cos(n),s=Math.sqrt(r*r+o*o+i*i),l=180*Math.asin(i/s)/Math.PI;let c=180*Math.atan2(o,r)/Math.PI;return c<0&&(c+=360),c/=15,{ra:c,dec:l}}const Ee={Mercury:"#b5b5b5",Venus:"#e6e6ac",Mars:"#e27b58",Jupiter:"#d8ca9d",Saturn:"#ead6b8",Uranus:"#b4d9e8",Neptune:"#5b5ddf"};function Be(e,t,a){return Pe(180*Math.atan2(t,e)/Math.PI)}function ze(e=new Date){const t=Ne(e),a=function(e){const t=e-2451545,a=Pe(100.46435+.9856474*t),n=Pe(357.528+.9856003*t),r=Pe(a+1.915*Math.sin(ke(n))+.02*Math.sin(ke(2*n))),o=1.00014-.01671*Math.cos(ke(n))-14e-5*Math.cos(ke(2*n));return{x:o*Math.cos(ke(r)),y:o*Math.sin(ke(r)),z:0}}(t),n=[];for(const r of Object.keys(Ce)){const e=Fe(r,t),o=e.x-a.x,i=e.y-a.y,s=e.z-a.z,l=Math.sqrt(o*o+i*i+s*s),{ra:c,dec:u}=Le(o,i,s),h=Be(o,i);n.push({name:r,ra:c,dec:u,distance:l,color:Ee[r]||"#ffffff",eclipticLongitude:h})}return n}function Oe(e=new Date){const t=Ne(e)-2451545,a=Pe(218.316+13.176396*t),n=Pe(134.963+13.064993*t),r=Pe(93.272+13.22935*t),o=Pe(a+6.289*Math.sin(ke(n))),i=5.128*Math.sin(ke(r)),s=385001-20905*Math.cos(ke(n)),l=ke(23.439),c=ke(o),u=ke(i),h=180*Math.atan2(Math.sin(c)*Math.cos(l)-Math.tan(u)*Math.sin(l),Math.cos(c))/Math.PI;return{name:"Moon",ra:(h<0?h+360:h)/15,dec:180*Math.asin(Math.sin(u)*Math.cos(l)+Math.cos(u)*Math.sin(l)*Math.sin(c))/Math.PI,distance:s/149597870.7,color:"#f4f4f4",eclipticLongitude:o}}function Re(e=new Date){const t=Ne(e)-2451545,a=Pe(357.529+.98560028*t),n=Pe(280.459+.98564736*t),r=Pe(n+1.915*Math.sin(ke(a))+.02*Math.sin(ke(2*a))),o=ke(23.439-36e-8*t),i=ke(r),s=180*Math.atan2(Math.cos(o)*Math.sin(i),Math.cos(i))/Math.PI;return{name:"Sun",ra:(s<0?s+360:s)/15,dec:180*Math.asin(Math.sin(o)*Math.sin(i))/Math.PI,distance:1,color:"#ffdd44",eclipticLongitude:r}}function De(e,t,a,n,r,o=100){const i=e/24*2*Math.PI,s=t*Math.PI/180,l=n*Math.PI/180,c=function(e){let t=e.getUTCFullYear(),a=e.getUTCMonth()+1;const n=e.getUTCDate()+e.getUTCHours()/24+e.getUTCMinutes()/1440+e.getUTCSeconds()/86400;a<=2&&(t-=1,a+=12);const r=Math.floor(t/100),o=2-r+Math.floor(r/4),i=Math.floor(365.25*(t+4716))+Math.floor(30.6001*(a+1))+n+o-1524.5;return i}(a),u=(c-2451545)/36525;let h=280.46061837+360.98564736629*(c-2451545)+387933e-9*u*u-u*u*u/3871e4;h=function(e){let t=e%360;t<0&&(t+=360);return t}(h)/15,h=Ie(h);const d=Ie(h+r/15)/24*2*Math.PI-i,m=Math.cos(s)*Math.sin(d),p=Math.cos(s)*Math.cos(d)*Math.sin(l)-Math.sin(s)*Math.cos(l);return[o*m,o*(Math.cos(s)*Math.cos(d)*Math.cos(l)+Math.sin(s)*Math.sin(l)),-o*p]}function Ie(e){let t=e;for(;t<0;)t+=24;for(;t>=24;)t-=24;return t}function He({star:e,radius:t,showLabels:r,showGlow:o,date:i,location:s,showAboveHorizon:l=!0,showBelowHorizon:c=!0,showNakshatraRings:u=!0}){const h=a.useRef(null),d=a.useRef(null),[m,p]=a.useState(!1),f=De(e.ra,e.dec,i,s.latitude,s.longitude,t),g=Te(e.spectralType),x=.8+.3*(2-e.magnitude);const y=a.useMemo(()=>{const e=new ae,t=new Float32Array([0,0,0]);return e.setAttribute("position",new ne(t,3)),e},[]),b=a.useMemo(()=>{const e=document.createElement("canvas");e.width=64,e.height=64;const t=e.getContext("2d"),a=t.createRadialGradient(32,32,0,32,32,32);a.addColorStop(0,"rgba(255, 255, 255, 1)"),a.addColorStop(.2,"rgba(255, 255, 255, 0.6)"),a.addColorStop(.5,"rgba(255, 255, 255, 0.2)"),a.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=a,t.fillRect(0,0,64,64);const n=new re(e);return new oe({size:8*x,map:n,transparent:!0,opacity:.4,blending:ie,color:new se(g),depthWrite:!1,sizeAttenuation:!0})},[g,x]);return le(t=>{if(h.current){const a=.8+.2*Math.sin(2*t.clock.elapsedTime+10*e.ra);h.current.scale.setScalar(x*a)}if(d.current&&b){const a=.8+.2*Math.sin(1.5*t.clock.elapsedTime+5*e.dec);b.size=8*x*a}}),!l&&f[1]>0||!c&&f[1]<0?null:n.jsxs("group",{position:f,children:[n.jsxs("mesh",{ref:h,onPointerOver:()=>p(!0),onPointerOut:()=>p(!1),children:[n.jsx("sphereGeometry",{args:[x,8,8]}),n.jsx("meshBasicMaterial",{color:g})]}),e.nakshatra&&u&&n.jsxs(n.Fragment,{children:[n.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[n.jsx("torusGeometry",{args:[2.5*x,.3*x,8,32]}),n.jsx("meshBasicMaterial",{color:"#ffaa00",transparent:!0,opacity:.6})]}),n.jsxs("mesh",{rotation:[Math.PI/2,0,0],onPointerOver:()=>p(!0),onPointerOut:()=>p(!1),children:[n.jsx("ringGeometry",{args:[1.5*x,3.5*x,32]}),n.jsx("meshBasicMaterial",{transparent:!0,opacity:0})]})]}),o&&n.jsx("points",{ref:d,geometry:y,material:b}),(r||m)&&e.magnitude<2&&n.jsx(ce,{position:[0,4*x,0],center:!0,zIndexRange:[0,1e3],style:{color:"#ffffff",fontSize:m?"10px":"8px",fontFamily:"Space Mono, monospace",whiteSpace:"nowrap",pointerEvents:"none",textShadow:"0 0 3px rgba(0,0,0,0.9)",opacity:m?1:.7,backgroundColor:e.nakshatra?"rgba(255, 170, 0, 0.15)":"rgba(0, 0, 0, 0.4)",padding:"1px 4px",borderRadius:"2px",backdropFilter:"blur(2px)",border:e.nakshatra?"1px solid rgba(255, 170, 0, 0.3)":"none"},children:n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1px"},children:[n.jsx("span",{children:e.name}),e.nakshatra&&m&&n.jsx("span",{style:{color:"#ffaa00",fontSize:"7px",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.3px"},children:e.nakshatra})]})})]})}const Ge=["Ashwini","Bharani","Krittika","Rohini","Mrigashira","Ardra","Punarvasu","Pushya","Ashlesha","Magha","Purva Phalguni","Uttara Phalguni","Hasta","Chitra","Swati","Vishakha","Anuradha","Jyeshtha","Mula","Purva Ashadha","Uttara Ashadha","Shravana","Dhanishta","Shatabhisha","Purva Bhadrapada","Uttara Bhadrapada","Revati"];function _e(e,t,a,n){if(void 0!==a)return Ue(a,n);const r=e/24*2*Math.PI,o=t*Math.PI/180,i=23.4392911*Math.PI/180,s=Math.sin(r)*Math.cos(i)+Math.tan(o)*Math.sin(i),l=Math.cos(r);let c=180*Math.atan2(s,l)/Math.PI;return c<0&&(c+=360),Ue(c,n)}function Ue(e,t){const a=t?function(e){const t=new Date("2000-01-01T12:00:00Z");return 23.85+(e.getTime()-t.getTime())/864e5/365.25*.01397}(t):24;let n=e-a;n<0&&(n+=360),n%=360;const r=Math.floor(n/(360/27));return Ge[r]}function Ke({planet:e,radius:t,showLabels:r,showGlow:o,date:i,location:s,showAboveHorizon:l=!0,showBelowHorizon:c=!0}){const u=a.useRef(null),h=a.useRef(null),[d,m]=a.useState(!1),p=De(e.ra,e.dec,i,s.latitude,s.longitude,t);_e(e.ra,e.dec,e.eclipticLongitude,i);const f="Sun"===e.name?3:"Moon"===e.name?2.5:1.5,g=a.useMemo(()=>{const e=new ae,t=new Float32Array([0,0,0]);return e.setAttribute("position",new ne(t,3)),e},[]),x=a.useMemo(()=>{const t=document.createElement("canvas");t.width=128,t.height=128;const a=t.getContext("2d"),n=a.createRadialGradient(64,64,0,64,64,64);n.addColorStop(0,"rgba(255, 255, 255, 1)"),n.addColorStop(.15,"rgba(255, 255, 255, 0.8)"),n.addColorStop(.3,"rgba(255, 255, 255, 0.4)"),n.addColorStop(.6,"rgba(255, 255, 255, 0.1)"),n.addColorStop(1,"rgba(255, 255, 255, 0)"),a.fillStyle=n,a.fillRect(0,0,128,128);const r=new re(t);return new oe({size:12*f,map:r,transparent:!0,opacity:.5,blending:ie,color:new se(e.color),depthWrite:!1,sizeAttenuation:!0})},[e.color,f]);return le(e=>{if(h.current&&x){const t=1+.15*Math.sin(1.5*e.clock.elapsedTime);x.size=12*f*t}}),!l&&p[1]>0||!c&&p[1]<0?null:n.jsxs("group",{position:p,children:[n.jsxs("mesh",{ref:u,onPointerOver:()=>m(!0),onPointerOut:()=>m(!1),children:[n.jsx("sphereGeometry",{args:[f,16,16]}),n.jsx("meshBasicMaterial",{color:e.color})]}),o&&n.jsx("points",{ref:h,geometry:g,material:x}),(r||d)&&n.jsx(ce,{position:[0,4.5*f,0],center:!0,zIndexRange:[0,1e3],style:{color:e.color,fontSize:"11px",fontFamily:"Orbitron, sans-serif",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none",textShadow:`0 0 6px ${e.color}, 0 0 8px rgba(0,0,0,0.9)`,backgroundColor:"rgba(0, 0, 0, 0.6)",padding:"2px 6px",borderRadius:"3px",backdropFilter:"blur(3px)"},children:e.name})]})}function Ve({radius:e,visible:t,date:r,location:o,showAboveHorizon:i=!0,showBelowHorizon:s=!0,showLabels:l=!0}){const c=a.useMemo(()=>{if(!t)return[];const a=new Map(Me.map(e=>[e.name,e])),n=[];return Se.forEach(t=>{t.starNames.forEach(([l,c])=>{const u=a.get(l),h=a.get(c);if(u&&h){const a=De(u.ra,u.dec,r,o.latitude,o.longitude,e),l=De(h.ra,h.dec,r,o.latitude,o.longitude,e),c=new ue(...a),d=new ue(...l),m=c.y>0,p=d.y>0;if(!i&&m&&p)return;if(!s&&!m&&!p)return;n.push({points:[c,d],constellation:t.name})}})}),n},[e,t,r,o,i,s]),u=a.useMemo(()=>{if(!t||!l)return[];const a=new Map(Me.map(e=>[e.name,e])),n=[];return Se.forEach(t=>{const l=new Set;t.starNames.forEach(([e,t])=>{l.add(e),e!==t&&l.add(t)});const c=[];if(l.forEach(t=>{const n=a.get(t);if(n){const t=De(n.ra,n.dec,r,o.latitude,o.longitude,e);c.push(new ue(...t))}}),c.length>0){const e=new ue;c.forEach(t=>e.add(t)),e.divideScalar(c.length);const a=e.y>0;(i&&a||s&&!a)&&n.push({name:t.name,position:e})}}),n},[e,t,r,o,i,s,l]);return t?n.jsxs("group",{children:[c.map((e,t)=>n.jsx(he,{points:e.points,color:"#4a6fa5",lineWidth:1,dashed:!0,dashSize:2,gapSize:1.5,opacity:.6,transparent:!0},t)),l&&u.map((e,t)=>n.jsx(ce,{position:e.position,center:!0,sprite:!0,zIndexRange:[0,1e3],style:{pointerEvents:"none",userSelect:"none"},children:n.jsx("div",{style:{color:"#4a9eff",fontSize:"11px",fontFamily:"Orbitron, sans-serif",fontWeight:"bold",whiteSpace:"nowrap",textShadow:"0 0 6px #4a9eff, 0 0 8px rgba(0,0,0,0.9)",backgroundColor:"rgba(0, 0, 0, 0.6)",padding:"2px 6px",borderRadius:"3px",backdropFilter:"blur(3px)"},children:e.name})},`label-${t}`))]}):null}function We({radius:e,visible:t,opacity:r=.3,date:o,location:i,showAboveHorizon:s=!0,showBelowHorizon:l=!0,showHorizonLine:c=!0,showEquatorLine:u=!0,showEclipticLine:h=!0}){const{declinationLines:d,raLines:m,equator:p,ecliptic:f,raLabels:g,decLabels:x}=a.useMemo(()=>{const t=[],a=[],n=[],r=[];for(let u=-60;u<=60;u+=30){const a=[];for(let t=0;t<=24;t+=.5){const n=De(t,u,o,i.latitude,i.longitude,e);a.push(new ue(...n))}if(t.push(a),0!==u){const t=De(0,u,o,i.latitude,i.longitude,e+3);r.push({position:new ue(...t),label:`${u>0?"+":""}${u}°`})}}for(let u=0;u<24;u+=2){const t=[];for(let a=-90;a<=90;a+=5){const n=De(u,a,o,i.latitude,i.longitude,e);t.push(new ue(...n))}a.push(t);const r=De(u,0,o,i.latitude,i.longitude,e+3);n.push({position:new ue(...r),label:`${u}h`})}const s=[];for(let u=0;u<=24;u+=.1){const t=De(u,0,o,i.latitude,i.longitude,e);s.push(new ue(...t))}const l=[],c=23.4*Math.PI/180;for(let u=0;u<=360;u+=1){const t=u*Math.PI/180,a=Math.cos(t),n=Math.sin(t),r=0,s=a,h=n*Math.cos(c)-r*Math.sin(c),d=n*Math.sin(c)+r*Math.cos(c),m=Math.sqrt(s*s+h*h+d*d),p=180*Math.asin(d/m)/Math.PI;let f=180*Math.atan2(h,s)/Math.PI;f<0&&(f+=360),f/=15;const g=De(f,p,o,i.latitude,i.longitude,e);l.push(new ue(...g))}return{declinationLines:t,raLines:a,equator:s,ecliptic:l,raLabels:n,decLabels:r}},[e,o,i]);if(!t)return null;const y=`hsl(220, 40%, ${25+30*r}%)`;return n.jsxs("group",{children:[d.map((e,t)=>{const a=e.filter(e=>!(!s&&e.y>0)&&!(!l&&e.y<0));return a.length<2?null:n.jsx(he,{points:a,color:y,lineWidth:1,opacity:.6*r,transparent:!0},`dec-${t}`)}),m.map((e,t)=>{const a=e.filter(e=>!(!s&&e.y>0)&&!(!l&&e.y<0));return a.length<2?null:n.jsx(he,{points:a,color:y,lineWidth:1,opacity:.6*r,transparent:!0},`ra-${t}`)}),g.map((e,t)=>{if(!s&&e.position.y>0)return null;if(!l&&e.position.y<0)return null;const a=Math.atan2(e.position.x,-e.position.z);return n.jsx(de,{position:e.position,fontSize:2,color:"#6b8cba",anchorX:"center",anchorY:"middle",rotation:[0,a,0],billboard:!1,children:e.label},`ra-label-${t}`)}),x.map((e,t)=>{if(!s&&e.position.y>0)return null;if(!l&&e.position.y<0)return null;const a=Math.atan2(e.position.x,-e.position.z);return n.jsx(de,{position:e.position,fontSize:2,color:"#6b8cba",anchorX:"center",anchorY:"middle",rotation:[0,a,0],billboard:!1,children:e.label},`dec-label-${t}`)}),c&&n.jsx(he,{points:Array.from({length:181},(t,a)=>{const n=2*a*Math.PI/180;return new ue(Math.cos(n)*e,0,Math.sin(n)*e)}),color:"#00ff88",lineWidth:5,opacity:r+.4,transparent:!0}),c&&n.jsx(de,{position:[e+5,0,.1*e],fontSize:2.8,color:"#00ff88",anchorX:"left",anchorY:"middle",children:"HORIZON"}),u&&n.jsx(he,{points:p,color:"#4a90d9",lineWidth:4,opacity:r+.3,transparent:!0}),u&&n.jsx(de,{position:[e+5,0,0],fontSize:2.5,color:"#4a90d9",anchorX:"left",anchorY:"middle",children:"EQUATOR 0°"}),h&&n.jsx(he,{points:f,color:"#d9a54a",lineWidth:2,opacity:r+.2,transparent:!0}),h&&n.jsx(de,{position:[e+5,e*Math.sin(23.4*Math.PI/180),0],fontSize:2,color:"#d9a54a",anchorX:"left",anchorY:"middle",children:"ECLIPTIC"}),s&&n.jsx(de,{position:[0,.8*e,0],fontSize:3,color:"#4a90d9",anchorX:"center",anchorY:"middle",fillOpacity:.8*r,children:"NORTHERN HEMISPHERE"}),l&&n.jsx(de,{position:[0,.8*-e,0],fontSize:3,color:"#4ecdc4",anchorX:"center",anchorY:"middle",fillOpacity:.8*r,children:"SOUTHERN HEMISPHERE"})]})}function $e({latitude:e=0}){const t=a.useRef(null),r=a.useRef(null),o=e<0;return le(e=>{r.current&&(r.current.position.y=.1*Math.sin(.5*e.clock.elapsedTime))}),n.jsxs("group",{ref:t,position:[0,0,0],children:[n.jsxs("group",{scale:[.6,.6,.6],children:[n.jsxs("mesh",{position:[0,1.2,0],children:[n.jsx("sphereGeometry",{args:[.4,16,16]}),n.jsx("meshBasicMaterial",{color:"#ffeb3b"})]}),n.jsxs("mesh",{position:[0,.4,0],children:[n.jsx("boxGeometry",{args:[.6,.8,.4]}),n.jsx("meshBasicMaterial",{color:"#ffeb3b"}),n.jsxs("lineSegments",{children:[n.jsx("edgesGeometry",{attach:"geometry",args:[new me(.6,.8,.4)]}),n.jsx("lineBasicMaterial",{color:"#000000",linewidth:1})]})]}),n.jsxs("mesh",{position:[-.45,.4,0],children:[n.jsx("boxGeometry",{args:[.35,.8,.35]}),n.jsx("meshBasicMaterial",{color:"#ffeb3b"}),n.jsxs("lineSegments",{children:[n.jsx("edgesGeometry",{attach:"geometry",args:[new me(.35,.8,.35)]}),n.jsx("lineBasicMaterial",{color:"#000000",linewidth:1})]})]}),n.jsxs("mesh",{position:[.45,.4,0],children:[n.jsx("boxGeometry",{args:[.35,.8,.35]}),n.jsx("meshBasicMaterial",{color:"#ffeb3b"}),n.jsxs("lineSegments",{children:[n.jsx("edgesGeometry",{attach:"geometry",args:[new me(.35,.8,.35)]}),n.jsx("lineBasicMaterial",{color:"#000000",linewidth:1})]})]}),n.jsxs("mesh",{position:[-.2,-.35,0],children:[n.jsx("boxGeometry",{args:[.25,.7,.35]}),n.jsx("meshBasicMaterial",{color:"#ffeb3b"}),n.jsxs("lineSegments",{children:[n.jsx("edgesGeometry",{attach:"geometry",args:[new me(.25,.7,.35)]}),n.jsx("lineBasicMaterial",{color:"#000000",linewidth:1})]})]}),n.jsxs("mesh",{position:[.2,-.35,0],children:[n.jsx("boxGeometry",{args:[.25,.7,.35]}),n.jsx("meshBasicMaterial",{color:"#ffeb3b"}),n.jsxs("lineSegments",{children:[n.jsx("edgesGeometry",{attach:"geometry",args:[new me(.25,.7,.35)]}),n.jsx("lineBasicMaterial",{color:"#000000",linewidth:1})]})]})]}),n.jsxs("group",{ref:r,position:[0,-.5,0],rotation:o?[0,Math.PI,0]:[0,0,0],children:[n.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[n.jsx("torusGeometry",{args:[3.5,.08,8,64]}),n.jsx("meshBasicMaterial",{color:"#4a90d9",transparent:!0,opacity:.6})]}),n.jsxs("group",{position:[0,0,-3.5],children:[n.jsxs("mesh",{rotation:[-Math.PI/2,0,0],children:[n.jsx("coneGeometry",{args:[.25,.6,8]}),n.jsx("meshBasicMaterial",{color:"#4ecdc4"})]}),n.jsx(de,{position:[0,.8,0],fontSize:.6,color:"#4ecdc4",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,Math.PI,0],billboard:!1,children:"S"}),n.jsx(de,{position:[0,.25,0],fontSize:.25,color:"#7eddd7",anchorX:"center",anchorY:"middle",maxWidth:1,children:"180°"})]}),n.jsxs("group",{position:[0,0,3.5],children:[n.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[n.jsx("coneGeometry",{args:[.25,.6,8]}),n.jsx("meshBasicMaterial",{color:"#ff6b6b"})]}),n.jsx(de,{position:[0,.8,0],fontSize:.6,color:"#ff6b6b",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,0,0],billboard:!1,children:"N"}),n.jsx(de,{position:[0,.25,0],fontSize:.25,color:"#ff9999",anchorX:"center",anchorY:"middle",maxWidth:1,children:"0°"})]}),n.jsxs("group",{position:[3.5,0,0],children:[n.jsxs("mesh",{rotation:[0,0,-Math.PI/2],children:[n.jsx("coneGeometry",{args:[.25,.6,8]}),n.jsx("meshBasicMaterial",{color:"#ffe66d"})]}),n.jsx(de,{position:[0,.8,0],fontSize:.6,color:"#ffe66d",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,Math.PI/2,0],billboard:!1,children:"E"}),n.jsx(de,{position:[0,.25,0],fontSize:.25,color:"#fff099",anchorX:"center",anchorY:"middle",maxWidth:1,children:"90°"})]}),n.jsxs("group",{position:[-3.5,0,0],children:[n.jsxs("mesh",{rotation:[0,0,Math.PI/2],children:[n.jsx("coneGeometry",{args:[.25,.6,8]}),n.jsx("meshBasicMaterial",{color:"#a8e6cf"})]}),n.jsx(de,{position:[0,.8,0],fontSize:.6,color:"#a8e6cf",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,-Math.PI/2,0],billboard:!1,children:"W"}),n.jsx(de,{position:[0,.25,0],fontSize:.25,color:"#c4f0dc",anchorX:"center",anchorY:"middle",maxWidth:1,children:"270°"})]}),n.jsx("group",{position:[2.475,0,3.5],children:n.jsx(de,{position:[0,.6,0],fontSize:.35,color:"#bbbbbb",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,Math.PI/4,0],billboard:!1,children:"NE"})}),n.jsx("group",{position:[2.475,0,-2.475],children:n.jsx(de,{position:[0,.6,0],fontSize:.35,color:"#bbbbbb",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,3*Math.PI/4,0],billboard:!1,children:"SE"})}),n.jsx("group",{position:[-2.475,0,-2.475],children:n.jsx(de,{position:[0,.6,0],fontSize:.35,color:"#bbbbbb",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,5*Math.PI/4,0],billboard:!1,children:"SW"})}),n.jsx("group",{position:[-2.475,0,3.5],children:n.jsx(de,{position:[0,.6,0],fontSize:.35,color:"#bbbbbb",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,7*Math.PI/4,0],billboard:!1,children:"NW"})})]}),n.jsxs("group",{position:[0,5,0],children:[n.jsxs("mesh",{children:[n.jsx("sphereGeometry",{args:[.15,8,8]}),n.jsx("meshBasicMaterial",{color:"#ffffff",transparent:!0,opacity:.6})]}),n.jsx(de,{position:[.5,0,0],fontSize:.3,color:"#aaaaaa",anchorX:"left",anchorY:"middle",children:"Zenith"})]})]})}function Ye({radius:e,visible:t,opacity:r=.8}){const o=a.useMemo(()=>[{label:"N",position:new ue(0,0,e),color:"#ff4444"},{label:"S",position:new ue(0,0,-e),color:"#ffffff"},{label:"W",position:new ue(e,0,0),color:"#4a90d9"},{label:"E",position:new ue(-e,0,0),color:"#ffaa00"},{label:"NW",position:new ue(.707*e,0,.707*e),color:"#88aaff"},{label:"NE",position:new ue(.707*-e,0,.707*e),color:"#ffaaaa"},{label:"SW",position:new ue(.707*e,0,.707*-e),color:"#aaccff"},{label:"SE",position:new ue(.707*-e,0,.707*-e),color:"#ffdd88"}],[e]);return t?n.jsx("group",{children:o.map(e=>n.jsx(ce,{position:e.position,center:!0,zIndexRange:[1e3,2e3],style:{color:e.color,fontSize:1===e.label.length?"24px":"16px",fontFamily:"Orbitron, sans-serif",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none",textShadow:`0 0 8px ${e.color}, 0 0 12px rgba(0,0,0,0.9), 0 0 4px ${e.color}`,opacity:r,backgroundColor:"rgba(0, 0, 0, 0.7)",padding:1===e.label.length?"6px 12px":"4px 8px",borderRadius:"4px",backdropFilter:"blur(4px)",border:`2px solid ${e.color}`,letterSpacing:"2px"},children:e.label},e.label))}):null}function Xe({date:e,showGrid:t,showConstellations:r,showLabels:o,showConstellationLabels:i=!0,showGlow:s,gridOpacity:l,zoomLevel:c,location:u,firstPersonMode:h,showAboveHorizon:d=!0,showBelowHorizon:m=!0,showNakshatraRings:p=!0,showHorizonLine:f=!0,showEquatorLine:g=!0,showEclipticLine:x=!0,controlsRef:y}){const b=200,v=a.useRef(null),{camera:w}=pe(),j=y||v;a.useEffect(()=>{j.current&&(j.current.minPolarAngle=-1/0,j.current.maxPolarAngle=1/0,j.current.minAzimuthAngle=-1/0,j.current.maxAzimuthAngle=1/0,j.current.touches={ONE:0,TWO:2},j.current.enableDamping=!0,j.current.dampingFactor=.05,j.current.rotateSpeed=h?1:.6,j.current.zoomSpeed=1.2,j.current.panSpeed=0)},[h,j]),a.useEffect(()=>{if(w)if(h)w.position.set(0,0,0),w.lookAt(0,1,0),w.updateProjectionMatrix();else{const e=c,t=w.position.clone().normalize();w.position.copy(t.multiplyScalar(e)),w.updateProjectionMatrix()}},[c,w,h]);const A=a.useMemo(()=>[...ze(e),Oe(e),Re(e)],[e]);return n.jsxs(n.Fragment,{children:[n.jsx(fe,{ref:j,enablePan:!1,enableZoom:!h,enableRotate:!0,minDistance:5,maxDistance:500,rotateSpeed:h?1:.6,zoomSpeed:1.2,enableDamping:!0,dampingFactor:.05,mouseButtons:{LEFT:0,MIDDLE:1,RIGHT:2},touches:{ONE:0,TWO:2}}),n.jsx("ambientLight",{intensity:.1}),n.jsx(ge,{radius:400,depth:100,count:8e3,factor:4,saturation:0,fade:!0,speed:.3}),!h&&n.jsx($e,{latitude:u.latitude}),n.jsx(Ye,{radius:b,visible:!0,opacity:h?1:.6}),n.jsx(We,{radius:b,visible:t,opacity:l,date:e,location:u,showAboveHorizon:d,showBelowHorizon:m,showHorizonLine:f,showEquatorLine:g,showEclipticLine:x}),n.jsx(Ve,{radius:b,visible:r,date:e,location:u,showAboveHorizon:d,showBelowHorizon:m,showLabels:i}),n.jsx(a.Suspense,{fallback:null,children:Me.map(t=>n.jsx(He,{star:t,radius:b,showLabels:o,showGlow:s,date:e,location:u,showAboveHorizon:d,showBelowHorizon:m,showNakshatraRings:p},t.name))}),n.jsx(a.Suspense,{fallback:null,children:A.map(t=>n.jsx(Ke,{planet:t,radius:b,showLabels:o,showGlow:s,date:e,location:u,showAboveHorizon:d,showBelowHorizon:m},t.name))})]})}function qe({open:e,initial:t,onSelect:r,onClose:o}){const i=a.useRef(null),s=a.useRef(null),l=a.useRef(null),[c,u]=a.useState(t??{lat:0,lng:0}),[h,d]=a.useState(""),[m,v]=a.useState(!1),w=async(e,t)=>{v(!0);try{const a=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${e}&lon=${t}&zoom=10&addressdetails=1`),n=await a.json();n.display_name?d(n.display_name):d(`${e.toFixed(4)}°, ${t.toFixed(4)}°`)}catch(a){d(`${e.toFixed(4)}°, ${t.toFixed(4)}°`)}finally{v(!1)}};a.useEffect(()=>{if(!e){if(s.current){try{s.current.remove()}catch(n){}s.current=null,l.current=null}return void d("")}const a=setTimeout(()=>{if(i.current)if(s.current)s.current.invalidateSize();else try{const e=ye.map(i.current,{center:[(null==t?void 0:t.lat)||0,(null==t?void 0:t.lng)||0],zoom:(null==t?void 0:t.lat)||(null==t?void 0:t.lng)?5:2,zoomControl:!0,scrollWheelZoom:!0,doubleClickZoom:!0,touchZoom:!0,boxZoom:!0,keyboard:!0,dragging:!0});s.current=e;const a=ye.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"© OpenStreetMap contributors"}),n=ye.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{maxZoom:19,attribution:"© Esri"}),r=ye.tileLayer("https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:"© OpenTopoMap contributors"});a.addTo(e);const o={Streets:a,Satellite:n,Terrain:r};ye.control.layers(o).addTo(e),ye.control.scale({imperial:!0,metric:!0,position:"bottomleft"}).addTo(e),setTimeout(()=>{s.current&&s.current.invalidateSize()},200),e.on("click",t=>{const{lat:a,lng:n}=t.latlng;u({lat:a,lng:n}),w(a,n),l.current?l.current.setLatLng([a,n]):l.current=ye.marker([a,n]).addTo(e)}),t&&(l.current=ye.marker([t.lat,t.lng]).addTo(e),w(t.lat,t.lng))}catch(e){}},150);return()=>{clearTimeout(a)}},[e]);return n.jsx(f,{open:e,onOpenChange:e=>!e&&o(),children:n.jsxs(g,{className:"max-w-4xl w-[90vw] h-[80vh] flex flex-col p-0 gap-0",children:[n.jsx(x,{className:"p-4 pb-2 border-b",children:n.jsx(y,{children:"Pick Location On Map"})}),n.jsxs("div",{className:"flex-1 flex flex-col p-4 overflow-hidden",style:{minHeight:0},children:[n.jsx("div",{ref:i,className:"rounded-md overflow-hidden border bg-gray-900",style:{height:"calc(80vh - 180px)",minHeight:"400px",width:"100%"}}),n.jsx("div",{className:"mt-3 space-y-2",children:m?n.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Loading location info..."}):h?n.jsxs("div",{className:"p-3 rounded-md bg-muted/50 border",children:[n.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Selected Location:"}),n.jsx("div",{className:"text-sm font-medium",children:h}),n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[c.lat.toFixed(6),"°, ",c.lng.toFixed(6),"°"]})]}):n.jsx("div",{className:"text-sm text-muted-foreground",children:"Click on the map to place the marker, then press Select."})}),n.jsxs("div",{className:"flex gap-2 justify-between mt-4",children:[n.jsxs(p,{variant:"outline",onClick:()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{const t=e.coords.latitude,a=e.coords.longitude;u({lat:t,lng:a}),w(t,a),s.current&&(s.current.setView([t,a],10),l.current?l.current.setLatLng([t,a]):l.current=ye.marker([t,a]).addTo(s.current))},e=>{alert("Unable to retrieve your location. Please ensure location permissions are enabled.")}):alert("Geolocation is not supported by your browser")},className:"gap-2",children:[n.jsx(b,{className:"h-4 w-4"}),"Use Current Location"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(p,{variant:"outline",onClick:o,children:"Cancel"}),n.jsx(p,{onClick:()=>{r(c.lat,c.lng,h||`${c.lat.toFixed(4)}°, ${c.lng.toFixed(4)}°`),o()},children:"Select"})]})]})]})]})})}const Ze=Object.freeze(Object.defineProperty({__proto__:null,default:qe},Symbol.toStringTag,{value:"Module"})),Je=(e,t)=>{const a=Math.round(t/15);return`UTC${a>=0?"+":""}${a}`};function Qe({date:e,onDateChange:t,showGrid:o,onShowGridChange:i,showConstellations:s,onShowConstellationsChange:l,showLabels:c,onShowLabelsChange:u,showConstellationLabels:h,onShowConstellationLabelsChange:d,showGlow:m,onShowGlowChange:f,gridOpacity:g,onGridOpacityChange:x,skyDarkness:y,onSkyDarknessChange:b,zoomLevel:Y,onZoomLevelChange:X,location:q,onLocationChange:Z,onExportSVG:J,firstPersonMode:Q,onFirstPersonModeChange:ee,showNakshatraPanel:te,onShowNakshatraPanelChange:ae,showSunMoonPanel:ne,onShowSunMoonPanelChange:re,isLive:oe,onLiveModeChange:ie,showAboveHorizon:se,onShowAboveHorizonChange:le,showBelowHorizon:ce,onShowBelowHorizonChange:ue,showNakshatraRings:he,onShowNakshatraRingsChange:de,showHorizonLine:me,onShowHorizonLineChange:pe,showEquatorLine:fe,onShowEquatorLineChange:ge,showEclipticLine:xe,onShowEclipticLineChange:ye,timeSpeed:be,onTimeSpeedChange:ve}){const[we,je]=a.useState(!0),[Ae,Me]=a.useState(q.latitude.toString()),[Se,Te]=a.useState(q.longitude.toString()),[Ce,Ne]=a.useState(!1),[ke,Pe]=a.useState(1),[Fe,Le]=a.useState("s"),[Ee,Be]=a.useState({dateTime:!0,location:!0,view:!1,display:!1,horizon:!1,export:!0}),ze=e=>{Be(t=>({...t,[e]:!t[e]}))},Oe=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}T${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`,[Re,De]=a.useState(Oe(e)),Ie=(e,t)=>{Pe(e),Le(t);const a=e*{s:1,m:60,h:3600,d:86400,y:31536e3}[t];ve(a),1===a||oe||ie(!0)};r.useEffect(()=>{Me(q.latitude.toString()),Te(q.longitude.toString())},[q.latitude,q.longitude]),r.useEffect(()=>{De(Oe(e))},[e]);return n.jsxs(n.Fragment,{children:[!we&&n.jsx(p,{variant:"outline",size:"icon",className:"fixed left-4 top-4 z-[9999] bg-card border-border shadow-lg",onClick:()=>je(!0),children:n.jsx(v,{className:"h-4 w-4"})}),n.jsx("div",{className:"fixed left-0 top-0 h-full z-[9998] transition-transform duration-300 "+(we?"translate-x-0":"-translate-x-full"),children:n.jsxs("div",{className:"h-full w-80 bg-card border-r border-border shadow-2xl flex flex-col",children:[n.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[n.jsxs("h2",{className:"font-orbitron text-lg font-semibold text-foreground flex items-center gap-2",children:[n.jsx(v,{className:"h-5 w-5 text-primary"}),"Sky Map Settings"]}),n.jsx(p,{variant:"ghost",size:"icon",onClick:()=>je(!1),children:n.jsx(w,{className:"h-4 w-4"})})]}),n.jsx(j,{className:"flex-1",children:n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs(A,{open:Ee.dateTime,onOpenChange:()=>ze("dateTime"),children:[n.jsx(M,{asChild:!0,children:n.jsxs("button",{className:"w-full flex items-center justify-between text-sm font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(S,{className:"h-4 w-4"}),"Date & Time"]}),n.jsx(T,{className:"h-4 w-4 transition-transform "+(Ee.dateTime?"rotate-180":"")})]})}),n.jsxs(C,{className:"pt-3 space-y-2",children:[n.jsx(N,{type:"datetime-local",value:Re,onChange:e=>{const a=e.target.value;De(a);const n=new Date(a);isNaN(n.getTime())||t(n)},className:"w-full cursor-pointer [&::-webkit-calendar-picker-indicator]:cursor-pointer [&::-webkit-calendar-picker-indicator]:absolute [&::-webkit-calendar-picker-indicator]:inset-0 [&::-webkit-calendar-picker-indicator]:w-full [&::-webkit-calendar-picker-indicator]:h-full [&::-webkit-calendar-picker-indicator]:opacity-0"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs(p,{variant:"secondary",size:"sm",className:"gap-2",onClick:()=>{ie(!1),t(new Date)},children:[n.jsx(k,{className:"h-4 w-4"}),"Reset"]}),n.jsxs(p,{variant:oe?"default":"secondary",size:"sm",className:"gap-2 "+(oe?"bg-green-600 hover:bg-green-700":""),onClick:()=>ie(!oe),children:[n.jsx(P,{className:"h-4 w-4 "+(oe?"animate-pulse":"")}),"Live"]})]}),n.jsxs("div",{className:"space-y-2 pt-2 border-t border-border/50",children:[n.jsx(F,{className:"text-xs text-muted-foreground",children:"Time Simulator"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(N,{type:"number",value:ke,onChange:e=>{const t=Math.max(.1,parseFloat(e.target.value)||1);Ie(t,Fe)},className:"flex-1 h-9 text-sm",min:"0.1",step:"0.1"}),n.jsxs(L,{value:Fe,onValueChange:e=>{Ie(ke,e)},children:[n.jsx(E,{className:"w-[80px] h-9",children:n.jsx(B,{})}),n.jsxs(z,{className:"z-[10000]",children:[n.jsx(O,{value:"s",children:"sec"}),n.jsx(O,{value:"m",children:"min"}),n.jsx(O,{value:"h",children:"hour"}),n.jsx(O,{value:"d",children:"day"}),n.jsx(O,{value:"y",children:"year"})]})]})]}),n.jsxs("div",{className:"text-[10px] text-muted-foreground text-center",children:[ke," ","s"===Fe?"second":"m"===Fe?"minute":"h"===Fe?"hour":"d"===Fe?"day":"year",1!==ke?"s":""," per real second"]})]})]})]}),n.jsx(R,{}),n.jsxs(A,{open:Ee.location,onOpenChange:()=>ze("location"),children:[n.jsx(M,{asChild:!0,children:n.jsxs("button",{className:"w-full flex items-center justify-between text-sm font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(D,{className:"h-4 w-4"}),"Observer Location"]}),n.jsx(T,{className:"h-4 w-4 transition-transform "+(Ee.location?"rotate-180":"")})]})}),n.jsxs(C,{className:"pt-3 space-y-3",children:[n.jsxs("div",{className:"bg-muted/50 rounded-md p-2 text-xs space-y-1",children:[n.jsx("p",{className:"text-foreground font-medium",children:q.name}),n.jsxs("p",{className:"text-muted-foreground",children:[q.latitude.toFixed(4),"°, ",q.longitude.toFixed(4),"°"]}),n.jsxs("div",{className:"pt-1 border-t border-border/50 space-y-0.5",children:[n.jsxs("p",{className:"text-muted-foreground flex items-center gap-1",children:[n.jsx("span",{className:"text-[10px] opacity-70",children:"System TZ:"}),n.jsx("span",{className:"font-mono text-[10px]",children:Intl.DateTimeFormat().resolvedOptions().timeZone})]}),n.jsxs("p",{className:"text-muted-foreground flex items-center gap-1",children:[n.jsx("span",{className:"text-[10px] opacity-70",children:"Location TZ:"}),n.jsx("span",{className:"font-mono text-[10px]",children:Je(q.latitude,q.longitude)})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(F,{className:"text-xs text-muted-foreground",children:"Custom Coordinates"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(N,{type:"number",placeholder:"Lat",value:Ae,onChange:e=>Me(e.target.value),className:"text-xs h-8",min:-90,max:90}),n.jsx(N,{type:"number",placeholder:"Lng",value:Se,onChange:e=>Te(e.target.value),className:"text-xs h-8",min:-180,max:180}),n.jsx(p,{size:"sm",className:"h-8 px-3",onClick:()=>{const e=parseFloat(Ae),t=parseFloat(Se);!isNaN(e)&&!isNaN(t)&&e>=-90&&e<=90&&t>=-180&&t<=180&&Z({latitude:e,longitude:t,name:"Custom Location"})},children:"Set"})]}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsx(p,{size:"sm",className:"h-8 px-3",onClick:()=>Ne(!0),children:"Pick on Map"}),n.jsx(p,{size:"sm",className:"h-8 px-3",onClick:()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{const t=e.coords.latitude,a=e.coords.longitude;Z({latitude:t,longitude:a,name:"Current Location"})},e=>{}):alert("Geolocation not available in this browser.")},children:"Use My Location"})]})]})]})]}),n.jsx(qe,{open:Ce,initial:{lat:q.latitude,lng:q.longitude},onSelect:(e,t,a)=>Z({latitude:e,longitude:t,name:a}),onClose:()=>Ne(!1)}),n.jsx(R,{}),n.jsxs(A,{open:Ee.display,onOpenChange:()=>ze("display"),children:[n.jsx(M,{asChild:!0,children:n.jsxs("button",{className:"w-full flex items-center justify-between text-sm font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(I,{className:"h-4 w-4"}),"Display Options"]}),n.jsx(T,{className:"h-4 w-4 transition-transform "+(Ee.display?"rotate-180":"")})]})}),n.jsx(C,{className:"pt-3",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(F,{htmlFor:"grid",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx(H,{className:"h-4 w-4"}),"Show Grid"]}),n.jsx(G,{id:"grid",checked:o,onCheckedChange:i})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(F,{htmlFor:"constellations",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx(_,{className:"h-4 w-4"}),"Constellations"]}),n.jsx(G,{id:"constellations",checked:s,onCheckedChange:l})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(F,{htmlFor:"labels",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx(U,{className:"h-4 w-4"}),"Star Labels"]}),n.jsx(G,{id:"labels",checked:c,onCheckedChange:u})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(F,{htmlFor:"constellation-labels",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx(_,{className:"h-4 w-4 text-blue-400"}),"Constellation Labels"]}),n.jsx(G,{id:"constellation-labels",checked:h,onCheckedChange:d})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(F,{htmlFor:"glow",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx(K,{className:"h-4 w-4"}),"Star/Planet Glow"]}),n.jsx(G,{id:"glow",checked:m,onCheckedChange:f})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(F,{htmlFor:"firstPerson",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx(V,{className:"h-4 w-4"}),"First-Person View"]}),n.jsx(G,{id:"firstPerson",checked:Q,onCheckedChange:ee})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(F,{htmlFor:"nakshatraPanel",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-amber-400",children:"★"}),"Nakshatra Panel"]}),n.jsx(G,{id:"nakshatraPanel",checked:te,onCheckedChange:ae})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(F,{htmlFor:"sunMoonPanel",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-yellow-400",children:"☼"}),"Sun & Moon Panel"]}),n.jsx(G,{id:"sunMoonPanel",checked:ne,onCheckedChange:re})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(F,{htmlFor:"showAboveHorizon",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{children:"↑"}),"Above Horizon"]}),n.jsx(G,{id:"showAboveHorizon",checked:se,onCheckedChange:le})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(F,{htmlFor:"showBelowHorizon",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{children:"↓"}),"Below Horizon"]}),n.jsx(G,{id:"showBelowHorizon",checked:ce,onCheckedChange:ue})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(F,{htmlFor:"nakshatraRings",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-amber-400",children:"⭘"}),"Nakshatra Rings"]}),n.jsx(G,{id:"nakshatraRings",checked:he,onCheckedChange:de})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(F,{htmlFor:"horizonLine",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-green-400",children:"—"}),"Horizon Line"]}),n.jsx(G,{id:"horizonLine",checked:me,onCheckedChange:pe})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(F,{htmlFor:"equatorLine",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-blue-400",children:"—"}),"Equator Line"]}),n.jsx(G,{id:"equatorLine",checked:fe,onCheckedChange:ge})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(F,{htmlFor:"eclipticLine",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-yellow-400",children:"—"}),"Ecliptic Line"]}),n.jsx(G,{id:"eclipticLine",checked:xe,onCheckedChange:ye})]})]})})]}),n.jsx(R,{}),n.jsxs(A,{open:Ee.view,onOpenChange:()=>ze("view"),children:[n.jsx(M,{asChild:!0,children:n.jsxs("button",{className:"w-full flex items-center justify-between text-sm font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(P,{className:"h-4 w-4"}),"Visual Adjustments"]}),n.jsx(T,{className:"h-4 w-4 transition-transform "+(Ee.view?"rotate-180":"")})]})}),n.jsxs(C,{className:"pt-3 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(F,{className:"text-sm",children:"Grid Visibility"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.round(100*g),"%"]})]}),n.jsx(W,{value:[g],onValueChange:([e])=>x(e),min:.1,max:1,step:.05})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(F,{className:"text-sm",children:"Sky Darkness"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.round(100*y),"%"]})]}),n.jsx(W,{value:[y],onValueChange:([e])=>b(e),min:0,max:1,step:.05})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(F,{className:"text-sm",children:"Zoom Level"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:Y.toFixed(0)})]}),n.jsx(W,{value:[Y],onValueChange:([e])=>X(e),min:10,max:300,step:5}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Zoom out to view the entire celestial sphere"})]})]})]}),n.jsx(R,{}),n.jsxs(p,{onClick:J,className:"w-full gap-2",children:[n.jsx($,{className:"h-4 w-4"}),"EXPORT (BETA)"]}),n.jsx(R,{}),n.jsxs("section",{className:"space-y-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"CONTROLS"}),n.jsxs("div",{className:"text-xs text-muted-foreground space-y-2 bg-muted/30 rounded-md p-3",children:[n.jsxs("p",{children:["• ",n.jsx("strong",{children:"Drag"})," to rotate view"]}),n.jsxs("p",{children:["• ",n.jsx("strong",{children:"Scroll"})," to zoom in/out"]}),n.jsxs("p",{children:["• ",n.jsx("strong",{children:"Zoom slider"})," to zoom out completely"]}),n.jsxs("p",{children:["• ",n.jsx("strong",{children:"Hover"})," over objects for details"]})]})]})]})}),n.jsxs("div",{className:"p-4 border-t border-border bg-muted/30",children:[n.jsx("h4",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"LEGEND"}),n.jsxs("div",{className:"flex flex-col gap-1.5 text-xs",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-1 bg-[#4a90d9] rounded-full"}),n.jsx("span",{className:"text-muted-foreground",children:"Celestial Equator"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-0.5 bg-[#d9a54a]"}),n.jsx("span",{className:"text-muted-foreground",children:"Ecliptic"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-0.5 border-t border-dashed border-[#4a6fa5]"}),n.jsx("span",{className:"text-muted-foreground",children:"Constellation Lines"})]})]})]})]})})]})}const et=({message:e="Loading..."})=>n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] space-y-4",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),e&&n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:e})]}),tt=a.lazy(()=>ve(()=>import("./NakshatraPanel-CMobUIwF.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url).then(e=>({default:e.NakshatraPanel}))),at=a.lazy(()=>ve(()=>import("./ExportDialog-L86zP5RA.js"),__vite__mapDeps([8,1,2,3,4]),import.meta.url).then(e=>({default:e.ExportDialog})));function nt(e,t){return function(r){return n.jsx(a.Suspense,{fallback:n.jsx(et,{message:t}),children:n.jsx(e,{...r})})}}a.lazy(()=>ve(()=>Promise.resolve().then(()=>Ze),void 0,import.meta.url));const rt=nt(tt,"Loading Nakshatra panel..."),ot=nt(at,"Preparing export...");var it={};(function(){var e;function t(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var a="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,a){return e==Array.prototype||e==Object.prototype||(e[t]=a.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof be&&be];for(var t=0;t<e.length;++t){var a=e[t];if(a&&a.Math==Math)return a}throw Error("Cannot find global object")}(this);function r(e,t){if(t)e:{var r=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var i=e[o];if(!(i in r))break e;r=r[i]}(t=t(o=r[e=e[e.length-1]]))!=o&&null!=t&&a(r,e,{configurable:!0,writable:!0,value:t})}}function o(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function i(e){var a="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return a?a.call(e):{next:t(e)}}function s(e){if(!(e instanceof Array)){e=i(e);for(var t,a=[];!(t=e.next()).done;)a.push(t.value);e=a}return e}r("Symbol",function(e){function t(e,t){this.h=e,a(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.h};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return function e(a){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(a||"")+"_"+r++,a)}}),r("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var r="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),i=0;i<r.length;i++){var s=n[r[i]];"function"==typeof s&&"function"!=typeof s.prototype[e]&&a(s.prototype,e,{configurable:!0,writable:!0,value:function(){return o(t(this))}})}return e});var l="function"==typeof Object.assign?Object.assign:function(e,t){for(var a=1;a<arguments.length;a++){var n=arguments[a];if(n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};r("Object.assign",function(e){return e||l});var c,u="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)c=Object.setPrototypeOf;else{var h;e:{var d={};try{d.__proto__={a:!0},h=d.a;break e}catch(ba){}h=!1}c=h?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var m=c;function p(e,t){if(e.prototype=u(t.prototype),e.prototype.constructor=e,m)m(e,t);else for(var a in t)if("prototype"!=a)if(Object.defineProperties){var n=Object.getOwnPropertyDescriptor(t,a);n&&Object.defineProperty(e,a,n)}else e[a]=t[a];e.ya=t.prototype}function f(){this.m=!1,this.j=null,this.i=void 0,this.h=1,this.v=this.s=0,this.l=null}function g(e){if(e.m)throw new TypeError("Generator is already running");e.m=!0}function x(e,t){e.l={ma:t,na:!0},e.h=e.s||e.v}function y(e,t,a){return e.h=a,{value:t}}function b(e){this.h=new f,this.i=e}function v(e,t,a,n){try{var r=t.call(e.h.j,a);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return e.h.m=!1,r;var o=r.value}catch(i){return e.h.j=null,x(e.h,i),w(e)}return e.h.j=null,n.call(e.h,o),w(e)}function w(e){for(;e.h.h;)try{var t=e.i(e.h);if(t)return e.h.m=!1,{value:t.value,done:!1}}catch(a){e.h.i=void 0,x(e.h,a)}if(e.h.m=!1,e.h.l){if(t=e.h.l,e.h.l=null,t.na)throw t.ma;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function j(e){this.next=function(t){return g(e.h),e.h.j?t=v(e,e.h.j.next,t,e.h.u):(e.h.u(t),t=w(e)),t},this.throw=function(t){return g(e.h),e.h.j?t=v(e,e.h.j.throw,t,e.h.u):(x(e.h,t),t=w(e)),t},this.return=function(t){return function(e,t){g(e.h);var a=e.h.j;return a?v(e,"return"in a?a.return:function(e){return{value:e,done:!0}},t,e.h.return):(e.h.return(t),w(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function A(e){return function(e){function t(t){return e.next(t)}function a(t){return e.throw(t)}return new Promise(function(n,r){!function e(o){o.done?n(o.value):Promise.resolve(o.value).then(t,a).then(e,r)}(e.next())})}(new j(new b(e)))}function M(e){return e||Array.prototype.fill}f.prototype.u=function(e){this.i=e},f.prototype.return=function(e){this.l={return:e},this.h=this.v},r("Promise",function(e){function t(e){this.i=0,this.j=void 0,this.h=[],this.u=!1;var t=this.l();try{e(t.resolve,t.reject)}catch(a){t.reject(a)}}function a(){this.h=null}function r(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;a.prototype.i=function(e){if(null==this.h){this.h=[];var t=this;this.j(function(){t.m()})}this.h.push(e)};var o=n.setTimeout;a.prototype.j=function(e){o(e,0)},a.prototype.m=function(){for(;this.h&&this.h.length;){var e=this.h;this.h=[];for(var t=0;t<e.length;++t){var a=e[t];e[t]=null;try{a()}catch(n){this.l(n)}}}this.h=null},a.prototype.l=function(e){this.j(function(){throw e})},t.prototype.l=function(){function e(e){return function(n){a||(a=!0,e.call(t,n))}}var t=this,a=!1;return{resolve:e(this.I),reject:e(this.m)}},t.prototype.I=function(e){if(e===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.L(e);else{e:switch(typeof e){case"object":var a=null!=e;break e;case"function":a=!0;break e;default:a=!1}a?this.F(e):this.s(e)}},t.prototype.F=function(e){var t=void 0;try{t=e.then}catch(a){return void this.m(a)}"function"==typeof t?this.M(t,e):this.s(e)},t.prototype.m=function(e){this.v(2,e)},t.prototype.s=function(e){this.v(1,e)},t.prototype.v=function(e,t){if(0!=this.i)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.i);this.i=e,this.j=t,2===this.i&&this.K(),this.H()},t.prototype.K=function(){var e=this;o(function(){if(e.D()){var t=n.console;void 0!==t&&t.error(e.j)}},1)},t.prototype.D=function(){if(this.u)return!1;var e=n.CustomEvent,t=n.Event,a=n.dispatchEvent;return void 0===a||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=n.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.j,a(e))},t.prototype.H=function(){if(null!=this.h){for(var e=0;e<this.h.length;++e)s.i(this.h[e]);this.h=null}};var s=new a;return t.prototype.L=function(e){var t=this.l();e.T(t.resolve,t.reject)},t.prototype.M=function(e,t){var a=this.l();try{e.call(t,a.resolve,a.reject)}catch(n){a.reject(n)}},t.prototype.then=function(e,a){function n(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(a){o(a)}}:t}var r,o,i=new t(function(e,t){r=e,o=t});return this.T(n(e,r),n(a,o)),i},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.T=function(e,t){function a(){switch(n.i){case 1:e(n.j);break;case 2:t(n.j);break;default:throw Error("Unexpected state: "+n.i)}}var n=this;null==this.h?s.i(a):this.h.push(a),this.u=!0},t.resolve=r,t.reject=function(e){return new t(function(t,a){a(e)})},t.race=function(e){return new t(function(t,a){for(var n=i(e),o=n.next();!o.done;o=n.next())r(o.value).T(t,a)})},t.all=function(e){var a=i(e),n=a.next();return n.done?r([]):new t(function(e,t){function o(t){return function(a){i[t]=a,0==--s&&e(i)}}var i=[],s=0;do{i.push(void 0),s++,r(n.value).T(o(i.length-1),t),n=a.next()}while(!n.done)})},t}),r("Array.prototype.keys",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var a=0,n=!1,r={next:function(){if(!n&&a<e.length){var r=a++;return{value:t(r,e[r]),done:!1}}return n=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,function(e){return e})}}),r("Array.prototype.fill",function(e){return e||function(e,t,a){var n=this.length||0;for(0>t&&(t=Math.max(0,n+t)),(null==a||a>n)&&(a=n),0>(a=Number(a))&&(a=Math.max(0,n+a)),t=Number(t||0);t<a;t++)this[t]=e;return this}}),r("Int8Array.prototype.fill",M),r("Uint8Array.prototype.fill",M),r("Uint8ClampedArray.prototype.fill",M),r("Int16Array.prototype.fill",M),r("Uint16Array.prototype.fill",M),r("Int32Array.prototype.fill",M),r("Uint32Array.prototype.fill",M),r("Float32Array.prototype.fill",M),r("Float64Array.prototype.fill",M),r("Object.is",function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}}),r("Array.prototype.includes",function(e){return e||function(e,t){var a=this;a instanceof String&&(a=String(a));var n=a.length;for(0>(t=t||0)&&(t=Math.max(t+n,0));t<n;t++){var r=a[t];if(r===e||Object.is(r,e))return!0}return!1}}),r("String.prototype.includes",function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}});var S=this||self;function T(e,t){e=e.split(".");var a,n=S;e[0]in n||void 0===n.execScript||n.execScript("var "+e[0]);for(;e.length&&(a=e.shift());)e.length||void 0===t?n=n[a]&&n[a]!==Object.prototype[a]?n[a]:n[a]={}:n[a]=t}function C(e){var t;return(t=S.navigator)&&(t=t.userAgent)||(t=""),-1!=t.indexOf(e)}var N=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var a=e.length,n=Array(a),r="string"==typeof e?e.split(""):e,o=0;o<a;o++)o in r&&(n[o]=t.call(void 0,r[o],o,e));return n},k={},P=null;function F(e){var t=e.length,a=3*t/4;a%3?a=Math.floor(a):-1!="=.".indexOf(e[t-1])&&(a=-1!="=.".indexOf(e[t-2])?a-2:a-1);var n=new Uint8Array(a),r=0;return function(e,t){function a(t){for(;n<e.length;){var a=e.charAt(n++),r=P[a];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(a))throw Error("Unknown base64 encoding at char: "+a)}return t}L();for(var n=0;;){var r=a(-1),o=a(0),i=a(64),s=a(64);if(64===s&&-1===r)break;t(r<<2|o>>4),64!=i&&(t(o<<4&240|i>>2),64!=s&&t(i<<6&192|s))}}(e,function(e){n[r++]=e}),r!==a?n.subarray(0,r):n}function L(){if(!P){P={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],a=0;5>a;a++){var n=e.concat(t[a].split(""));k[a]=n;for(var r=0;r<n.length;r++){var o=n[r];void 0===P[o]&&(P[o]=r)}}}}var E="undefined"!=typeof Uint8Array,B=!(C("Trident")||C("MSIE"))&&"function"==typeof S.btoa;function z(e){if(!B){var t;void 0===t&&(t=0),L(),t=k[t];for(var a=Array(Math.floor(e.length/3)),n=t[64]||"",r=0,o=0;r<e.length-2;r+=3){var i=e[r],s=e[r+1],l=e[r+2],c=t[i>>2];i=t[(3&i)<<4|s>>4],s=t[(15&s)<<2|l>>6],l=t[63&l],a[o++]=c+i+s+l}switch(c=0,l=n,e.length-r){case 2:l=t[(15&(c=e[r+1]))<<2]||n;case 1:e=e[r],a[o]=t[e>>2]+t[(3&e)<<4|c>>4]+l+n}return a.join("")}for(t="";10240<e.length;)t+=String.fromCharCode.apply(null,e.subarray(0,10240)),e=e.subarray(10240);return t+=String.fromCharCode.apply(null,e),btoa(t)}var O,R=RegExp("[-_.]","g");function D(e){switch(e){case"-":return"+";case"_":return"/";case".":return"=";default:return""}}function I(e){if(!B)return F(e);R.test(e)&&(e=e.replace(R,D)),e=atob(e);for(var t=new Uint8Array(e.length),a=0;a<e.length;a++)t[a]=e.charCodeAt(a);return t}function H(){return O||(O=new Uint8Array(0))}var G={},_="function"==typeof Uint8Array.prototype.slice,U=0,K=0;function V(e){var t=0>e,a=(e=Math.abs(e))>>>0;e=Math.floor((e-a)/4294967296),t&&(t=(a=i(Y(a,e))).next().value,e=a.next().value,a=t),U=a>>>0,K=e>>>0}var W,$="function"==typeof BigInt;function Y(e,t){return t=~t,e?e=1+~e:t+=1,[e,t]}function X(e,t){this.i=e>>>0,this.h=t>>>0}function q(e){if(!e)return W||(W=new X(0,0));if(!/^-?\d+$/.test(e))return null;if(16>e.length)V(Number(e));else if($)e=BigInt(e),U=Number(e&BigInt(4294967295))>>>0,K=Number(e>>BigInt(32)&BigInt(4294967295));else{var t=+("-"===e[0]);K=U=0;for(var a=e.length,n=t,r=(a-t)%6+t;r<=a;n=r,r+=6)n=Number(e.slice(n,r)),K*=1e6,4294967296<=(U=1e6*U+n)&&(K+=U/4294967296|0,U%=4294967296);t&&(e=(t=i(Y(U,K))).next().value,t=t.next().value,U=e,K=t)}return new X(U,K)}function Z(e,t){return Error("Invalid wire type: "+e+" (at position "+t+")")}function J(){return Error("Failed to read varint, encoding is invalid.")}function Q(e,t){return Error("Tried to read past the end of the data "+t+" > "+e)}function ee(){throw Error("Invalid UTF8")}function te(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var ae,ne,re,oe=void 0,ie="undefined"!=typeof TextDecoder,se="undefined"!=typeof TextEncoder;function le(e){if(e!==G)throw Error("illegal external caller")}function ce(e,t){if(le(t),this.V=e,null!=e&&0===e.length)throw Error("ByteString should be constructed with non-empty values")}function ue(){return re||(re=new ce(null,G))}function he(e){le(G);var t=e.V;return null==(t=null==t||E&&null!=t&&t instanceof Uint8Array?t:"string"==typeof t?I(t):null)?t:e.V=t}function de(e,t){this.i=null,this.m=!1,this.h=this.j=this.l=0,me(this,e,t)}function me(e,t,a){a=void 0===a?{}:a,e.S=void 0!==a.S&&a.S,t&&(t=function(e){if("string"==typeof e)return{buffer:I(e),C:!1};if(Array.isArray(e))return{buffer:new Uint8Array(e),C:!1};if(e.constructor===Uint8Array)return{buffer:e,C:!1};if(e.constructor===ArrayBuffer)return{buffer:new Uint8Array(e),C:!1};if(e.constructor===ce)return{buffer:he(e)||H(),C:!0};if(e instanceof Uint8Array)return{buffer:new Uint8Array(e.buffer,e.byteOffset,e.byteLength),C:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}(t),e.i=t.buffer,e.m=t.C,e.l=0,e.j=e.i.length,e.h=e.l)}function pe(e,t){if(e.h=t,t>e.j)throw Q(e.j,t)}function fe(e){var t=e.i,a=e.h,n=t[a++],r=127&n;if(128&n&&(r|=(127&(n=t[a++]))<<7,128&n&&(r|=(127&(n=t[a++]))<<14,128&n&&(r|=(127&(n=t[a++]))<<21,128&n&&(r|=(n=t[a++])<<28,128&n&&128&t[a++]&&128&t[a++]&&128&t[a++]&&128&t[a++]&&128&t[a++])))))throw J();return pe(e,a),r}function ge(e,t){if(0>t)throw Error("Tried to read a negative byte length: "+t);var a=e.h,n=a+t;if(n>e.j)throw Q(t,e.j-a);return e.h=n,a}de.prototype.reset=function(){this.h=this.l};var xe=[];function ye(){this.h=[]}function ve(e,t,a){for(;0<a||127<t;)e.h.push(127&t|128),t=(t>>>7|a<<25)>>>0,a>>>=7;e.h.push(t)}function we(e,t){for(;127<t;)e.h.push(127&t|128),t>>>=7;e.h.push(t)}function je(e,t){if(xe.length){var a=xe.pop();me(a,e,t),e=a}else e=new de(e,t);this.h=e,this.j=this.h.h,this.i=this.l=-1,this.setOptions(t)}function Ae(e){var t=e.h;if(t.h==t.j)return!1;e.j=e.h.h;var a=fe(e.h)>>>0;if(t=a>>>3,!(0<=(a&=7)&&5>=a))throw Z(a,e.j);if(1>t)throw Error("Invalid field number: "+t+" (at position "+e.j+")");return e.l=t,e.i=a,!0}function Me(e){switch(e.i){case 0:if(0!=e.i)Me(e);else e:{for(var t=(e=e.h).h,a=t+10,n=e.i;t<a;)if(!(128&n[t++])){pe(e,t);break e}throw J()}break;case 1:pe(e=e.h,e.h+8);break;case 2:2!=e.i?Me(e):(t=fe(e.h)>>>0,pe(e=e.h,e.h+t));break;case 5:pe(e=e.h,e.h+4);break;case 3:for(t=e.l;;){if(!Ae(e))throw Error("Unmatched start-group tag: stream EOF");if(4==e.i){if(e.l!=t)throw Error("Unmatched end-group tag");break}Me(e)}break;default:throw Z(e.i,e.j)}}ye.prototype.length=function(){return this.h.length},ye.prototype.end=function(){var e=this.h;return this.h=[],e},je.prototype.setOptions=function(e){e=void 0===e?{}:e,this.ca=void 0!==e.ca&&e.ca},je.prototype.reset=function(){this.h.reset(),this.j=this.h.h,this.i=this.l=-1};var Se=[];function Te(){this.j=[],this.i=0,this.h=new ye}function Ce(e,t){0!==t.length&&(e.j.push(t),e.i+=t.length)}var Ne="function"==typeof Symbol&&"symbol"==typeof Symbol()?Symbol():void 0;function ke(e,t){return Ne?e[Ne]|=t:void 0!==e.A?e.A|=t:(Object.defineProperties(e,{A:{value:t,configurable:!0,writable:!0,enumerable:!1}}),t)}function Pe(e,t){Ne?e[Ne]&&(e[Ne]&=~t):void 0!==e.A&&(e.A&=~t)}function Fe(e){var t;return null==(t=Ne?e[Ne]:e.A)?0:t}function Le(e,t){Ne?e[Ne]=t:void 0!==e.A?e.A=t:Object.defineProperties(e,{A:{value:t,configurable:!0,writable:!0,enumerable:!1}})}function Ee(e){return ke(e,1),e}function Be(e,t){Le(t,-51&e)}function ze(e,t){Le(t,-41&e|18)}var Oe={};function Re(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)&&e.constructor===Object}var De,Ie,He=[];function Ge(e){if(2&Fe(e.o))throw Error("Cannot mutate an immutable Message")}function _e(e){var t=e.length;(t=t?e[t-1]:void 0)&&Re(t)?t.g=1:(t={},e.push((t.g=1,t)))}function Ue(e){var t=e.i+e.G;return e.B||(e.B=e.o[t]={})}function Ke(e,t){return-1===t?null:t>=e.i?e.B?e.B[t]:void 0:e.o[t+e.G]}function Ve(e,t,a,n){Ge(e),We(e,t,a,n)}function We(e,t,a,n){e.j&&(e.j=void 0),t>=e.i||n?Ue(e)[t]=a:(e.o[t+e.G]=a,(e=e.B)&&t in e&&delete e[t])}function $e(e,t,a,n){var r=Ke(e,t);Array.isArray(r)||(r=De);var o=Fe(r);if(1&o||Ee(r),n)2&o||ke(r,2),1&a||Object.freeze(r);else{n=!(2&a);var i=2&o;1&a||!i?n&&16&o&&!i&&Pe(r,16):We(e,t,r=Ee(Array.prototype.slice.call(r)))}return r}function Ye(e,t){var a=Ke(e,t),n=null==a?a:"number"==typeof a||"NaN"===a||"Infinity"===a||"-Infinity"===a?Number(a):void 0;return null!=n&&n!==a&&We(e,t,n),n}function Xe(e,t,a,n,r){e.h||(e.h={});var o=e.h[a],i=$e(e,a,3,r);if(!o){var s=i;o=[];var l=!!(16&Fe(e.o));i=!!(2&Fe(s));var c=s;!r&&i&&(s=Array.prototype.slice.call(s));for(var u=i,h=0;h<s.length;h++){var d=s[h],m=t,p=!1;if(p=void 0!==p&&p,void 0!==(d=Array.isArray(d)?new m(d):p?new m:void 0)){var f=p=Fe(m=d.o);i&&(f|=2),l&&(f|=16),f!=p&&Le(m,f),m=f,u=u||!!(2&m),o.push(d)}}return e.h[a]=o,t=33|(l=Fe(s)),l!=(t=u?-9&t:8|t)&&(u=s,Object.isFrozen(u)&&(u=Array.prototype.slice.call(u)),Le(u,t),s=u),c!==s&&We(e,a,s),(r||n&&i)&&ke(o,2),n&&Object.freeze(o),o}return r||(r=Object.isFrozen(o),n&&!r?Object.freeze(o):!n&&r&&(o=Array.prototype.slice.call(o),e.h[a]=o)),o}function qe(e,t,a){var n=!!(2&Fe(e.o));if(t=Xe(e,t,a,n,n),e=$e(e,a,3,n),!(n||8&Fe(e))){for(n=0;n<t.length;n++){if(2&Fe((a=t[n]).o)){var r=lt(a,!1);r.j=a}else r=a;a!==r&&(t[n]=r,e[n]=r.o)}ke(e,8)}return t}function Ze(e,t,a){if(null!=a&&"number"!=typeof a)throw Error("Value of float/double field must be a number|null|undefined, found "+typeof a+": "+a);Ve(e,t,a)}function Je(e,t,a,n,r){Ge(e);var o=Xe(e,a,t,!1,!1);return a=null!=n?n:new a,e=$e(e,t,2,!1),null!=r?(o.splice(r,0,a),e.splice(r,0,a.o)):(o.push(a),e.push(a.o)),a.C()&&Pe(e,8),a}function Qe(e,t){return null==e?t:e}function et(e,t,a){return a=void 0===a?0:a,Qe(Ye(e,t),a)}function tt(e,t,a,n){if(null!=e){if(Array.isArray(e))e=at(e,t,a,void 0!==n);else if(Re(e)){var r,o={};for(r in e)o[r]=tt(e[r],t,a,n);e=o}else e=t(e,n);return e}}function at(e,t,a,n){var r=Fe(e);n=n?!!(16&r):void 0,e=Array.prototype.slice.call(e);for(var o=0;o<e.length;o++)e[o]=tt(e[o],t,a,n);return a(r,e),e}function nt(e){return e.ja===Oe?e.toJSON():function(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"object":if(e)if(Array.isArray(e)){if(128&Fe(e))return _e(e=Array.prototype.slice.call(e)),e}else{if(E&&null!=e&&e instanceof Uint8Array)return z(e);if(e instanceof ce){var t=e.V;return null==t?"":"string"==typeof t?t:e.V=z(t)}}}return e}(e)}function rt(e,t){128&e&&_e(t)}function ot(e,t,a){if(a=void 0===a?ze:a,null!=e){if(E&&e instanceof Uint8Array)return e.length?new ce(new Uint8Array(e),G):ue();if(Array.isArray(e)){var n=Fe(e);return 2&n?e:!t||32&n||!(16&n||0===n)?(4&(t=Fe(e=at(e,ot,4&n?ze:a,!0)))&&2&t&&Object.freeze(e),e):(Le(e,2|n),e)}return e.ja===Oe?st(e):e}}function it(e,t,a,n,r,o,i){if(e=e.h&&e.h[a]){if(2&(n=Fe(e))?n=e:(ze(n,o=N(e,st)),Object.freeze(o),n=o),Ge(t),i=null==n?De:Ee([]),null!=n){for(o=!!n.length,e=0;e<n.length;e++){var s=n[e];o=o&&!(2&Fe(s.o)),i[e]=s.o}o=1|(o?8:0),((e=Fe(i))&o)!==o&&(Object.isFrozen(i)&&(i=Array.prototype.slice.call(i)),Le(i,e|o)),t.h||(t.h={}),t.h[a]=n}else t.h&&(t.h[a]=void 0);We(t,a,i,r)}else Ve(t,a,ot(n,o,i),r)}function st(e){return 2&Fe(e.o)||ke((e=lt(e,!0)).o,2),e}function lt(e,t){var a=e.o,n=[];ke(n,16);var r=e.constructor.h;if(r&&n.push(r),r=e.B){n.length=a.length,n.fill(void 0,n.length,a.length);var o={};n[n.length-1]=o}128&Fe(a)&&_e(n),t=t||e.C()?ze:Be,o=e.constructor,Ie=n,n=new o(n),Ie=void 0,e.R&&(n.R=e.R.slice()),o=!!(16&Fe(a));for(var i=r?a.length-1:a.length,s=0;s<i;s++)it(e,n,s-e.G,a[s],!1,o,t);if(r)for(var l in r)it(e,n,+l,r[l],!0,o,t);return n}function ct(e,t,a){null==e&&(e=Ie),Ie=void 0;var n,r=this.constructor.i||0,o=0<r,i=this.constructor.h,s=!1;if(null==e){var l=48,c=!0;o&&(r=0,l|=128),Le(e=i?[i]:[],l)}else{if(!Array.isArray(e))throw Error();if(i&&i!==e[0])throw Error();var u=l=ke(e,0);if((c=!!(16&u))&&((s=!!(32&u))||(u|=32)),o){if(128&u)r=0;else if(0<e.length){var h=e[e.length-1];if(Re(h)&&"g"in h){r=0,u|=128,delete h.g;var d,m=!0;for(d in h){m=!1;break}m&&e.pop()}}}else if(128&u)throw Error();l!==u&&Le(e,u)}if(this.G=(i?0:-1)-r,this.h=void 0,this.o=e,r=(i=this.o.length)-1,i&&Re(i=this.o[r])?(this.B=i,this.i=r-this.G):void 0!==t&&-1<t?(this.i=Math.max(t,r+1-this.G),this.B=void 0):this.i=Number.MAX_VALUE,!o&&this.B&&"g"in this.B)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if(a)for(t=c&&!s&&!0,o=this.i,c=0;c<a.length;c++)(s=a[c])<o?(r=e[s+=this.G])?ut(r,t):e[s]=De:(n||(n=Ue(this)),(r=n[s])?ut(r,t):n[s]=De)}function ut(e,t){if(Array.isArray(e)){var a=Fe(e),n=1;!t||2&a||(n|=16),(a&n)!==n&&Le(e,a|n)}}function ht(e,t,a){if(a){var n,r={};for(n in a){var o=a[n],i=o.qa;i||(r.J=o.wa||o.oa.W,o.ia?(r.aa=bt(o.ia),i=function(e){return function(t,a,n){return e.J(t,a,n,e.aa)}}(r)):o.ka?(r.Z=vt(o.da.P,o.ka),i=function(e){return function(t,a,n){return e.J(t,a,n,e.Z)}}(r)):i=r.J,o.qa=i),i(t,e,o.da),r={J:r.J,aa:r.aa,Z:r.Z}}}!function(e,t){if(t=t.R){Ce(e,e.h.end());for(var a=0;a<t.length;a++)Ce(e,he(t[a])||H())}}(t,e)}Le(He,23),De=Object.freeze(He),ct.prototype.toJSON=function(){return at(this.o,nt,rt)},ct.prototype.C=function(){return!!(2&Fe(this.o))},ct.prototype.ja=Oe,ct.prototype.toString=function(){return this.o.toString()};var dt=Symbol();function mt(e,t,a){return e[dt]||(e[dt]=function(e,n){return t(e,n,a)})}function pt(e){var t=e[dt];if(!t){var a=Lt(e);t=function(e,t){return Et(e,t,a)},e[dt]=t}return t}function ft(e){var t=function(e){var t=e.ia;return t?pt(t):(t=e.va)?mt(e.da.P,t,e.ka):void 0}(e),a=e.da,n=e.oa.U;return t?function(e,r){return n(e,r,a,t)}:function(e,t){return n(e,t,a)}}function gt(e,t){var a=e[t];return"function"==typeof a&&0===a.length&&(a=a(),e[t]=a),Array.isArray(a)&&(Ct in a||wt in a||0<a.length&&"function"==typeof a[0])?a:void 0}function xt(e,t,a,n,r,o){t.P=e[0];var i=1;if(e.length>i&&"number"!=typeof e[i]){var s=e[i++];a(t,s)}for(;i<e.length;){a=e[i++];for(var l=i+1;l<e.length&&"number"!=typeof e[l];)l++;switch(s=e[i++],l-=i){case 0:n(t,a,s);break;case 1:(l=gt(e,i))?(i++,r(t,a,s,l)):n(t,a,s,e[i++]);break;case 2:r(t,a,s,l=gt(e,l=i++),e[i++]);break;case 3:o(t,a,s,e[i++],e[i++],e[i++]);break;case 4:o(t,a,s,e[i++],e[i++],e[i++],e[i++]);break;default:throw Error("unexpected number of binary field arguments: "+l)}}return t}var yt=Symbol();function bt(e){var t=e[yt];if(!t){var a=Tt(e);t=function(e,t){return Bt(e,t,a)},e[yt]=t}return t}function vt(e,t){var a=e[yt];return a||(a=function(e,a){return ht(e,a,t)},e[yt]=a),a}var wt=Symbol();function jt(e,t){e.push(t)}function At(e,t,a){e.push(t,a.W)}function Mt(e,t,a,n){var r=bt(n),o=Tt(n).P,i=a.W;e.push(t,function(e,t,a){return i(e,t,a,o,r)})}function St(e,t,a,n,r,o){var i=vt(n,o),s=a.W;e.push(t,function(e,t,a){return s(e,t,a,n,i)})}function Tt(e){var t=e[wt];return t||(t=xt(e,e[wt]=[],jt,At,Mt,St),Ct in e&&wt in e&&(e.length=0),t)}var Ct=Symbol();function Nt(e,t){e[0]=t}function kt(e,t,a,n){var r=a.U;e[t]=n?function(e,t,a){return r(e,t,a,n)}:r}function Pt(e,t,a,n,r){var o=a.U,i=pt(n),s=Lt(n).P;e[t]=function(e,t,a){return o(e,t,a,s,i,r)}}function Ft(e,t,a,n,r,o,i){var s=a.U,l=mt(n,r,o);e[t]=function(e,t,a){return s(e,t,a,n,l,i)}}function Lt(e){var t=e[Ct];return t||(t=xt(e,e[Ct]={},Nt,kt,Pt,Ft),Ct in e&&wt in e&&(e.length=0),t)}function Et(e,t,a){for(;Ae(t)&&4!=t.i;){var n=t.l,r=a[n];if(!r){var o=a[0];o&&(o=o[n])&&(r=a[n]=ft(o))}if(!r||!r(t,e,n)){n=e,o=(r=t).j,Me(r);var i=r;if(!i.ca){if(r=i.h.h-o,i.h.h=o,i=i.h,0==r)r=ue();else{if(o=ge(i,r),i.S&&i.m)r=i.i.subarray(o,o+r);else{i=i.i;var s=o;r=s===(r=o+r)?H():_?i.slice(s,r):new Uint8Array(i.subarray(s,r))}r=0==r.length?ue():new ce(r,G)}(o=n.R)?o.push(r):n.R=[r]}}}return e}function Bt(e,t,a){for(var n=a.length,r=1==n%2,o=r?1:0;o<n;o+=2)(0,a[o+1])(t,e,a[o]);ht(e,t,r?a[0]:void 0)}function zt(e,t){return{U:e,W:t}}var Ot=zt(function(e,t,a){if(5!==e.i)return!1;var n=(e=e.h).i,r=e.h,o=n[r],i=n[r+1],s=n[r+2];return n=n[r+3],pe(e,e.h+4),e=2*((i=(o|i<<8|s<<16|n<<24)>>>0)>>31)+1,o=i>>>23&255,i&=8388607,Ve(t,a,255==o?i?NaN:1/0*e:0==o?e*Math.pow(2,-149)*i:e*Math.pow(2,o-150)*(i+Math.pow(2,23))),!0},function(e,t,a){if(null!=(t=Ye(t,a))){we(e.h,8*a+5),e=e.h;var n=+t;0===n?0<1/n?U=K=0:(K=0,U=2147483648):isNaN(n)?(K=0,U=2147483647):34028234663852886e22<(n=(a=0>n?-2147483648:0)?-n:n)?(K=0,U=(2139095040|a)>>>0):11754943508222875e-54>n?(n=Math.round(n/Math.pow(2,-149)),K=0,U=(a|n)>>>0):(t=Math.floor(Math.log(n)/Math.LN2),n*=Math.pow(2,-t),16777216<=(n=Math.round(8388608*n))&&++t,K=0,U=(a|t+127<<23|8388607&n)>>>0),a=U,e.h.push(a>>>0&255),e.h.push(a>>>8&255),e.h.push(a>>>16&255),e.h.push(a>>>24&255)}}),Rt=zt(function(e,t,a){if(0!==e.i)return!1;var n=e.h,r=0,o=e=0,i=n.i,s=n.h;do{var l=i[s++];r|=(127&l)<<o,o+=7}while(32>o&&128&l);for(32<o&&(e|=(127&l)>>4),o=3;32>o&&128&l;o+=7)e|=(127&(l=i[s++]))<<o;if(pe(n,s),!(128>l))throw J();return n=r>>>0,(e=2147483648&(l=e>>>0))&&(l=~l>>>0,0==(n=1+~n>>>0)&&(l=l+1>>>0)),n=4294967296*l+(n>>>0),Ve(t,a,e?-n:n),!0},function(e,t,a){null!=(t=Ke(t,a))&&("string"==typeof t&&q(t),null!=t&&(we(e.h,8*a),"number"==typeof t?(e=e.h,V(t),ve(e,U,K)):(a=q(t),ve(e.h,a.i,a.h))))}),Dt=zt(function(e,t,a){return 0===e.i&&(Ve(t,a,fe(e.h)),!0)},function(e,t,a){if(null!=(t=Ke(t,a))&&null!=t)if(we(e.h,8*a),e=e.h,0<=(a=t))we(e,a);else{for(t=0;9>t;t++)e.h.push(127&a|128),a>>=7;e.h.push(1)}}),It=zt(function(e,t,a){if(2!==e.i)return!1;var n=fe(e.h)>>>0,r=ge(e=e.h,n);if(e=e.i,ie){var o,i=e;(o=ae)||(o=ae=new TextDecoder("utf-8",{fatal:!0})),e=r+n,i=0===r&&e===i.length?i:i.subarray(r,e);try{var s=o.decode(i)}catch(h){if(void 0===oe){try{o.decode(new Uint8Array([128]))}catch(d){}try{o.decode(new Uint8Array([97])),oe=!0}catch(d){oe=!1}}throw!oe&&(ae=void 0),h}}else{n=(s=r)+n,r=[];for(var l,c,u=null;s<n;)128>(l=e[s++])?r.push(l):224>l?s>=n?ee():(c=e[s++],194>l||128!=(192&c)?(s--,ee()):r.push((31&l)<<6|63&c)):240>l?s>=n-1?ee():128!=(192&(c=e[s++]))||224===l&&160>c||237===l&&160<=c||128!=(192&(i=e[s++]))?(s--,ee()):r.push((15&l)<<12|(63&c)<<6|63&i):244>=l?s>=n-2?ee():128!=(192&(c=e[s++]))||c-144+(l<<28)>>30||128!=(192&(i=e[s++]))||128!=(192&(o=e[s++]))?(s--,ee()):(l=(7&l)<<18|(63&c)<<12|(63&i)<<6|63&o,l-=65536,r.push(55296+(l>>10&1023),56320+(1023&l))):ee(),8192<=r.length&&(u=te(u,r),r.length=0);s=te(u,r)}return Ve(t,a,s),!0},function(e,t,a){if(null!=(t=Ke(t,a))){var n=!1;if(n=void 0!==n&&n,se){if(n&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(t))throw Error("Found an unpaired surrogate");t=(ne||(ne=new TextEncoder)).encode(t)}else{for(var r=0,o=new Uint8Array(3*t.length),i=0;i<t.length;i++){var s=t.charCodeAt(i);if(128>s)o[r++]=s;else{if(2048>s)o[r++]=s>>6|192;else{if(55296<=s&&57343>=s){if(56319>=s&&i<t.length){var l=t.charCodeAt(++i);if(56320<=l&&57343>=l){s=1024*(s-55296)+l-56320+65536,o[r++]=s>>18|240,o[r++]=s>>12&63|128,o[r++]=s>>6&63|128,o[r++]=63&s|128;continue}i--}if(n)throw Error("Found an unpaired surrogate");s=65533}o[r++]=s>>12|224,o[r++]=s>>6&63|128}o[r++]=63&s|128}}t=r===o.length?o:o.subarray(0,r)}we(e.h,8*a+2),we(e.h,t.length),Ce(e,e.h.end()),Ce(e,t)}}),Ht=zt(function(e,t,a,n,r){if(2!==e.i)return!1;t=Je(t,a,n),a=e.h.j,n=fe(e.h)>>>0;var o=e.h.h+n,i=o-a;if(0>=i&&(e.h.j=o,r(t,e,void 0,void 0,void 0),i=o-e.h.h),i)throw Error("Message parsing ended unexpectedly. Expected to read "+n+" bytes, instead read "+(n-i)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.h.h=o,e.h.j=a,!0},function(e,t,a,n,r){if(null!=(t=qe(t,n,a)))for(n=0;n<t.length;n++){var o=e;we(o.h,8*a+2);var i=o.h.end();Ce(o,i),i.push(o.i),o=i,r(t[n],e),i=e;var s=o.pop();for(s=i.i+i.h.length()-s;127<s;)o.push(127&s|128),s>>>=7,i.i++;o.push(s),i.i++}});function Gt(e){return function(t,a){e:{if(Se.length){var n=Se.pop();n.setOptions(a),me(n.h,t,a),t=n}else t=new je(t,a);try{var r=Lt(e),o=Et(new r.P,t,r);break e}finally{(r=t.h).i=null,r.m=!1,r.l=0,r.j=0,r.h=0,r.S=!1,t.l=-1,t.i=-1,100>Se.length&&Se.push(t)}o=void 0}return o}}function _t(e){return function(){var t=new Te;Bt(this,t,Tt(e)),Ce(t,t.h.end());for(var a=new Uint8Array(t.i),n=t.j,r=n.length,o=0,i=0;i<r;i++){var s=n[i];a.set(s,o),o+=s.length}return t.j=[a],a}}function Ut(e){ct.call(this,e)}p(Ut,ct);var Kt=[Ut,1,Dt,2,Ot,3,It,4,It];function Vt(e){ct.call(this,e,-1,Wt)}Ut.prototype.l=_t(Kt),p(Vt,ct),Vt.prototype.addClassification=function(e,t){return Je(this,1,Ut,e,t),this};var Wt=[1],$t=Gt([Vt,1,Ht,Kt]);function Yt(e){ct.call(this,e)}p(Yt,ct);var Xt=[Yt,1,Ot,2,Ot,3,Ot,4,Ot,5,Ot];function qt(e){ct.call(this,e,-1,Zt)}Yt.prototype.l=_t(Xt),p(qt,ct);var Zt=[1],Jt=Gt([qt,1,Ht,Xt]);function Qt(e){ct.call(this,e)}p(Qt,ct);var ea=[Qt,1,Ot,2,Ot,3,Ot,4,Ot,5,Ot,6,Rt],ta=Gt(ea);function aa(e,t,a){if(a=e.createShader(0===a?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(a,t),e.compileShader(a),!e.getShaderParameter(a,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(a));return a}function na(e){return qe(e,Ut,1).map(function(e){var t=Ke(e,1);return{index:null==t?0:t,score:et(e,2),label:null!=Ke(e,3)?Qe(Ke(e,3),""):void 0,displayName:null!=Ke(e,4)?Qe(Ke(e,4),""):void 0}})}function ra(e){return{x:et(e,1),y:et(e,2),z:et(e,3),visibility:null!=Ye(e,4)?et(e,4):void 0}}function oa(e){return e.map(function(e){return qe(Jt(e),Yt,1).map(ra)})}function ia(e,t){this.i=e,this.h=t,this.m=0}function sa(e,t,a){return function(e,t){var a=e.h;if(void 0===e.s){var n=aa(a,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),r=aa(a,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),o=a.createProgram();if(a.attachShader(o,n),a.attachShader(o,r),a.linkProgram(o),!a.getProgramParameter(o,a.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+a.getProgramInfoLog(o));n=e.s=o,a.useProgram(n),r=a.getUniformLocation(n,"sampler0"),e.l={O:a.getAttribLocation(n,"aVertex"),N:a.getAttribLocation(n,"aTex"),xa:r},e.v=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,e.v),a.enableVertexAttribArray(e.l.O),a.vertexAttribPointer(e.l.O,2,a.FLOAT,!1,0,0),a.bufferData(a.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),a.STATIC_DRAW),a.bindBuffer(a.ARRAY_BUFFER,null),e.u=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,e.u),a.enableVertexAttribArray(e.l.N),a.vertexAttribPointer(e.l.N,2,a.FLOAT,!1,0,0),a.bufferData(a.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),a.STATIC_DRAW),a.bindBuffer(a.ARRAY_BUFFER,null),a.uniform1i(r,0)}n=e.l,a.useProgram(e.s),a.canvas.width=t.width,a.canvas.height=t.height,a.viewport(0,0,t.width,t.height),a.activeTexture(a.TEXTURE0),e.i.bindTexture2d(t.glName),a.enableVertexAttribArray(n.O),a.bindBuffer(a.ARRAY_BUFFER,e.v),a.vertexAttribPointer(n.O,2,a.FLOAT,!1,0,0),a.enableVertexAttribArray(n.N),a.bindBuffer(a.ARRAY_BUFFER,e.u),a.vertexAttribPointer(n.N,2,a.FLOAT,!1,0,0),a.bindFramebuffer(a.DRAW_FRAMEBUFFER?a.DRAW_FRAMEBUFFER:a.FRAMEBUFFER,null),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.colorMask(!0,!0,!0,!0),a.drawArrays(a.TRIANGLE_FAN,0,4),a.disableVertexAttribArray(n.O),a.disableVertexAttribArray(n.N),a.bindBuffer(a.ARRAY_BUFFER,null),e.i.bindTexture2d(0)}(e,t),"function"==typeof e.h.canvas.transferToImageBitmap?Promise.resolve(e.h.canvas.transferToImageBitmap()):a?Promise.resolve(e.h.canvas):"function"==typeof createImageBitmap?createImageBitmap(e.h.canvas):(void 0===e.j&&(e.j=document.createElement("canvas")),new Promise(function(t){e.j.height=e.h.canvas.height,e.j.width=e.h.canvas.width,e.j.getContext("2d",{}).drawImage(e.h.canvas,0,0,e.h.canvas.width,e.h.canvas.height),t(e.j)}))}function la(e){this.h=e}Qt.prototype.l=_t(ea);var ca=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function ua(e,t){return t+e}function ha(e,t){window[e]=t}function da(e){if(this.h=e,this.listeners={},this.l={},this.L={},this.s={},this.v={},this.M=this.u=this.ga=!0,this.I=Promise.resolve(),this.fa="",this.D={},this.locateFile=e&&e.locateFile||ua,"object"==typeof window)var t=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if("undefined"==typeof location)throw Error("solutions can only be loaded on a web page or in a web worker");t=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.ha=t,e.options)for(var a=(t=i(Object.keys(e.options))).next();!a.done;a=t.next()){a=a.value;var n=e.options[a].default;void 0!==n&&(this.l[a]="function"==typeof n?n():n)}}function ma(e){var t,a,n,r,o,i,l,c,u,h,d;return A(function(m){switch(m.h){case 1:return e.ga?(t=void 0===e.h.files?[]:"function"==typeof e.h.files?e.h.files(e.l):e.h.files,y(m,A(function(e){switch(e.h){case 1:return e.s=2,y(e,WebAssembly.instantiate(ca),4);case 4:e.h=3,e.s=0;break;case 2:return e.s=0,e.l=null,e.return(!1);case 3:return e.return(!0)}}),2)):m.return();case 2:if(a=m.i,"object"==typeof window)return ha("createMediapipeSolutionsWasm",{locateFile:e.locateFile}),ha("createMediapipeSolutionsPackedAssets",{locateFile:e.locateFile}),i=t.filter(function(e){return void 0!==e.data}),l=t.filter(function(e){return void 0===e.data}),c=Promise.all(i.map(function(t){var a=pa(e,t.url);if(void 0!==t.path){var n=t.path;a=a.then(function(t){return e.overrideFile(n,t),Promise.resolve(t)})}return a})),u=Promise.all(l.map(function(t){return void 0===t.simd||t.simd&&a||!t.simd&&!a?function(e){var t=document.createElement("script");return t.setAttribute("src",e),t.setAttribute("crossorigin","anonymous"),new Promise(function(e){t.addEventListener("load",function(){e()},!1),t.addEventListener("error",function(){e()},!1),document.body.appendChild(t)})}(e.locateFile(t.url,e.ha)):Promise.resolve()})).then(function(){var t,a,n;return A(function(r){if(1==r.h)return t=window.createMediapipeSolutionsWasm,a=window.createMediapipeSolutionsPackedAssets,n=e,y(r,t(a),2);n.i=r.i,r.h=0})}),h=A(function(t){return e.h.graph&&e.h.graph.url?t=y(t,pa(e,e.h.graph.url),0):(t.h=0,t=void 0),t}),y(m,Promise.all([u,c,h]),7);if("function"!=typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return n=t.filter(function(e){return void 0===e.simd||e.simd&&a||!e.simd&&!a}).map(function(t){return e.locateFile(t.url,e.ha)}),importScripts.apply(null,s(n)),r=e,y(m,createMediapipeSolutionsWasm(Module),6);case 6:r.i=m.i,e.m=new OffscreenCanvas(1,1),e.i.canvas=e.m,o=e.i.GL.createContext(e.m,{antialias:!1,alpha:!1,ua:"undefined"!=typeof WebGL2RenderingContext?2:1}),e.i.GL.makeContextCurrent(o),m.h=4;break;case 7:if(e.m=document.createElement("canvas"),!(d=e.m.getContext("webgl2",{}))&&!(d=e.m.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),m.return();e.K=d,e.i.canvas=e.m,e.i.createContext(e.m,!0,!0,{});case 4:e.j=new e.i.SolutionWasm,e.ga=!1,m.h=0}})}function pa(e,t){var a,n;return A(function(r){return t in e.L?r.return(e.L[t]):(a=e.locateFile(t,""),n=fetch(a).then(function(e){return e.arrayBuffer()}),e.L[t]=n,r.return(n))})}function fa(e,t,a){var n,r,o,s,l,c,u,h,d,m,p,f,g,x;return A(function(b){switch(b.h){case 1:if(!a)return b.return(t);for(n={},r=0,o=i(Object.keys(a)),s=o.next();!s.done;s=o.next())l=s.value,"string"!=typeof(c=a[l])&&"texture"===c.type&&void 0!==t[c.stream]&&++r;1<r&&(e.M=!1),u=i(Object.keys(a)),s=u.next();case 2:if(s.done){b.h=4;break}if(h=s.value,"string"==typeof(d=a[h]))return g=n,x=h,y(b,function(e,t,a){var n;return A(function(r){return"number"==typeof a||a instanceof Uint8Array||a instanceof e.i.Uint8BlobList?r.return(a):a instanceof e.i.Texture2dDataOut?((n=e.v[t])||(n=new ia(e.i,e.K),e.v[t]=n),r.return(sa(n,a,e.M))):r.return(void 0)})}(e,h,t[d]),14);if(m=t[d.stream],"detection_list"===d.type){if(m){for(var v=m.getRectList(),w=m.getLandmarksList(),j=m.getClassificationsList(),M=[],S=0;S<v.size();++S){var T=ta(v.get(S)),C=void 0;C=void 0===C?0:C,T={la:{ra:et(T,1),sa:et(T,2),height:et(T,3),width:et(T,4),rotation:et(T,5,0),pa:Qe(Ke(T,6),C)},ea:qe(Jt(w.get(S)),Yt,1).map(ra),ba:na($t(j.get(S)))},M.push(T)}v=M}else v=[];n[h]=v,b.h=7;break}if("proto_list"===d.type){if(m){for(v=Array(m.size()),w=0;w<m.size();w++)v[w]=m.get(w);m.delete()}else v=[];n[h]=v,b.h=7;break}if(void 0===m){b.h=3;break}if("float_list"===d.type){n[h]=m,b.h=7;break}if("proto"===d.type){n[h]=m,b.h=7;break}if("texture"!==d.type)throw Error("Unknown output config type: '"+d.type+"'");return(p=e.v[h])||(p=new ia(e.i,e.K),e.v[h]=p),y(b,sa(p,m,e.M),13);case 13:f=b.i,n[h]=f;case 7:d.transform&&n[h]&&(n[h]=d.transform(n[h])),b.h=3;break;case 14:g[x]=b.i;case 3:s=u.next(),b.h=2;break;case 4:return b.return(n)}})}function ga(e,t){for(var a=t.name||"$",n=[].concat(s(t.wants)),r=new e.i.StringList,o=i(t.wants),l=o.next();!l.done;l=o.next())r.push_back(l.value);o=e.i.PacketListener.implement({onResults:function(r){for(var o={},i=0;i<t.wants.length;++i)o[n[i]]=r.get(i);var s=e.listeners[a];s&&(e.I=fa(e,o,t.outs).then(function(a){a=s(a);for(var r=0;r<t.wants.length;++r){var i=o[n[r]];"object"==typeof i&&i.hasOwnProperty&&i.hasOwnProperty("delete")&&i.delete()}a&&(e.I=a)}))}}),e.j.attachMultiListener(r,o),r.delete()}function xa(e){return void 0===e&&(e=0),1===e?"hand_landmark_full.tflite":"hand_landmark_lite.tflite"}function ya(e){var t=this;e=e||{},this.h=new da({locateFile:e.locateFile,files:function(e){return[{url:"hands_solution_packed_assets_loader.js"},{simd:!1,url:"hands_solution_wasm_bin.js"},{simd:!0,url:"hands_solution_simd_wasm_bin.js"},{data:!0,url:xa(e.modelComplexity)}]},graph:{url:"hands.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:["multi_hand_landmarks","multi_hand_world_landmarks","image_transformed","multi_handedness"],outs:{image:"image_transformed",multiHandLandmarks:{type:"proto_list",stream:"multi_hand_landmarks",transform:oa},multiHandWorldLandmarks:{type:"proto_list",stream:"multi_hand_world_landmarks",transform:oa},multiHandedness:{type:"proto_list",stream:"multi_handedness",transform:function(e){return e.map(function(e){return na($t(e))[0]})}}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"object"==typeof window&&void 0!==window.navigator&&("iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumHands:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculator",fieldName:"int_value"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(e){var a,n,r;return A(function(o){return 1==o.h?(a=xa(e),n="third_party/mediapipe/modules/hand_landmark/"+a,y(o,pa(t.h,a),2)):(r=o.i,t.h.overrideFile(n,r),o.return(!0))})}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"handlandmarktrackinggpu__palmdetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"handlandmarktrackinggpu__handlandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}}}})}(e=da.prototype).close=function(){return this.j&&this.j.delete(),Promise.resolve()},e.reset=function(){var e=this;return A(function(t){e.j&&(e.j.reset(),e.s={},e.v={}),t.h=0})},e.setOptions=function(e,t){var a=this;if(t=t||this.h.options){for(var n=[],r=[],o={},s=i(Object.keys(e)),l=s.next();!l.done;o={X:o.X,Y:o.Y},l=s.next())if(!((l=l.value)in this.l)||this.l[l]!==e[l]){this.l[l]=e[l];var c=t[l];void 0!==c&&(c.onChange&&(o.X=c.onChange,o.Y=e[l],n.push(function(e){return function(){return A(function(t){if(1==t.h)return y(t,e.X(e.Y),2);!0===t.i&&(a.u=!0),t.h=0})}}(o))),c.graphOptionXref&&(l=Object.assign({},{calculatorName:"",calculatorIndex:0},c.graphOptionXref,{valueNumber:1===c.type?e[l]:0,valueBoolean:0===c.type&&e[l],valueString:2===c.type?e[l]:""}),r.push(l)))}0===n.length&&0===r.length||(this.u=!0,this.H=(void 0===this.H?[]:this.H).concat(r),this.F=(void 0===this.F?[]:this.F).concat(n))}},e.initialize=function(){var e=this;return A(function(t){return 1==t.h?y(t,ma(e),2):3!=t.h?y(t,function(e){var t,a,n,r,o,s,l,c;return A(function(u){if(1==u.h)return e.h.graph&&e.h.graph.url&&e.fa===e.h.graph.url?u.return():(e.u=!0,e.h.graph&&e.h.graph.url?(e.fa=e.h.graph.url,y(u,pa(e,e.h.graph.url),3)):void(u.h=2));for(2!=u.h&&(t=u.i,e.j.loadGraph(t)),a=i(Object.keys(e.D)),n=a.next();!n.done;n=a.next())r=n.value,e.j.overrideFile(r,e.D[r]);if(e.D={},e.h.listeners)for(o=i(e.h.listeners),s=o.next();!s.done;s=o.next())l=s.value,ga(e,l);c=e.l,e.l={},e.setOptions(c),u.h=0})}(e),3):y(t,function(e){var t,a,n,r,o,s;return A(function(l){switch(l.h){case 1:if(!e.u)return l.return();if(!e.F){l.h=2;break}t=i(e.F),a=t.next();case 3:if(a.done){l.h=5;break}return y(l,(0,a.value)(),4);case 4:a=t.next(),l.h=3;break;case 5:e.F=void 0;case 2:if(e.H){for(n=new e.i.GraphOptionChangeRequestList,r=i(e.H),o=r.next();!o.done;o=r.next())s=o.value,n.push_back(s);e.j.changeOptions(n),n.delete(),e.H=void 0}e.u=!1,l.h=0}})}(e),0)})},e.overrideFile=function(e,t){this.j?this.j.overrideFile(e,t):this.D[e]=t},e.clearOverriddenFiles=function(){this.D={},this.j&&this.j.clearOverriddenFiles()},e.send=function(e,t){var a,n,r,o,s,l,c,u,h,d=this;return A(function(m){switch(m.h){case 1:return d.h.inputs?(a=1e3*(null==t?performance.now():t),y(m,d.I,2)):m.return();case 2:return y(m,d.initialize(),3);case 3:for(n=new d.i.PacketDataList,r=i(Object.keys(e)),o=r.next();!o.done;o=r.next())if(s=o.value,l=d.h.inputs[s]){e:{var p=e[s];switch(l.type){case"video":var f=d.s[l.stream];if(f||(f=new ia(d.i,d.K),d.s[l.stream]=f),0===f.m&&(f.m=f.i.createTexture()),"undefined"!=typeof HTMLVideoElement&&p instanceof HTMLVideoElement)var g=p.videoWidth,x=p.videoHeight;else"undefined"!=typeof HTMLImageElement&&p instanceof HTMLImageElement?(g=p.naturalWidth,x=p.naturalHeight):(g=p.width,x=p.height);x={glName:f.m,width:g,height:x},(g=f.h).canvas.width=x.width,g.canvas.height=x.height,g.activeTexture(g.TEXTURE0),f.i.bindTexture2d(f.m),g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,p),f.i.bindTexture2d(0),f=x;break e;case"detections":for((f=d.s[l.stream])||(f=new la(d.i),d.s[l.stream]=f),f.data||(f.data=new f.h.DetectionListData),f.data.reset(p.length),x=0;x<p.length;++x){g=p[x];var b=f.data,v=b.setBoundingBox,w=x,j=g.la,A=new Qt;if(Ze(A,1,j.ra),Ze(A,2,j.sa),Ze(A,3,j.height),Ze(A,4,j.width),Ze(A,5,j.rotation),Ve(A,6,j.pa),j=A.l(),v.call(b,w,j),g.ea)for(b=0;b<g.ea.length;++b){A=g.ea[b],w=(v=f.data).addNormalizedLandmark,j=x,A=Object.assign({},A,{visibility:A.visibility?A.visibility:0});var M=new Yt;Ze(M,1,A.x),Ze(M,2,A.y),Ze(M,3,A.z),A.visibility&&Ze(M,4,A.visibility),A=M.l(),w.call(v,j,A)}if(g.ba)for(b=0;b<g.ba.length;++b)w=(v=f.data).addClassification,j=x,A=g.ba[b],Ze(M=new Ut,2,A.score),A.index&&Ve(M,1,A.index),A.label&&Ve(M,3,A.label),A.displayName&&Ve(M,4,A.displayName),A=M.l(),w.call(v,j,A)}f=f.data;break e;default:f={}}}switch(c=f,u=l.stream,l.type){case"video":n.pushTexture2d(Object.assign({},c,{stream:u,timestamp:a}));break;case"detections":(h=c).stream=u,h.timestamp=a,n.pushDetectionList(h);break;default:throw Error("Unknown input config type: '"+l.type+"'")}}return d.j.send(n),y(m,d.I,4);case 4:n.delete(),m.h=0}})},e.onResults=function(e,t){this.listeners[t||"$"]=e},T("Solution",da),T("OptionType",{BOOL:0,NUMBER:1,ta:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(e=ya.prototype).close=function(){return this.h.close(),Promise.resolve()},e.onResults=function(e){this.h.onResults(e)},e.initialize=function(){var e=this;return A(function(t){return y(t,e.h.initialize(),0)})},e.reset=function(){this.h.reset()},e.send=function(e){var t=this;return A(function(a){return y(a,t.h.send(e),0)})},e.setOptions=function(e){this.h.setOptions(e)},T("Hands",ya),T("HAND_CONNECTIONS",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]),T("VERSION","0.4.1675469240")}).call(be);var st={};function lt({onGesture:e}){const t=a.useRef(null),r=a.useRef(null),[o,i]=a.useState(!1),[s,l]=a.useState(!1),[c,u]=a.useState(!1),[h,d]=a.useState(!0),m=a.useRef(!1);a.useEffect(()=>{m.current=c},[c]);const f=a.useRef(null),g=a.useRef(null),x=a.useRef(null),[y,b]=a.useState(!1),[v,w]=a.useState(()=>{const e=localStorage.getItem("handGesturePosition");return e?JSON.parse(e):{bottom:16,right:16}}),j=a.useRef(null),A=a.useRef([]),M=a.useRef(0),S=a.useRef(0),C=.008;a.useEffect(()=>()=>{},[]);const N=e=>{if(!y||!j.current)return;const t=j.current.x-e.clientX,a=j.current.y-e.clientY,n=Math.max(0,Math.min(window.innerWidth-200,j.current.startRight+t)),r=Math.max(0,Math.min(window.innerHeight-100,j.current.startBottom+a));w({bottom:r,right:n})},k=()=>{y&&(b(!1),localStorage.setItem("handGesturePosition",JSON.stringify(v)))},P=e=>{if(!y||!j.current)return;const t=e.touches[0],a=j.current.x-t.clientX,n=j.current.y-t.clientY,r=Math.max(0,Math.min(window.innerWidth-200,j.current.startRight+a)),o=Math.max(0,Math.min(window.innerHeight-100,j.current.startBottom+n));w({bottom:o,right:r})},F=()=>{y&&(b(!1),localStorage.setItem("handGesturePosition",JSON.stringify(v)))};a.useEffect(()=>{if(y)return window.addEventListener("mousemove",N),window.addEventListener("mouseup",k),window.addEventListener("touchmove",P),window.addEventListener("touchend",F),()=>{window.removeEventListener("mousemove",N),window.removeEventListener("mouseup",k),window.removeEventListener("touchmove",P),window.removeEventListener("touchend",F)}},[y,v]);const L=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)+Math.pow(t.z-e.z,2)),E=e=>{const t=e[0],a=e[8],n=e[5],r=L(t,a),o=L(t,n),i=e[12],s=e[9],l=L(t,i),c=L(t,s),u=e[16],h=e[13];return[r>1.3*o,l>1.3*c,L(t,u)>1.3*L(t,h)].filter(Boolean).length>=2},B=t=>{if(!r.current)return;const a=r.current.getContext("2d");if(!a)return;if(a.save(),a.clearRect(0,0,r.current.width,r.current.height),m.current?a.drawImage(t.image,0,0,r.current.width,r.current.height):(a.fillStyle="#1a1a1a",a.fillRect(0,0,r.current.width,r.current.height)),t.multiHandLandmarks)for(const e of t.multiHandLandmarks){const t=[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[0,9],[9,10],[10,11],[11,12],[0,13],[13,14],[14,15],[15,16],[0,17],[17,18],[18,19],[19,20],[5,9],[9,13],[13,17]];a.strokeStyle="#00ff88",a.lineWidth=2;for(const[n,o]of t){const t=e[n],i=e[o];a.beginPath(),a.moveTo(t.x*r.current.width,t.y*r.current.height),a.lineTo(i.x*r.current.width,i.y*r.current.height),a.stroke()}for(const n of e)a.fillStyle="#ff0088",a.beginPath(),a.arc(n.x*r.current.width,n.y*r.current.height,5,0,2*Math.PI),a.fill()}a.restore();const n=(e=>{var t,a,n,r,o,i;if(!e.multiHandLandmarks||0===e.multiHandLandmarks.length)return S.current++,S.current>30&&(x.current=null,M.current=0,A.current=[]),{type:"idle"};S.current=0;const s=e.multiHandLandmarks.length;if(2===s){const r=e.multiHandLandmarks[0],o=e.multiHandLandmarks[1],i=E(r),s=E(o);if(!i||!s)return x.current&&(x.current.wasHandClosed=!0),{type:"idle"};const l={x:(r[0].x+r[9].x)/2,y:(r[0].y+r[9].y)/2,z:(r[0].z+r[9].z)/2},c={x:(o[0].x+o[9].x)/2,y:(o[0].y+o[9].y)/2,z:(o[0].z+o[9].z)/2},u=L(l,c);if(null==(t=x.current)?void 0:t.wasHandClosed)return M.current=0,A.current=[],x.current={type:"zoom",twoHandDistance:u,wasHandClosed:!1},{type:"idle"};if("zoom"===(null==(a=x.current)?void 0:a.type)&&void 0!==x.current.twoHandDistance)if(M.current++,M.current>0){const e=200*(x.current.twoHandDistance-u);A.current.push({type:"zoom",delta:e}),A.current.length>6&&A.current.shift();const t=A.current.reduce((e,t)=>e+("number"==typeof t.delta?t.delta:0),0)/A.current.length;if(x.current={type:"zoom",twoHandDistance:u,wasHandClosed:!1},Math.abs(t)>.012)return{type:"zoom",zoomDelta:t}}else x.current.twoHandDistance=u,x.current.wasHandClosed=!1;else M.current=0,"zoom"!==(null==(n=x.current)?void 0:n.type)&&(A.current=[]),x.current={type:"zoom",twoHandDistance:u,wasHandClosed:!1};return{type:"idle"}}if(1===s){if("zoom"===(null==(r=x.current)?void 0:r.type))return M.current++,M.current>5&&(x.current=null,M.current=0,A.current=[]),{type:"idle"};const t=e.multiHandLandmarks[0];if(!E(t))return x.current?x.current.wasHandClosed=!0:x.current={type:"rotate",wasHandClosed:!0},{type:"idle"};const a=t[0],n=t[12],s=(a.x+n.x)/2,l=(a.y+n.y)/2,c={x:s,y:l};if(!0===(null==(o=x.current)?void 0:o.wasHandClosed))return M.current=0,A.current=[],x.current={type:"rotate",handCenter:c,wasHandClosed:!1},{type:"idle"};if("rotate"===(null==(i=x.current)?void 0:i.type)&&x.current.handCenter)if(M.current++,M.current>2){const e=x.current.handCenter,t=1.8*(s-e.x),a=1.8*-(l-e.y);A.current.push({type:"rotate",delta:{x:t,y:a}}),A.current.length>6&&A.current.shift();const n=A.current.reduce((e,t)=>e+("object"==typeof t.delta?t.delta.x:0),0)/A.current.length,r=A.current.reduce((e,t)=>e+("object"==typeof t.delta?t.delta.y:0),0)/A.current.length;if(x.current={type:"rotate",handCenter:c,wasHandClosed:!1},Math.abs(n)>C||Math.abs(r)>C)return{type:"rotate",rotateDelta:{x:n,y:r}}}else x.current.handCenter=c,x.current.wasHandClosed=!1;else M.current=0,A.current=[],x.current={type:"rotate",handCenter:c,wasHandClosed:!1};return{type:"idle"}}return{type:"idle"}})(t);e(n)},z=async()=>{o?(g.current&&g.current.stop(),i(!1),x.current=null,S.current=0,M.current=0,A.current=[]):(s?g.current&&await g.current.start():await(async()=>{if(t.current&&!s)try{const e=new it.Hands({locateFile:e=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands/${e}`});e.setOptions({maxNumHands:2,modelComplexity:1,minDetectionConfidence:.7,minTrackingConfidence:.5}),e.onResults(B),f.current=e;const a=new st.Camera(t.current,{onFrame:async()=>{t.current&&f.current&&await f.current.send({image:t.current})},width:320,height:240});g.current=a,await a.start(),l(!0)}catch(e){alert("Failed to start camera. Please check camera permissions and try again.")}})(),i(!0))};return a.useEffect(()=>()=>{g.current&&g.current.stop(),f.current&&f.current.close()},[]),n.jsxs("div",{className:"fixed z-[9999] flex flex-col gap-2",style:{bottom:`${v.bottom}px`,right:`${v.right}px`,cursor:y?"grabbing":"grab"},children:[n.jsxs("div",{className:"flex items-center gap-2 bg-black/80 backdrop-blur-sm rounded-lg border border-white/20 p-2 shadow-2xl",onMouseDown:e=>{0===e.button&&(b(!0),j.current={x:e.clientX,y:e.clientY,startBottom:v.bottom,startRight:v.right},e.preventDefault())},onTouchStart:e=>{const t=e.touches[0];b(!0),j.current={x:t.clientX,y:t.clientY,startBottom:v.bottom,startRight:v.right},e.preventDefault()},children:[n.jsx(p,{variant:o?"default":"outline",size:"icon",onClick:()=>{z()},className:o?"bg-green-600 hover:bg-green-700":"",title:o?"Stop Hand Tracking":"Start Hand Tracking",children:o?n.jsx(Y,{className:"h-4 w-4"}):n.jsx(Y,{className:"h-4 w-4 opacity-50"})}),n.jsx("span",{className:"text-white text-xs font-semibold pr-2",children:"Hand Gestures"})]}),n.jsx("video",{ref:t,className:"hidden",playsInline:!0}),o&&n.jsxs("div",{className:"bg-black/80 backdrop-blur-sm rounded-lg border border-white/20 overflow-hidden shadow-2xl",children:[n.jsxs("div",{className:"p-2 border-b border-white/20 bg-white/5 cursor-pointer hover:bg-white/10 transition-colors",onClick:()=>d(!h),children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X,{className:"h-3 w-3 text-green-400"}),n.jsx("p",{className:"text-xs font-semibold text-white",children:"Hand Gesture Control"})]}),h?n.jsx(T,{className:"h-4 w-4 text-white"}):n.jsx(q,{className:"h-4 w-4 text-white"})]}),h&&n.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"✋ Rotate | 🙌 Zoom | ✊ Pause"})]}),n.jsxs("div",{className:"p-2 bg-black/30 "+(h?"hidden":""),children:[n.jsx("p",{className:"text-[10px] text-gray-400",children:"✋ Open hand: Move to rotate"}),n.jsx("p",{className:"text-[10px] text-gray-400",children:"🙌 Two open hands: Apart=Zoom in, together=Zoom out"}),n.jsx("p",{className:"text-[10px] text-gray-400",children:"✊ Close fist to pause (keeps position)"})]}),n.jsxs("div",{className:"relative "+(h?"hidden":""),children:[n.jsx("canvas",{ref:r,width:320,height:240,className:"w-80 h-60"}),n.jsx("div",{className:"absolute bottom-2 left-2",children:n.jsx(p,{variant:"secondary",size:"sm",onClick:()=>u(!c),className:"text-xs bg-black/50 hover:bg-black/70",children:c?"🖐️ Gestures Only":"📷 Show Camera"})})]})]})]})}(function(){function e(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,a){return e==Array.prototype||e==Object.prototype||(e[t]=a.value),e};var a=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof be&&be];for(var t=0;t<e.length;++t){var a=e[t];if(a&&a.Math==Math)return a}throw Error("Cannot find global object")}(this);function n(e,n){if(n)e:{var r=a;e=e.split(".");for(var o=0;o<e.length-1;o++){var i=e[o];if(!(i in r))break e;r=r[i]}(n=n(o=r[e=e[e.length-1]]))!=o&&null!=n&&t(r,e,{configurable:!0,writable:!0,value:n})}}function r(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function o(t){var a="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return a?a.call(t):{next:e(t)}}function i(){this.i=!1,this.g=null,this.o=void 0,this.j=1,this.m=0,this.h=null}function s(e){if(e.i)throw new TypeError("Generator is already running");e.i=!0}function l(e,t){e.h={F:t,G:!0},e.j=e.m}function c(e){this.g=new i,this.h=e}function u(e,t,a,n){try{var r=t.call(e.g.g,a);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return e.g.i=!1,r;var o=r.value}catch(i){return e.g.g=null,l(e.g,i),h(e)}return e.g.g=null,n.call(e.g,o),h(e)}function h(e){for(;e.g.j;)try{var t=e.h(e.g);if(t)return e.g.i=!1,{value:t.value,done:!1}}catch(a){e.g.o=void 0,l(e.g,a)}if(e.g.i=!1,e.g.h){if(t=e.g.h,e.g.h=null,t.G)throw t.F;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function d(e){this.next=function(t){return s(e.g),e.g.g?t=u(e,e.g.g.next,t,e.g.l):(e.g.l(t),t=h(e)),t},this.throw=function(t){return s(e.g),e.g.g?t=u(e,e.g.g.throw,t,e.g.l):(l(e.g,t),t=h(e)),t},this.return=function(t){return function(e,t){s(e.g);var a=e.g.g;return a?u(e,"return"in a?a.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),h(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function m(e){function t(t){return e.next(t)}function a(t){return e.throw(t)}return new Promise(function(n,r){!function e(o){o.done?n(o.value):Promise.resolve(o.value).then(t,a).then(e,r)}(e.next())})}n("Symbol",function(e){function a(e,a){this.g=e,t(this,"description",{configurable:!0,writable:!0,value:a})}if(e)return e;a.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return function e(t){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new a(n+(t||"")+"_"+r++,t)}}),n("Symbol.iterator",function(n){if(n)return n;n=Symbol("Symbol.iterator");for(var o="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),i=0;i<o.length;i++){var s=a[o[i]];"function"==typeof s&&"function"!=typeof s.prototype[n]&&t(s.prototype,n,{configurable:!0,writable:!0,value:function(){return r(e(this))}})}return n}),i.prototype.l=function(e){this.o=e},i.prototype.return=function(e){this.h={return:e},this.j=this.m},n("Promise",function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.o=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(a){t.reject(a)}}function n(){this.g=null}function r(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i(function(){t.l()})}this.g.push(e)};var i=a.setTimeout;n.prototype.i=function(e){i(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var a=e[t];e[t]=null;try{a()}catch(n){this.j(n)}}}this.g=null},n.prototype.j=function(e){this.i(function(){throw e})},t.prototype.j=function(){function e(e){return function(n){a||(a=!0,e.call(t,n))}}var t=this,a=!1;return{resolve:e(this.A),reject:e(this.l)}},t.prototype.A=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.C(e);else{e:switch(typeof e){case"object":var a=null!=e;break e;case"function":a=!0;break e;default:a=!1}a?this.v(e):this.m(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(a){return void this.l(a)}"function"==typeof t?this.D(t,e):this.m(e)},t.prototype.l=function(e){this.u(2,e)},t.prototype.m=function(e){this.u(1,e)},t.prototype.u=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.B(),this.H()},t.prototype.B=function(){var e=this;i(function(){if(e.I()){var t=a.console;void 0!==t&&t.error(e.i)}},1)},t.prototype.I=function(){if(this.o)return!1;var e=a.CustomEvent,t=a.Event,n=a.dispatchEvent;return void 0===n||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=a.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.H=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)s.h(this.g[e]);this.g=null}};var s=new n;return t.prototype.C=function(e){var t=this.j();e.s(t.resolve,t.reject)},t.prototype.D=function(e,t){var a=this.j();try{e.call(t,a.resolve,a.reject)}catch(n){a.reject(n)}},t.prototype.then=function(e,a){function n(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(a){o(a)}}:t}var r,o,i=new t(function(e,t){r=e,o=t});return this.s(n(e,r),n(a,o)),i},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.s=function(e,t){function a(){switch(n.h){case 1:e(n.i);break;case 2:t(n.i);break;default:throw Error("Unexpected state: "+n.h)}}var n=this;null==this.g?s.h(a):this.g.push(a),this.o=!0},t.resolve=r,t.reject=function(e){return new t(function(t,a){a(e)})},t.race=function(e){return new t(function(t,a){for(var n=o(e),i=n.next();!i.done;i=n.next())r(i.value).s(t,a)})},t.all=function(e){var a=o(e),n=a.next();return n.done?r([]):new t(function(e,t){function o(t){return function(a){i[t]=a,0==--s&&e(i)}}var i=[],s=0;do{i.push(void 0),s++,r(n.value).s(o(i.length-1),t),n=a.next()}while(!n.done)})},t});var p="function"==typeof Object.assign?Object.assign:function(e,t){for(var a=1;a<arguments.length;a++){var n=arguments[a];if(n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};n("Object.assign",function(e){return e||p});var f=this||self,g={facingMode:"user",width:640,height:480};function x(e,t){this.video=e,this.i=0,this.h=Object.assign(Object.assign({},g),t)}function y(e){window.requestAnimationFrame(function(){!function(e){var t=null;e.video.paused||e.video.currentTime===e.i||(e.i=e.video.currentTime,t=e.h.onFrame()),t?t.then(function(){y(e)}):y(e)}(e)})}x.prototype.stop=function(){var e,t,a,n=this;return m(new d(new c(function(r){if(n.g){for(e=n.g.getTracks(),t=o(e),a=t.next();!a.done;a=t.next())a.value.stop();n.g=void 0}r.j=0})))},x.prototype.start=function(){var e,t=this;return m(new d(new c(function(a){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||alert("No navigator.mediaDevices.getUserMedia exists."),e=t.h,a.return(navigator.mediaDevices.getUserMedia({video:{facingMode:e.facingMode,width:e.width,height:e.height}}).then(function(e){!function(e,t){e.g=t,e.video.srcObject=t,e.video.onloadedmetadata=function(){e.video.play(),y(e)}}(t,e)}).catch(function(e){throw alert("Failed to acquire camera feed: "+e),e}))})))};var b,v=["Camera"],w=f;v[0]in w||void 0===w.execScript||w.execScript("var "+v[0]);for(;v.length&&(b=v.shift());)v.length||void 0===x?w=w[b]&&w[b]!==Object.prototype[b]?w[b]:w[b]={}:w[b]=x}).call(be);const ct=(e,t,a)=>{const n=e.getFullYear(),r=e.getMonth()+1,o=e.getDate(),i=Math.floor((14-r)/12),s=n+4800-i,l=r+12*i-3,c=o+Math.floor((153*l+2)/5)+365*s+Math.floor(s/4)-Math.floor(s/100)+Math.floor(s/400)-32045-2451545+8e-4-a/360,u=(357.5291+.98560028*c)%360,h=u*Math.PI/180,d=(u+(1.9148*Math.sin(h)+.02*Math.sin(2*h)+3e-4*Math.sin(3*h))+180+102.9372)%360*Math.PI/180,m=2451545+c+.0053*Math.sin(h)-.0069*Math.sin(2*d),p=Math.sin(d)*Math.sin(23.44*Math.PI/180),f=Math.cos(Math.asin(p)),g=t*Math.PI/180,x=(Math.sin(-.833*Math.PI/180)-Math.sin(g)*p)/(Math.cos(g)*f);if(x>1)return{sunrise:"No Sunrise",sunset:"No Sunset"};if(x<-1)return{sunrise:"Midnight Sun",sunset:"Midnight Sun"};const y=180*Math.acos(x)/Math.PI,b=m+y/360,v=e=>{const t=new Date(864e5*(e-2440587.5)),a=t.getHours(),n=t.getMinutes(),r=t.getSeconds();return`${a.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`};return{sunrise:v(m-y/360),sunset:v(b)}},ut=(e,t,a,n)=>{const r=e=>{for(;e<0;)e+=360;for(;e>=360;)e-=360;return e},o=e=>e*Math.PI/180,i=e=>{const t=e-2451545,a=r(218.316+13.176396*t),n=r(134.963+13.064993*t),i=r(93.272+13.22935*t),s=r(a+6.289*Math.sin(o(n))),l=5.128*Math.sin(o(i)),c=o(23.439),u=o(s),h=o(l),d=Math.atan2(Math.sin(u)*Math.cos(c)-Math.tan(h)*Math.sin(c),Math.cos(u)),m=Math.asin(Math.sin(h)*Math.cos(c)+Math.cos(h)*Math.sin(c)*Math.sin(u));return{ra:(180*d/Math.PI<0?180*d/Math.PI+360:180*d/Math.PI)/15,dec:180*m/Math.PI}},s=(e,t)=>{const a=(e-2451545)/36525;let n=280.46061837+360.98564736629*(e-2451545)+387933e-9*a*a-a*a*a/3871e4;n=r(n);return r(n+t)/15},l=(e,t)=>{const a=o(e),n=o(t),r=o(-.583),i=(Math.sin(r)-Math.sin(a)*Math.sin(n))/(Math.cos(a)*Math.cos(n));return i>1||i<-1?null:180*Math.acos(i)/Math.PI/15},c=e.getFullYear(),u=e.getMonth()+1,h=e.getDate(),d=Math.floor((14-u)/12),m=c+4800-d,p=u+12*d-3,f=h+Math.floor((153*p+2)/5)+365*m+Math.floor(m/4)-Math.floor(m/100)+Math.floor(m/400)-32045-.5;let g=f;for(let b=0;b<3;b++){const e=i(g),n=l(t,e.dec);if(null===n)return{moonrise:"No Moonrise",moonset:"No Moonset"};const o=s(g,a);let c=r(15*(e.ra-n-o))/360;c<0&&(c+=1),g=f+c}let x=f;for(let b=0;b<3;b++){const e=i(x),n=l(t,e.dec);if(null===n)return{moonrise:"No Moonrise",moonset:"No Moonset"};const o=s(x,a);let c=r(15*(e.ra+n-o))/360;c<0&&(c+=1),x=f+c}const y=e=>{const t=new Date(864e5*(e-2440587.5)),a=t.getHours(),n=t.getMinutes(),r=t.getSeconds();return`${a.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`};return{moonrise:y(g),moonset:y(x)}},ht=(e,t)=>{const a=Date.UTC(2e3,0,1,12,0,0);let n=e-(23.85+.01397*((t.getTime()-a)/864e5/365.25));n<0&&(n+=360);return["Ashwini","Bharani","Krittika","Rohini","Mrigashira","Ardra","Punarvasu","Pushya","Ashlesha","Magha","Purva Phalguni","Uttara Phalguni","Hasta","Chitra","Swati","Vishakha","Anuradha","Jyeshtha","Mula","Purva Ashadha","Uttara Ashadha","Shravana","Dhanishta","Shatabhisha","Purva Bhadrapada","Uttara Bhadrapada","Revati"][Math.floor(n/13.333333)%27]},dt={"America/New_York":{lat:40.7128,lon:-74.006,name:"New York"},"America/Chicago":{lat:41.8781,lon:-87.6298,name:"Chicago"},"America/Denver":{lat:39.7392,lon:-104.9903,name:"Denver"},"America/Los_Angeles":{lat:34.0522,lon:-118.2437,name:"Los Angeles"},"America/Toronto":{lat:43.6532,lon:-79.3832,name:"Toronto"},"America/Vancouver":{lat:49.2827,lon:-123.1207,name:"Vancouver"},"America/Mexico_City":{lat:19.4326,lon:-99.1332,name:"Mexico City"},"Europe/London":{lat:51.5074,lon:-.1278,name:"London"},"Europe/Paris":{lat:48.8566,lon:2.3522,name:"Paris"},"Europe/Berlin":{lat:52.52,lon:13.405,name:"Berlin"},"Europe/Rome":{lat:41.9028,lon:12.4964,name:"Rome"},"Europe/Madrid":{lat:40.4168,lon:-3.7038,name:"Madrid"},"Europe/Moscow":{lat:55.7558,lon:37.6173,name:"Moscow"},"Europe/Istanbul":{lat:41.0082,lon:28.9784,name:"Istanbul"},"Asia/Dubai":{lat:25.2048,lon:55.2708,name:"Dubai"},"Asia/Kolkata":{lat:28.6139,lon:77.209,name:"Delhi"},"Asia/Calcutta":{lat:28.6139,lon:77.209,name:"Delhi"},"Asia/Mumbai":{lat:19.076,lon:72.8777,name:"Mumbai"},"Asia/Dhaka":{lat:23.8103,lon:90.4125,name:"Dhaka"},"Asia/Bangkok":{lat:13.7563,lon:100.5018,name:"Bangkok"},"Asia/Singapore":{lat:1.3521,lon:103.8198,name:"Singapore"},"Asia/Hong_Kong":{lat:22.3193,lon:114.1694,name:"Hong Kong"},"Asia/Shanghai":{lat:31.2304,lon:121.4737,name:"Shanghai"},"Asia/Tokyo":{lat:35.6762,lon:139.6503,name:"Tokyo"},"Asia/Seoul":{lat:37.5665,lon:126.978,name:"Seoul"},"Asia/Karachi":{lat:24.8607,lon:67.0011,name:"Karachi"},"Asia/Tehran":{lat:35.6892,lon:51.389,name:"Tehran"},"Asia/Jerusalem":{lat:31.7683,lon:35.2137,name:"Jerusalem"},"Asia/Riyadh":{lat:24.7136,lon:46.6753,name:"Riyadh"},"Asia/Kuwait":{lat:29.3759,lon:47.9774,name:"Kuwait City"},"Asia/Bahrain":{lat:26.0667,lon:50.5577,name:"Manama"},"Asia/Qatar":{lat:25.2854,lon:51.531,name:"Doha"},"Asia/Muscat":{lat:23.588,lon:58.3829,name:"Muscat"},"Asia/Kathmandu":{lat:27.7172,lon:85.324,name:"Kathmandu"},"Asia/Colombo":{lat:6.9271,lon:79.8612,name:"Colombo"},"Asia/Yangon":{lat:16.8661,lon:96.1951,name:"Yangon"},"Asia/Manila":{lat:14.5995,lon:120.9842,name:"Manila"},"Asia/Jakarta":{lat:-6.2088,lon:106.8456,name:"Jakarta"},"Asia/Kuala_Lumpur":{lat:3.139,lon:101.6869,name:"Kuala Lumpur"},"Asia/Ho_Chi_Minh":{lat:10.8231,lon:106.6297,name:"Ho Chi Minh City"},"Asia/Taipei":{lat:25.033,lon:121.5654,name:"Taipei"},"Australia/Sydney":{lat:-33.8688,lon:151.2093,name:"Sydney"},"Australia/Melbourne":{lat:-37.8136,lon:144.9631,name:"Melbourne"},"Australia/Perth":{lat:-31.9505,lon:115.8605,name:"Perth"},"Australia/Brisbane":{lat:-27.4698,lon:153.0251,name:"Brisbane"},"Australia/Adelaide":{lat:-34.9285,lon:138.6007,name:"Adelaide"},"Pacific/Auckland":{lat:-36.8485,lon:174.7633,name:"Auckland"},"Pacific/Fiji":{lat:-18.1416,lon:178.4419,name:"Suva"},"Pacific/Honolulu":{lat:21.3099,lon:-157.8581,name:"Honolulu"},"America/Sao_Paulo":{lat:-23.5505,lon:-46.6333,name:"São Paulo"},"America/Buenos_Aires":{lat:-34.6037,lon:-58.3816,name:"Buenos Aires"},"America/Bogota":{lat:4.711,lon:-74.0721,name:"Bogotá"},"America/Lima":{lat:-12.0464,lon:-77.0428,name:"Lima"},"America/Santiago":{lat:-33.4489,lon:-70.6693,name:"Santiago"},"America/Caracas":{lat:10.4806,lon:-66.9036,name:"Caracas"},"Africa/Cairo":{lat:30.0444,lon:31.2357,name:"Cairo"},"Africa/Johannesburg":{lat:-26.2041,lon:28.0473,name:"Johannesburg"},"Africa/Lagos":{lat:6.5244,lon:3.3792,name:"Lagos"},"Africa/Nairobi":{lat:-1.2864,lon:36.8172,name:"Nairobi"},"Africa/Casablanca":{lat:33.5731,lon:-7.5898,name:"Casablanca"},"Africa/Algiers":{lat:36.7538,lon:3.0588,name:"Algiers"},"Africa/Tunis":{lat:36.8065,lon:10.1815,name:"Tunis"},"Africa/Addis_Ababa":{lat:9.032,lon:38.7469,name:"Addis Ababa"}},mt=40.7128,pt=-74.006,ft="New York",gt=()=>{const[e,t]=a.useState((()=>{const e=Intl.DateTimeFormat().resolvedOptions().timeZone,t=dt[e];return t?{latitude:t.lat,longitude:t.lon,name:t.name}:{latitude:mt,longitude:pt,name:ft}})());return{location:e,setLocation:a.useCallback(e=>{t(e)},[])}},xt=a.memo(()=>{const[e,t]=a.useState(new Date),[r,o]=a.useState(!0),[i,s]=a.useState(!0),[l,c]=a.useState(!0),[u,h]=a.useState(!0),[d,m]=a.useState(.5),[p,f]=a.useState(.8),[g,x]=a.useState(500),[y,b]=a.useState(!1),[v,w]=a.useState(!0),[j,A]=a.useState(!0),[M,S]=a.useState(!0),[T,C]=a.useState(!1),[N,k]=a.useState(!0),[P,F]=a.useState(!0),[L,E]=a.useState(!1),[B,z]=a.useState(!0),[O,R]=a.useState(!0),[D,I]=a.useState(!0),[H,G]=a.useState(1),[_,U]=a.useState(!1),{location:K,setLocation:V}=gt();(({isLive:e,timeSpeed:t,date:n,onDateChange:r})=>{const o=a.useRef(n),i=a.useRef(performance.now());a.useEffect(()=>{o.current=n},[n]),a.useEffect(()=>{if(!e)return;let n;const s=1e3/60,l=()=>{const e=performance.now(),c=e-i.current;if(c>=s){const n=c/1e3*t*1e3,s=new Date(o.current.getTime()+n);o.current=s,a.startTransition(()=>{r(s)}),i.current=e}n=requestAnimationFrame(l)};return n=requestAnimationFrame(l),()=>{n&&cancelAnimationFrame(n)}},[e,t,r])})({isLive:T,timeSpeed:H,date:e,onDateChange:t});const W=a.useRef(null),$=a.useRef(null),Y=a.useDeferredValue(e);(e=>{a.useMemo(()=>[...ze(e),Oe(e),Re(e)],[e])})(Y);const X=a.useMemo(()=>[...ze(Y),Oe(Y),Re(Y)],[Y]),q=a.useCallback(e=>{var t,a;if(!$.current)return;const n=$.current;switch(e.type){case"zoom":if(e.zoomDelta&&!y){const a=Math.max(5,Math.min(500,g-e.zoomDelta));if(x(a),n.object){const a=n.object,r=e.zoomDelta/200,o=r>0?Math.min(.2,r):Math.max(-.08,r),i=Math.exp(o);a.position.multiplyScalar(i),null==(t=n.update)||t.call(n)}}break;case"rotate":if(e.rotateDelta){const t=1.5;if(n.getAzimuthalAngle&&n.getPolarAngle){const a=n.getAzimuthalAngle(),r=n.getPolarAngle();n.minAzimuthAngle=a+e.rotateDelta.x*t,n.maxAzimuthAngle=a+e.rotateDelta.x*t,n.minPolarAngle=Math.max(0,r+e.rotateDelta.y*t),n.maxPolarAngle=Math.min(Math.PI,r+e.rotateDelta.y*t),setTimeout(()=>{n.minAzimuthAngle=-1/0,n.maxAzimuthAngle=1/0,n.minPolarAngle=0,n.maxPolarAngle=Math.PI},0)}null==(a=n.update)||a.call(n)}}},[g,y]),Z=`hsl(230, 30%, ${4+15*(1-p)}%)`,J=`hsl(230, 25%, ${6+18*(1-p)}%)`,Q=a.useCallback((t,a=1,n=1)=>{const o=700,s=742.5,c=Math.min(1190,1262.25)/2,u=700,h=2227.5,m=(e,t,a,n=!1)=>{let r=e[0],o=e[1],i=e[2];if(n&&(o=-o,r=-r,i=-i),o<0)return null;const s=Math.sqrt(r*r+i*i),l=Math.atan2(o,s),u=Math.atan2(r,i),h=(Math.PI/2-l)*(c/(Math.PI/2));return{x:t+h*Math.sin(u),y:a-h*Math.cos(u)}},p=[],f=[],g=[],x=[],y=[],b=[],w=[],j=[],A=[];if(r){for(let t=0;t<=90;t+=15){const e=t*Math.PI/180,a=(Math.PI/2-e)*(c/(Math.PI/2));x.push('  <circle cx="'+o.toFixed(2)+'" cy="'+s.toFixed(2)+'" r="'+a.toFixed(2)+'" class="grid-circle"/>'),t>0&&t<90&&j.push('  <text x="'+(o+a+5).toFixed(2)+'" y="'+(s-3).toFixed(2)+'" class="alt-label">'+t+"°</text>")}const e=["N","NE","E","SE","S","SW","W","NW"];[0,45,90,135,180,225,270,315].forEach((t,a)=>{const n=t*Math.PI/180,r=o,i=s,l=o+c*Math.sin(n),u=s-c*Math.cos(n);x.push('  <line x1="'+r.toFixed(2)+'" y1="'+i.toFixed(2)+'" x2="'+l.toFixed(2)+'" y2="'+u.toFixed(2)+'" class="grid-line"/>');const h=c+25,d=o+h*Math.sin(n),m=s-h*Math.cos(n);j.push('  <text x="'+d.toFixed(2)+'" y="'+(m+3).toFixed(2)+'" class="azimuth-label">'+e[a]+"</text>")})}if(r){for(let t=0;t<=90;t+=15){const e=t*Math.PI/180,a=(Math.PI/2-e)*(c/(Math.PI/2));y.push('  <circle cx="'+u.toFixed(2)+'" cy="'+h.toFixed(2)+'" r="'+a.toFixed(2)+'" class="grid-circle"/>'),t>0&&t<90&&A.push('  <text x="'+(u+a+5).toFixed(2)+'" y="'+(h-3).toFixed(2)+'" class="alt-label">'+t+"°</text>")}const e=["N","NE","E","SE","S","SW","W","NW"];[0,45,90,135,180,225,270,315].forEach((t,a)=>{const n=t*Math.PI/180,r=u,o=h,i=u+c*Math.sin(n),s=h-c*Math.cos(n);y.push('  <line x1="'+r.toFixed(2)+'" y1="'+o.toFixed(2)+'" x2="'+i.toFixed(2)+'" y2="'+s.toFixed(2)+'" class="grid-line"/>');const l=c+25,d=u+l*Math.sin(n),m=h-l*Math.cos(n);A.push('  <text x="'+d.toFixed(2)+'" y="'+(m+3).toFixed(2)+'" class="azimuth-label">'+e[a]+"</text>")})}Me.forEach(t=>{const a=De(t.ra,t.dec,e,K.latitude,K.longitude,100);if(!N&&a[1]>0||!P&&a[1]<0);else{const e=m(a,o,s),n=Math.max(2,6-.8*t.magnitude),r=Te(t.spectralType);e&&(f.push('  <circle cx="'+e.x.toFixed(2)+'" cy="'+e.y.toFixed(2)+'" r="'+n.toFixed(1)+'" fill="'+r+'" class="star"/>'),l&&t.magnitude<2.5&&j.push('  <text x="'+(e.x+n+4).toFixed(2)+'" y="'+(e.y+4).toFixed(2)+'" class="star-label">'+t.name+"</text>"))}const n=De(t.ra,t.dec,e,K.latitude,K.longitude,100);if(!N&&n[1]>0||!P&&n[1]<0);else{const e=m(n,u,h,!0),a=Math.max(2,6-.8*t.magnitude),r=Te(t.spectralType);e&&(g.push('  <circle cx="'+e.x.toFixed(2)+'" cy="'+e.y.toFixed(2)+'" r="'+a.toFixed(1)+'" fill="'+r+'" class="star"/>'),l&&t.magnitude<2.5&&A.push('  <text x="'+(e.x+a+4).toFixed(2)+'" y="'+(e.y+4).toFixed(2)+'" class="star-label">'+t.name+"</text>"))}});const M=ze(e),S=Oe(e),T=Re(e),C=[...M,S,T];if(C.forEach(t=>{const a=De(t.ra,t.dec,e,K.latitude,K.longitude,100);if(!N&&a[1]>0||!P&&a[1]<0)return;const n=m(a,o,s),r="Sun"===t.name?14:"Moon"===t.name?12:8;n&&(f.push('  <circle cx="'+n.x.toFixed(2)+'" cy="'+n.y.toFixed(2)+'" r="'+r+'" fill="'+t.color+'" class="planet"/>'),l&&j.push('  <text x="'+(n.x+r+5).toFixed(2)+'" y="'+(n.y+5).toFixed(2)+'" class="planet-label" fill="'+t.color+'">'+t.name+"</text>"))}),C.forEach(t=>{const a=De(t.ra,t.dec,e,K.latitude,K.longitude,100);if(!N&&a[1]>0||!P&&a[1]<0)return;const n=m(a,u,h,!0),r="Sun"===t.name?14:"Moon"===t.name?12:8;n&&(g.push('  <circle cx="'+n.x.toFixed(2)+'" cy="'+n.y.toFixed(2)+'" r="'+r+'" fill="'+t.color+'" class="planet"/>'),l&&A.push('  <text x="'+(n.x+r+5).toFixed(2)+'" y="'+(n.y+5).toFixed(2)+'" class="planet-label" fill="'+t.color+'">'+t.name+"</text>"))}),i){const t=new Map(Me.map(e=>[e.name,e])),a=[],n=[];Se.forEach(r=>{const i=new Set;r.starNames.forEach(([e,t])=>{i.add(e),e!==t&&i.add(t)});const l=[];if(i.forEach(a=>{const n=t.get(a);if(n){const t=De(n.ra,n.dec,e,K.latitude,K.longitude,100);if((N||t[1]<=0)&&(P||t[1]>=0)){const e=m(t,o,s);e&&l.push(e)}}}),l.length>0){const e=l.reduce((e,t)=>e+t.x,0)/l.length,t=l.reduce((e,t)=>e+t.y,0)/l.length;a.push({name:r.name,x:e,y:t})}const c=[];if(i.forEach(a=>{const n=t.get(a);if(n){const t=De(n.ra,n.dec,e,K.latitude,K.longitude,100);if((N||t[1]<=0)&&(P||t[1]>=0)){const e=m(t,u,h,!0);e&&c.push(e)}}}),c.length>0){const e=c.reduce((e,t)=>e+t.x,0)/c.length,t=c.reduce((e,t)=>e+t.y,0)/c.length;n.push({name:r.name,x:e,y:t})}r.starNames.forEach(([a,n])=>{const r=t.get(a),i=t.get(n);if(r&&i){const t=De(r.ra,r.dec,e,K.latitude,K.longitude,100),a=De(i.ra,i.dec,e,K.latitude,K.longitude,100),n=(N||t[1]<=0)&&(P||t[1]>=0),l=(N||a[1]<=0)&&(P||a[1]>=0);if(n&&l){const e=m(t,o,s),n=m(a,o,s);e&&n&&b.push('  <line x1="'+e.x.toFixed(2)+'" y1="'+e.y.toFixed(2)+'" x2="'+n.x.toFixed(2)+'" y2="'+n.y.toFixed(2)+'" class="constellation-line"/>')}const c=De(r.ra,r.dec,e,K.latitude,K.longitude,100),d=De(i.ra,i.dec,e,K.latitude,K.longitude,100),p=(N||c[1]<=0)&&(P||c[1]>=0),f=(N||d[1]<=0)&&(P||d[1]>=0);if(p&&f){const e=m(c,u,h,!0),t=m(d,u,h,!0);e&&t&&w.push('  <line x1="'+e.x.toFixed(2)+'" y1="'+e.y.toFixed(2)+'" x2="'+t.x.toFixed(2)+'" y2="'+t.y.toFixed(2)+'" class="constellation-line"/>')}}})}),v&&(a.forEach(e=>{j.push('  <text x="'+e.x.toFixed(2)+'" y="'+e.y.toFixed(2)+'" class="constellation-label">'+e.name+"</text>")}),n.forEach(e=>{A.push('  <text x="'+e.x.toFixed(2)+'" y="'+e.y.toFixed(2)+'" class="constellation-label">'+e.name+"</text>")}))}p.push('<?xml version="1.0" encoding="UTF-8"?>'),p.push('<svg xmlns="http://www.w3.org/2000/svg" width="2100" height="2970" viewBox="0 0 2100 2970">'),p.push("  <defs>"),p.push("    <style>"),p.push("      .grid-circle { stroke: #1e3a5f; stroke-width: 0.5; fill: none; opacity: "+.5*d+"; }"),p.push("      .grid-line { stroke: #1e3a5f; stroke-width: 0.5; fill: none; opacity: "+.5*d+"; }"),p.push("      .constellation-line { stroke: #4a6fa5; stroke-width: 1; stroke-dasharray: 4,3; fill: none; opacity: 0.6; }"),p.push("      .star { filter: drop-shadow(0 0 1px rgba(255,255,255,0.3)); }"),p.push("      .planet { filter: drop-shadow(0 0 3px rgba(255,255,255,0.6)); }"),p.push('      .star-label { font-family: "Space Mono", monospace; font-size: '+10*a+"px; fill: #aabbcc; }"),p.push('      .planet-label { font-family: "Orbitron", sans-serif; font-size: '+12*a+"px; font-weight: bold; }"),p.push('      .constellation-label { font-family: "Orbitron", sans-serif; font-size: '+11*a+"px; fill: #4a9eff; font-weight: bold; text-anchor: middle; }"),p.push('      .alt-label { font-family: "Space Mono", monospace; font-size: '+8*a+"px; fill: #6b8cba; opacity: 0.6; }"),p.push('      .azimuth-label { font-family: "Orbitron", sans-serif; font-size: '+14*a+"px; fill: #6b8cba; font-weight: bold; text-anchor: middle; }"),p.push('      .nakshatra-title { font-family: "Orbitron", sans-serif; font-size: '+28*n+"px; fill: #f59e0b; font-weight: bold; }"),p.push('      .nakshatra-planet { font-family: "Space Mono", monospace; font-size: '+20*n+"px; fill: #e5e7eb; }"),p.push('      .nakshatra-name { font-family: "Space Mono", monospace; font-size: '+22*n+"px; fill: #fbbf24; font-weight: bold; }"),p.push("    </style>"),p.push("  </defs>");const k="#0a0a1a";p.push('  <rect width="2100" height="2970" fill="'+k+'"/>'),p.push('  <rect width="1400" height="2970" fill="'+k+'"/>'),p.push('  <rect x="1400" width="700" height="2970" fill="#0f0f20" stroke="#2a4a7f" stroke-width="2"/>'),p.push('  <circle cx="'+o.toFixed(2)+'" cy="'+s.toFixed(2)+'" r="'+c.toFixed(2)+'" fill="none" stroke="#2a4a7f" stroke-width="3"/>'),p.push('  <circle cx="'+u.toFixed(2)+'" cy="'+h.toFixed(2)+'" r="'+c.toFixed(2)+'" fill="none" stroke="#2a4a7f" stroke-width="3"/>'),p.push("  \x3c!-- First Sky Map --\x3e"),p.push(...x),p.push(...b),p.push(...f),p.push(...j),p.push("  \x3c!-- First Map Title --\x3e"),p.push('  <text x="100" y="100" font-family="Orbitron, sans-serif" font-size="36" fill="#4a90d9" font-weight="bold">Sky Map - Above Horizon</text>'),p.push('  <text x="100" y="145" font-family="Space Mono, monospace" font-size="22" fill="#6b7280">'+e.toISOString().split("T")[0]+" "+e.toTimeString().split(" ")[0]+"</text>"),t!==`${K.latitude.toFixed(2)}°, ${K.longitude.toFixed(2)}°`?(p.push('  <text x="100" y="180" font-family="Space Mono, monospace" font-size="20" fill="#6b7280">Location: '+t+"</text>"),p.push('  <text x="100" y="210" font-family="Space Mono, monospace" font-size="20" fill="#6b7280">Coordinates: '+K.latitude.toFixed(2)+"°, "+K.longitude.toFixed(2)+"°</text>")):p.push('  <text x="100" y="180" font-family="Space Mono, monospace" font-size="20" fill="#6b7280">Coordinates: '+K.latitude.toFixed(2)+"°, "+K.longitude.toFixed(2)+"°</text>"),p.push("  \x3c!-- Separator --\x3e"),p.push('  <line x1="0" y1="1485" x2="1400" y2="1485" stroke="#2a4a7f" stroke-width="3"/>'),p.push("  \x3c!-- Second Sky Map --\x3e"),p.push(...y),p.push(...w),p.push(...g),p.push(...A),p.push("  \x3c!-- Second Map Title --\x3e");p.push('  <text x="100" y="1585" font-family="Orbitron, sans-serif" font-size="36" fill="#4a90d9" font-weight="bold">Sky Map - Below Horizon</text>'),p.push('  <text x="100" y="1630" font-family="Space Mono, monospace" font-size="22" fill="#6b7280">'+e.toISOString().split("T")[0]+" "+e.toTimeString().split(" ")[0]+"</text>"),t!==`${K.latitude.toFixed(2)}°, ${K.longitude.toFixed(2)}°`?(p.push('  <text x="100" y="1665" font-family="Space Mono, monospace" font-size="20" fill="#6b7280">Location: '+t+"</text>"),p.push('  <text x="100" y="1695" font-family="Space Mono, monospace" font-size="20" fill="#6b7280">Coordinates: '+K.latitude.toFixed(2)+"°, "+K.longitude.toFixed(2)+"°</text>")):p.push('  <text x="100" y="1665" font-family="Space Mono, monospace" font-size="20" fill="#6b7280">Coordinates: '+K.latitude.toFixed(2)+"°, "+K.longitude.toFixed(2)+"°</text>");let F=120;p.push("  \x3c!-- Nakshatra Panel --\x3e"),p.push('  <text x="1480" y="'+F+'" class="nakshatra-title">PLANETARY NAKSHATRAS</text>'),F+=60;C.forEach(t=>{const a=_e(t.ra,t.dec,t.eclipticLongitude,e);p.push('  <circle cx="1510" cy="'+(F-5)+'" r="8" fill="'+t.color+'"/>'),p.push('  <text x="1530" y="'+F+'" class="nakshatra-planet">'+t.name+"</text>"),p.push('  <text x="1990" y="'+F+'" class="nakshatra-name" text-anchor="end">'+a.toUpperCase()+"</text>"),F+=38});const L=((e,t,a)=>{const n=t.eclipticLongitude||0;let r=(a.eclipticLongitude||0)-n;r<0&&(r+=360);let o="";return o=r<45?"New Moon":r<90?"Waxing Crescent":r<135?"First Quarter":r<180?"Waxing Gibbous":r<225?"Full Moon":r<270?"Waning Gibbous":r<315?"Last Quarter":"Waning Crescent",{phaseName:o,illumination:50*(1-Math.cos(r*Math.PI/180)),elongation:r}})(0,T,S),E=((e,t,a)=>{let n=a-t;n<0&&(n+=360);const r=Math.floor(n/12)+1;return`${["Pratipada","Dwitiya","Tritiya","Chaturthi","Panchami","Shashthi","Saptami","Ashtami","Navami","Dashami","Ekadashi","Dwadashi","Trayodashi","Chaturdashi","Purnima/Amavasya"][r<=15?r-1:r-16]} (${r<=15?"Shukla":"Krishna"})`})(0,T.eclipticLongitude,S.eclipticLongitude),B=ct(e,K.latitude,K.longitude),z=ut(e,K.latitude,K.longitude),O=((e,t,a)=>{const n=Date.UTC(2e3,0,1,12,0,0);let r=360-(a.getTime()-n)/864e5/365.25*19.3%360;r<0&&(r+=360);const o=(r+180)%360;return{rahuNakshatra:ht(r,a),ketuNakshatra:ht(o,a)}})(0,0,e);F+=60,p.push('  <text x="1480" y="'+F+'" font-family="Orbitron, sans-serif" font-size="18" fill="#f59e0b" font-weight="bold">LUNAR INFORMATION</text>'),F+=35,p.push('  <text x="1500" y="'+F+'" class="nakshatra-planet">Moon Phase</text>'),p.push('  <text x="1990" y="'+F+'" class="nakshatra-name" text-anchor="end">'+L.phaseName.toUpperCase()+"</text>"),F+=30,p.push('  <text x="1500" y="'+F+'" class="nakshatra-planet">Illumination</text>'),p.push('  <text x="1990" y="'+F+'" class="nakshatra-name" text-anchor="end">'+L.illumination.toFixed(1)+"%</text>"),F+=30,p.push('  <text x="1500" y="'+F+'" class="nakshatra-planet">Tithi (Lunar Day)</text>'),p.push('  <text x="1990" y="'+F+'" class="nakshatra-name" text-anchor="end">'+E.toUpperCase()+"</text>"),F+=50,p.push('  <text x="1480" y="'+F+'" font-family="Orbitron, sans-serif" font-size="18" fill="#f59e0b" font-weight="bold">LUNAR NODES</text>'),F+=35,p.push('  <circle cx="1510" cy="'+(F-5)+'" r="8" fill="#e74c3c"/>'),p.push('  <text x="1530" y="'+F+'" class="nakshatra-planet">Rahu (North Node)</text>'),p.push('  <text x="1990" y="'+F+'" class="nakshatra-name" text-anchor="end">'+O.rahuNakshatra.toUpperCase()+"</text>"),F+=35,p.push('  <circle cx="1510" cy="'+(F-5)+'" r="8" fill="#8e44ad"/>'),p.push('  <text x="1530" y="'+F+'" class="nakshatra-planet">Ketu (South Node)</text>'),p.push('  <text x="1990" y="'+F+'" class="nakshatra-name" text-anchor="end">'+O.ketuNakshatra.toUpperCase()+"</text>"),F+=50,p.push('  <text x="1480" y="'+F+'" font-family="Orbitron, sans-serif" font-size="18" fill="#f59e0b" font-weight="bold">SUN &amp; MOON TIMES</text>'),F+=35,p.push('  <text x="1500" y="'+F+'" class="nakshatra-planet">Sunrise</text>'),p.push('  <text x="1990" y="'+F+'" class="nakshatra-name" text-anchor="end">'+B.sunrise+"</text>"),F+=30,p.push('  <text x="1500" y="'+F+'" class="nakshatra-planet">Sunset</text>'),p.push('  <text x="1990" y="'+F+'" class="nakshatra-name" text-anchor="end">'+B.sunset+"</text>"),F+=30,p.push('  <text x="1500" y="'+F+'" class="nakshatra-planet">Moonrise</text>'),p.push('  <text x="1990" y="'+F+'" class="nakshatra-name" text-anchor="end">'+z.moonrise+"</text>"),F+=30,p.push('  <text x="1500" y="'+F+'" class="nakshatra-planet">Moonset</text>'),p.push('  <text x="1990" y="'+F+'" class="nakshatra-name" text-anchor="end">'+z.moonset+"</text>"),F+=90;return p.push('  <line x1="1480" y1="'+(F-40)+'" x2="2000" y2="'+(F-40)+'" stroke="#4a6fa5" stroke-width="1"/>'),p.push('  <text x="1480" y="'+F+'" font-family="Orbitron, sans-serif" font-size="20" fill="#6b8cba" font-weight="bold">About Nakshatras</text>'),F+=36,p.push('  <text x="1480" y="'+F+'" font-family="Space Mono, monospace" font-size="15" fill="#9ca3af">Nakshatras are 27 lunar mansions in Vedic</text>'),F+=26,p.push('  <text x="1480" y="'+F+'" font-family="Space Mono, monospace" font-size="15" fill="#9ca3af">astrology, each spanning 13°20\' of the</text>'),F+=26,p.push('  <text x="1480" y="'+F+'" font-family="Space Mono, monospace" font-size="15" fill="#9ca3af">sidereal zodiac. Calculated using Lahiri</text>'),F+=26,p.push('  <text x="1480" y="'+F+'" font-family="Space Mono, monospace" font-size="15" fill="#9ca3af">Ayanamsa for accurate sidereal positions.</text>'),p.push("</svg>"),p.join("\n")},[e,r,i,l,v,d,p,K,N,P]),ee=a.useCallback((t,a,n=1,r=1)=>{const o=t.trim()||`${K.latitude.toFixed(2)}°, ${K.longitude.toFixed(2)}°`,i=Q(o,n,r),s="skymap-"+e.toISOString().split("T")[0];if("svg"===a){const e=new Blob([i],{type:"image/svg+xml"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download=s+".svg",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t)}else{const e=(new DOMParser).parseFromString(i,"image/svg+xml").documentElement,t=new we({orientation:"portrait",unit:"pt",format:"a4"});je(e,t,{x:0,y:0,width:t.internal.pageSize.getWidth(),height:t.internal.pageSize.getHeight()}).then(()=>{t.save(s+".pdf")})}},[e,K,Q]),te=a.useCallback(()=>{U(!0)},[]);return n.jsxs("div",{className:"relative w-full h-screen bg-background",children:[n.jsx(Qe,{date:e,onDateChange:t,showGrid:r,onShowGridChange:o,showConstellations:i,onShowConstellationsChange:s,showLabels:l,onShowLabelsChange:c,showConstellationLabels:v,onShowConstellationLabelsChange:w,showGlow:u,onShowGlowChange:h,gridOpacity:d,onGridOpacityChange:m,skyDarkness:p,onSkyDarknessChange:f,zoomLevel:g,onZoomLevelChange:x,location:K,onLocationChange:V,onExportSVG:te,firstPersonMode:y,onFirstPersonModeChange:b,showNakshatraPanel:j,showSunMoonPanel:M,onShowSunMoonPanelChange:S,onShowNakshatraPanelChange:A,isLive:T,onLiveModeChange:C,showAboveHorizon:N,onShowAboveHorizonChange:k,showBelowHorizon:P,onShowBelowHorizonChange:F,showNakshatraRings:L,onShowNakshatraRingsChange:E,showHorizonLine:B,onShowHorizonLineChange:z,showEquatorLine:O,onShowEquatorLineChange:R,showEclipticLine:D,onShowEclipticLineChange:I,timeSpeed:H,onTimeSpeedChange:G}),n.jsx(xe,{ref:W,camera:{position:[0,50,g],fov:60,near:.1,far:1e3},style:{background:`linear-gradient(to bottom, ${Z} 0%, ${J} 100%)`},children:n.jsx(Xe,{date:Y,showGrid:r,showConstellations:i,showLabels:l,showConstellationLabels:v,showGlow:u,gridOpacity:d,zoomLevel:g,location:K,firstPersonMode:y,showAboveHorizon:N,showBelowHorizon:P,showNakshatraRings:L,showHorizonLine:B,showEquatorLine:O,showEclipticLine:D,controlsRef:$})}),n.jsx(lt,{onGesture:q}),(j||M)&&n.jsx(rt,{planets:X,date:e,location:K,showNakshatra:j,showSunMoon:M,calculateSunriseSunset:ct,calculateMoonriseMoonset:ut}),_&&n.jsx(ot,{open:_,onOpenChange:U,defaultLocation:"Current Location"!==K.name?K.name:"",onExport:ee,previewGenerator:Q})]})}),yt=()=>n.jsx(xt,{}),bt=()=>{const e=o();return a.useEffect(()=>{},[e.pathname]),n.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),n.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),n.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},vt=new ee({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:3e5}}}),wt=()=>n.jsx(Ae,{children:n.jsx(te,{client:vt,children:n.jsxs(Z,{children:[n.jsx(J,{}),n.jsx(Q,{}),n.jsx(i,{children:n.jsxs(s,{children:[n.jsx(l,{path:"/",element:n.jsx(yt,{})}),n.jsx(l,{path:"*",element:n.jsx(bt,{})})]})})]})})});c(document.getElementById("root")).render(n.jsx(wt,{})),setTimeout(()=>{const e=document.getElementById("app-loader");e&&(e.classList.add("loaded"),setTimeout(()=>e.remove(),500))},100);export{Oe as c,_e as g};
