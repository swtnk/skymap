import{r as e,j as s}from"./react-vendor-C1GrfEZv.js";import{c as t,a as n,g as r,b as a}from"./index-uz1lFnx-.js";import"./map-vendor-CHlrju8F.js";import"./ui-vendor-OgCK2gqk.js";import"./routing-vendor-G-wN6Vug.js";import"./three-vendor-Qe0Rsjzz.js";import"./pdf-vendor-CkrsEDIA.js";function o({planets:o,date:i,location:l,showNakshatra:d,showSunMoon:c,calculateSunriseSunset:x,calculateMoonriseMoonset:m}){const[h,u]=e.useState({x:window.innerWidth-304,y:16}),[p,b]=e.useState(!1),[g,f]=e.useState({x:0,y:0}),[j,N]=e.useState(!0),v=e.useRef(null),w=e.useMemo(()=>{if(!c)return null;const e=x(i,l.latitude,l.longitude),s=t(i),a=n(i);return{sunTimes:e,moonTimes:m(i,l.latitude,l.longitude,a),sunRashi:r(s.eclipticLongitude,i),moonRashi:r(a.eclipticLongitude,i)}},[i,l.latitude,l.longitude,c,x,m]);return e.useEffect(()=>{const e=e=>{var s,t;if(p){const n=e.clientX-g.x,r=e.clientY-g.y,a=window.innerWidth-((null==(s=v.current)?void 0:s.offsetWidth)||288),o=window.innerHeight-((null==(t=v.current)?void 0:t.offsetHeight)||200);u({x:Math.max(0,Math.min(n,a)),y:Math.max(0,Math.min(r,o))})}},s=()=>{b(!1)};return p&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",s)),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",s)}},[p,g]),d||c?s.jsx("div",{ref:v,className:"fixed z-[99997] w-72",style:{left:`${h.x}px`,top:`${h.y}px`,cursor:p?"grabbing":"default"},children:s.jsxs("div",{className:"bg-black/30 backdrop-blur-xl border border-white/20 rounded-lg shadow-2xl overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-white/20 bg-white/5 flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 cursor-grab active:cursor-grabbing",onMouseDown:e=>{if(v.current){const s=v.current.getBoundingClientRect();f({x:e.clientX-s.left,y:e.clientY-s.top}),b(!0)}},children:[s.jsxs("h3",{className:"font-orbitron text-sm font-semibold text-white flex items-center gap-2",children:[d&&c&&"Celestial Info",d&&!c&&"Planetary Nakshatras",!d&&c&&"Sun & Moon Times"]}),s.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[i.toLocaleDateString()," ",i.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),s.jsx("button",{onClick:()=>N(!j),className:"flex-shrink-0 p-1.5 hover:bg-white/10 rounded transition-colors text-gray-400 hover:text-white",title:j?"Expand":"Minimize",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:j?s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"}):s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})})]}),!j&&s.jsxs("div",{className:"max-h-[calc(100vh-120px)] overflow-y-auto",children:[d&&s.jsxs("div",{className:"p-3 space-y-2",children:[s.jsxs("h4",{className:"text-xs font-semibold text-amber-400/80 uppercase tracking-wider mb-2 flex items-center gap-1",children:[s.jsx("span",{className:"text-amber-400",children:"‚òÖ"})," Nakshatras"]}),o.map(e=>{const t=a(e.ra,e.dec,e.eclipticLongitude,i);return s.jsxs("div",{className:"flex items-center justify-between p-2.5 rounded-md bg-black/20 hover:bg-black/30 transition-colors border border-white/10",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full shadow-lg",style:{backgroundColor:e.color,boxShadow:`0 0 8px ${e.color}`}}),s.jsx("span",{className:"text-sm font-medium text-white",children:e.name})]}),s.jsx("span",{className:"text-xs font-mono text-amber-400 uppercase tracking-wider",children:t})]},e.name)})]}),d&&c&&s.jsx("div",{className:"border-t border-white/20 mx-3"}),c&&w&&s.jsxs("div",{className:"p-3 space-y-3",children:[s.jsxs("h4",{className:"text-xs font-semibold text-yellow-400/80 uppercase tracking-wider mb-2 flex items-center gap-1",children:[s.jsx("span",{className:"text-yellow-400",children:"‚òº"})," Sun & Moon"]}),s.jsxs("div",{className:"space-y-2 p-2.5 rounded-md bg-black/20 border border-white/10",children:[s.jsxs("h5",{className:"text-xs font-semibold text-orange-400 flex items-center gap-1",children:[s.jsx("span",{children:"‚òÄÔ∏è"})," Sun"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-400 text-[10px]",children:"Sunrise"}),s.jsx("span",{className:"font-mono font-semibold text-yellow-400",children:w.sunTimes.sunrise})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-400 text-[10px]",children:"Sunset"}),s.jsx("span",{className:"font-mono font-semibold text-orange-400",children:w.sunTimes.sunset})]})]})]}),s.jsxs("div",{className:"space-y-2 p-2.5 rounded-md bg-black/20 border border-white/10",children:[s.jsxs("h5",{className:"text-xs font-semibold text-blue-300 flex items-center gap-1",children:[s.jsx("span",{children:"üåô"})," Moon"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-400 text-[10px]",children:"Moonrise"}),s.jsx("span",{className:"font-mono font-semibold text-blue-300",children:w.moonTimes.moonrise})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-400 text-[10px]",children:"Moonset"}),s.jsx("span",{className:"font-mono font-semibold text-blue-400",children:w.moonTimes.moonset})]})]})]}),s.jsxs("div",{className:"space-y-3 p-3 rounded-md bg-gradient-to-br from-purple-900/30 to-indigo-900/30 border border-purple-400/30",children:[s.jsxs("h5",{className:"text-xs font-semibold text-purple-300 flex items-center gap-1.5",children:[s.jsx("span",{children:"üåü"})," Birth Rashi"]}),s.jsx("p",{className:"text-gray-300 text-[11px] -mt-1",children:"If born at this time:"}),s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsxs("div",{className:"flex flex-col gap-1 p-2.5 rounded bg-black/20 border border-yellow-400/20",children:[s.jsx("span",{className:"text-gray-300 text-[10px] font-medium",children:"‚òÄÔ∏è Sun Sign"}),s.jsx("span",{className:"font-bold text-yellow-300 text-sm tracking-wide break-words",children:w.sunRashi})]}),s.jsxs("div",{className:"flex flex-col gap-1 p-2.5 rounded bg-black/20 border border-purple-400/20",children:[s.jsx("span",{className:"text-gray-300 text-[10px] font-medium",children:"üåô Moon Sign"}),s.jsx("span",{className:"font-bold text-purple-300 text-sm tracking-wide break-words",children:w.moonRashi})]})]})]})]})]})]})}):null}export{o as NakshatraPanel};
