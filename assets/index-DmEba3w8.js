const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./NakshatraPanel-BG0Z2GNP.js","./react-vendor-OEMN43JN.js","./map-vendor-scx2wcTa.js","./map-vendor-Dgihpmma.css","./ui-vendor-JN40E8ro.js","./routing-vendor-BoMlvbZZ.js","./three-vendor-C4xQyQ5C.js","./pdf-vendor-Do3zHwVP.js","./ExportDialog-BYO2572-.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,a=(a,t,n)=>((a,t,n)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n)(a,"symbol"!=typeof t?t+"":t,n);import{r as t,j as n,d as s,u as o,H as i,h as r,i as l,b as c}from"./react-vendor-OEMN43JN.js";import{A as d,T as m,a as h,b as u,B as p,D as x,c as g,d as f,e as y,N as b,S as M,C as j,f as A,g as S,h as w,i as T,j as N,k as C,I as k,R as v,l as P,L,m as z,n as F,o as B,p as E,q as G,r as O,M as D,E as I,G as H,s as R,t as K,u as U,v as V,w as W,x as $,y as q,z as Y,F as _,H as Z}from"./ui-vendor-JN40E8ro.js";import{Q as X,a as J}from"./routing-vendor-BoMlvbZZ.js";import{B as Q,a as ee,C as ae,P as te,A as ne,b as se,u as oe,H as ie,V as re,L as le,T as ce,c as de,d as me,O as he,S as ue,e as pe}from"./three-vendor-C4xQyQ5C.js";import{L as xe}from"./map-vendor-scx2wcTa.js";import{_ as ge,E as fe,Y as ye}from"./pdf-vendor-Do3zHwVP.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)}).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();class be extends t.Component{constructor(e){super(e),a(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})}),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,a){this.setState({error:e,errorInfo:a}),this.props.onError&&this.props.onError(e,a)}render(){var e;return this.state.hasError?this.props.fallback?this.props.fallback:n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:n.jsxs("div",{className:"max-w-md w-full space-y-4",children:[n.jsxs(d,{variant:"destructive",children:[n.jsx(m,{className:"h-4 w-4"}),n.jsx(h,{children:"Something went wrong"}),n.jsx(u,{children:(null==(e=this.state.error)?void 0:e.message)||"An unexpected error occurred"})]}),!1,n.jsxs("div",{className:"flex gap-2",children:[n.jsx(p,{onClick:this.handleReset,className:"flex-1",children:"Try Again"}),n.jsx(p,{variant:"outline",onClick:()=>window.location.reload(),className:"flex-1",children:"Reload Page"})]})]})}):this.props.children}}const Me=[{name:"Dubhe",ra:11.062,dec:61.75,magnitude:1.79,spectralType:"K",constellation:"Ursa Major"},{name:"Merak",ra:11.031,dec:56.38,magnitude:2.37,spectralType:"A",constellation:"Ursa Major"},{name:"Phecda",ra:11.897,dec:53.69,magnitude:2.44,spectralType:"A",constellation:"Ursa Major"},{name:"Megrez",ra:12.257,dec:57.03,magnitude:3.31,spectralType:"A",constellation:"Ursa Major"},{name:"Alioth",ra:12.9,dec:55.96,magnitude:1.77,spectralType:"A",constellation:"Ursa Major"},{name:"Mizar",ra:13.399,dec:54.93,magnitude:2.27,spectralType:"A",constellation:"Ursa Major"},{name:"Alkaid",ra:13.792,dec:49.31,magnitude:1.86,spectralType:"B",constellation:"Ursa Major"},{name:"Muscida",ra:10.298,dec:60.72,magnitude:3.35,spectralType:"G",constellation:"Ursa Major"},{name:"Talitha",ra:10.296,dec:55.01,magnitude:3.13,spectralType:"A",constellation:"Ursa Major"},{name:"Betelgeuse",ra:5.919,dec:7.41,magnitude:.42,spectralType:"M",constellation:"Orion"},{name:"Rigel",ra:5.242,dec:-8.2,magnitude:.13,spectralType:"B",constellation:"Orion"},{name:"Bellatrix",ra:5.419,dec:6.35,magnitude:1.64,spectralType:"B",constellation:"Orion"},{name:"Mintaka",ra:5.533,dec:-.3,magnitude:2.23,spectralType:"O",constellation:"Orion"},{name:"Alnilam",ra:5.603,dec:-1.2,magnitude:1.7,spectralType:"B",constellation:"Orion"},{name:"Alnitak",ra:5.679,dec:-1.94,magnitude:1.77,spectralType:"O",constellation:"Orion"},{name:"Saiph",ra:5.796,dec:-9.67,magnitude:2.09,spectralType:"B",constellation:"Orion"},{name:"Nair Al Saif",ra:5.489,dec:-6.84,magnitude:4.43,spectralType:"B",constellation:"Orion"},{name:"Hatysa",ra:5.276,dec:9.27,magnitude:4.97,spectralType:"B",constellation:"Orion"},{name:"Antares",ra:16.49,dec:-26.43,magnitude:.96,spectralType:"M",constellation:"Scorpius",nakshatra:"Jyeshtha"},{name:"Shaula",ra:17.56,dec:-37.1,magnitude:1.63,spectralType:"B",constellation:"Scorpius"},{name:"Sargas",ra:17.622,dec:-42.99,magnitude:1.87,spectralType:"F",constellation:"Scorpius"},{name:"Dschubba",ra:16.005,dec:-22.62,magnitude:2.32,spectralType:"B",constellation:"Scorpius"},{name:"Alniyat",ra:16.217,dec:-19.27,magnitude:3.56,spectralType:"B",constellation:"Scorpius"},{name:"Girtab",ra:17.601,dec:-42.36,magnitude:5.23,spectralType:"B",constellation:"Scorpius"},{name:"Regulus",ra:10.14,dec:11.97,magnitude:1.35,spectralType:"B",constellation:"Leo",nakshatra:"Magha"},{name:"Denebola",ra:11.818,dec:14.57,magnitude:2.14,spectralType:"A",constellation:"Leo",nakshatra:"Uttara Phalguni"},{name:"Algieba",ra:10.333,dec:19.84,magnitude:2.08,spectralType:"K",constellation:"Leo"},{name:"Zosma",ra:11.235,dec:20.52,magnitude:2.56,spectralType:"A",constellation:"Leo"},{name:"Adhafera",ra:10.128,dec:16.77,magnitude:3.44,spectralType:"F",constellation:"Leo"},{name:"Chertan",ra:11.236,dec:14.57,magnitude:3.17,spectralType:"A",constellation:"Leo"},{name:"Deneb",ra:20.691,dec:45.28,magnitude:1.25,spectralType:"A",constellation:"Cygnus"},{name:"Sadr",ra:20.371,dec:40.26,magnitude:2.2,spectralType:"F",constellation:"Cygnus"},{name:"Gienah Cygni",ra:20.77,dec:33.97,magnitude:2.46,spectralType:"K",constellation:"Cygnus"},{name:"Albireo",ra:19.512,dec:27.96,magnitude:3.08,spectralType:"K",constellation:"Cygnus"},{name:"Nodus Secundus Cygni",ra:20.37,dec:40.26,magnitude:4.23,spectralType:"F",constellation:"Cygnus"},{name:"Vega",ra:18.616,dec:38.78,magnitude:.03,spectralType:"A",constellation:"Lyra"},{name:"Sheliak",ra:18.835,dec:33.36,magnitude:3.45,spectralType:"A",constellation:"Lyra"},{name:"Sulafat",ra:18.982,dec:32.69,magnitude:3.24,spectralType:"B",constellation:"Lyra"},{name:"Epsilon Lyrae",ra:18.74,dec:39.64,magnitude:4.68,spectralType:"A",constellation:"Lyra"},{name:"Altair",ra:19.846,dec:8.87,magnitude:.77,spectralType:"A",constellation:"Aquila",nakshatra:"Shravana"},{name:"Tarazed",ra:19.771,dec:10.61,magnitude:2.72,spectralType:"K",constellation:"Aquila"},{name:"Alshain",ra:19.922,dec:6.41,magnitude:3.71,spectralType:"G",constellation:"Aquila"},{name:"Schedar",ra:.675,dec:56.54,magnitude:2.23,spectralType:"K",constellation:"Cassiopeia"},{name:"Caph",ra:.153,dec:59.15,magnitude:2.27,spectralType:"F",constellation:"Cassiopeia"},{name:"Navi",ra:.945,dec:60.72,magnitude:2.47,spectralType:"B",constellation:"Cassiopeia"},{name:"Ruchbah",ra:1.43,dec:60.24,magnitude:2.68,spectralType:"A",constellation:"Cassiopeia"},{name:"Segin",ra:1.907,dec:63.67,magnitude:3.38,spectralType:"B",constellation:"Cassiopeia"},{name:"Achird",ra:.203,dec:57.81,magnitude:3.32,spectralType:"F",constellation:"Cassiopeia"},{name:"Aldebaran",ra:4.599,dec:16.51,magnitude:.85,spectralType:"K",constellation:"Taurus",nakshatra:"Rohini"},{name:"Elnath",ra:5.438,dec:28.61,magnitude:1.65,spectralType:"B",constellation:"Taurus"},{name:"Alcyone",ra:3.791,dec:24.1,magnitude:2.87,spectralType:"B",constellation:"Taurus"},{name:"Atlas",ra:3.797,dec:24.03,magnitude:3.63,spectralType:"B",constellation:"Taurus"},{name:"Electra",ra:3.791,dec:24.11,magnitude:3.72,spectralType:"B",constellation:"Taurus"},{name:"Maia",ra:3.763,dec:24.37,magnitude:3.87,spectralType:"B",constellation:"Taurus"},{name:"Merope",ra:3.756,dec:23.97,magnitude:4.17,spectralType:"B",constellation:"Taurus"},{name:"Pleione",ra:3.795,dec:24.14,magnitude:4.86,spectralType:"B",constellation:"Taurus"},{name:"Tiān Guān",ra:4.213,dec:15.63,magnitude:4.96,spectralType:"F",constellation:"Taurus"},{name:"Pollux",ra:7.755,dec:28.03,magnitude:1.14,spectralType:"K",constellation:"Gemini",nakshatra:"Punarvasu"},{name:"Castor",ra:7.577,dec:31.89,magnitude:1.58,spectralType:"A",constellation:"Gemini"},{name:"Alhena",ra:6.629,dec:16.4,magnitude:1.93,spectralType:"A",constellation:"Gemini"},{name:"Mebsuta",ra:6.732,dec:25.13,magnitude:2.98,spectralType:"G",constellation:"Gemini"},{name:"Wasat",ra:6.372,dec:22.51,magnitude:3.55,spectralType:"F",constellation:"Gemini"},{name:"Propus",ra:7.598,dec:26.13,magnitude:3.98,spectralType:"K",constellation:"Gemini"},{name:"Sirius",ra:6.752,dec:-16.72,magnitude:-1.46,spectralType:"A",constellation:"Canis Major"},{name:"Adhara",ra:6.977,dec:-28.97,magnitude:1.5,spectralType:"B",constellation:"Canis Major"},{name:"Wezen",ra:7.14,dec:-26.39,magnitude:1.84,spectralType:"F",constellation:"Canis Major"},{name:"Mirzam",ra:6.378,dec:-17.96,magnitude:1.98,spectralType:"B",constellation:"Canis Major"},{name:"Aludra",ra:7.401,dec:-29.3,magnitude:2.45,spectralType:"B",constellation:"Canis Major"},{name:"Furud",ra:7.077,dec:-27.94,magnitude:3.02,spectralType:"A",constellation:"Canis Major"},{name:"Isis",ra:6.361,dec:-16.39,magnitude:3.93,spectralType:"K",constellation:"Canis Major"},{name:"Procyon",ra:7.655,dec:5.23,magnitude:.34,spectralType:"F",constellation:"Canis Minor"},{name:"Gomeisa",ra:7.452,dec:8.29,magnitude:2.9,spectralType:"B",constellation:"Canis Minor"},{name:"Spica",ra:13.42,dec:-11.16,magnitude:.97,spectralType:"B",constellation:"Virgo",nakshatra:"Chitra"},{name:"Porrima",ra:12.695,dec:-1.45,magnitude:2.74,spectralType:"F",constellation:"Virgo"},{name:"Vindemiatrix",ra:13.037,dec:10.96,magnitude:2.83,spectralType:"G",constellation:"Virgo"},{name:"Heze",ra:13.455,dec:-6.06,magnitude:3.41,spectralType:"A",constellation:"Virgo"},{name:"Zaniah",ra:12.893,dec:-6.43,magnitude:3.89,spectralType:"A",constellation:"Virgo"},{name:"Arcturus",ra:14.261,dec:19.18,magnitude:-.05,spectralType:"K",constellation:"Boötes",nakshatra:"Swati"},{name:"Izar",ra:14.75,dec:27.07,magnitude:2.37,spectralType:"K",constellation:"Boötes"},{name:"Muphrid",ra:13.912,dec:18.4,magnitude:2.68,spectralType:"G",constellation:"Boötes"},{name:"Seginus",ra:15.031,dec:40.39,magnitude:3.03,spectralType:"A",constellation:"Boötes"},{name:"Alkalurops",ra:14.53,dec:13.73,magnitude:4.16,spectralType:"A",constellation:"Boötes"},{name:"Alpha Centauri",ra:14.66,dec:-60.84,magnitude:-.27,spectralType:"G",constellation:"Centaurus"},{name:"Hadar",ra:14.064,dec:-60.37,magnitude:.61,spectralType:"B",constellation:"Centaurus"},{name:"Menkent",ra:14.111,dec:-36.37,magnitude:2.06,spectralType:"K",constellation:"Centaurus"},{name:"Acrux",ra:12.443,dec:-63.1,magnitude:.76,spectralType:"B",constellation:"Crux"},{name:"Mimosa",ra:12.795,dec:-59.69,magnitude:1.25,spectralType:"B",constellation:"Crux"},{name:"Gacrux",ra:12.519,dec:-57.11,magnitude:1.64,spectralType:"M",constellation:"Crux"},{name:"Polaris",ra:2.53,dec:89.26,magnitude:1.98,spectralType:"F",constellation:"Ursa Minor"},{name:"Kochab",ra:14.845,dec:74.16,magnitude:2.08,spectralType:"K",constellation:"Ursa Minor"},{name:"Pherkad",ra:15.346,dec:71.83,magnitude:3,spectralType:"A",constellation:"Ursa Minor"},{name:"Yildun",ra:16.29,dec:75.76,magnitude:4.36,spectralType:"A",constellation:"Ursa Minor"},{name:"Alpheratz",ra:.14,dec:29.09,magnitude:2.06,spectralType:"B",constellation:"Andromeda"},{name:"Mirach",ra:1.162,dec:35.62,magnitude:2.06,spectralType:"M",constellation:"Andromeda"},{name:"Almach",ra:2.065,dec:42.33,magnitude:2.1,spectralType:"K",constellation:"Andromeda"},{name:"Delta Andromedae",ra:.651,dec:30.86,magnitude:3.28,spectralType:"K",constellation:"Andromeda"},{name:"Markab",ra:23.079,dec:15.21,magnitude:2.49,spectralType:"B",constellation:"Pegasus"},{name:"Scheat",ra:23.063,dec:28.08,magnitude:2.42,spectralType:"M",constellation:"Pegasus"},{name:"Algenib",ra:.22,dec:15.18,magnitude:2.83,spectralType:"B",constellation:"Pegasus"},{name:"Enif",ra:21.736,dec:9.87,magnitude:2.39,spectralType:"K",constellation:"Pegasus"},{name:"Theta Pegasi",ra:21.725,dec:12.12,magnitude:2.95,spectralType:"B",constellation:"Pegasus"},{name:"Eta Piscium",ra:1.525,dec:15.35,magnitude:3.62,spectralType:"G",constellation:"Pisces"},{name:"Alrescha",ra:2.034,dec:2.76,magnitude:3.82,spectralType:"A",constellation:"Pisces"},{name:"Fum al Samakah",ra:1.143,dec:5.49,magnitude:4.46,spectralType:"B",constellation:"Pisces"},{name:"Hamal",ra:2.12,dec:23.46,magnitude:2,spectralType:"K",constellation:"Aries"},{name:"Sheratan",ra:1.911,dec:20.81,magnitude:2.64,spectralType:"A",constellation:"Aries"},{name:"Mesarthim",ra:2.118,dec:23.48,magnitude:3.87,spectralType:"B",constellation:"Aries"},{name:"Kaus Australis",ra:18.403,dec:-34.38,magnitude:1.85,spectralType:"B",constellation:"Sagittarius"},{name:"Nunki",ra:18.921,dec:-26.3,magnitude:2.02,spectralType:"B",constellation:"Sagittarius"},{name:"Ascella",ra:19.044,dec:-29.88,magnitude:2.59,spectralType:"A",constellation:"Sagittarius"},{name:"Kaus Media",ra:18.35,dec:-29.83,magnitude:2.7,spectralType:"K",constellation:"Sagittarius"},{name:"Kaus Borealis",ra:18.466,dec:-25.42,magnitude:2.81,spectralType:"K",constellation:"Sagittarius"},{name:"Albaldah",ra:19.223,dec:-27.67,magnitude:3.27,spectralType:"F",constellation:"Sagittarius"},{name:"Deneb Algedi",ra:21.784,dec:-16.13,magnitude:2.81,spectralType:"A",constellation:"Capricornus"},{name:"Dabih",ra:20.35,dec:-14.78,magnitude:3.08,spectralType:"K",constellation:"Capricornus"},{name:"Nashira",ra:21.681,dec:-16.65,magnitude:3.68,spectralType:"A",constellation:"Capricornus"},{name:"Sadalsuud",ra:21.526,dec:-5.57,magnitude:2.91,spectralType:"G",constellation:"Aquarius"},{name:"Sadalmelik",ra:22.096,dec:-.32,magnitude:2.96,spectralType:"G",constellation:"Aquarius"},{name:"Sadaltager",ra:22.362,dec:-8.98,magnitude:3.27,spectralType:"A",constellation:"Aquarius"},{name:"Zubeneschamali",ra:15.283,dec:-9.38,magnitude:2.61,spectralType:"B",constellation:"Libra"},{name:"Zubenelgenubi",ra:14.848,dec:-16.04,magnitude:2.75,spectralType:"A",constellation:"Libra"},{name:"Zuben Elakrab",ra:15.592,dec:-9.38,magnitude:4.76,spectralType:"K",constellation:"Libra"},{name:"Acubens",ra:8.975,dec:11.86,magnitude:4.25,spectralType:"A",constellation:"Cancer"},{name:"Altarf",ra:8.275,dec:9.19,magnitude:3.53,spectralType:"K",constellation:"Cancer"},{name:"Fomalhaut",ra:22.961,dec:-29.62,magnitude:1.16,spectralType:"A",constellation:"Piscis Austrinus"},{name:"Capella",ra:5.278,dec:45.99,magnitude:.08,spectralType:"G",constellation:"Auriga"},{name:"Menkalinan",ra:5.993,dec:44.95,magnitude:1.9,spectralType:"A",constellation:"Auriga"},{name:"Algol",ra:3.138,dec:40.96,magnitude:2.1,spectralType:"B",constellation:"Perseus"},{name:"Mirfak",ra:3.405,dec:49.86,magnitude:1.79,spectralType:"F",constellation:"Perseus"},{name:"Almaaz",ra:5.252,dec:43.19,magnitude:2.6,spectralType:"G",constellation:"Auriga"},{name:"Muliphein",ra:6.641,dec:-27.04,magnitude:4.33,spectralType:"G",constellation:"Canis Major"},{name:"Achernar",ra:1.628,dec:-57.24,magnitude:.46,spectralType:"B",constellation:"Eridanus"},{name:"Cursa",ra:1.629,dec:-8.9,magnitude:2.76,spectralType:"A",constellation:"Eridanus"},{name:"Alphard",ra:9.273,dec:-8.66,magnitude:1.99,spectralType:"K",constellation:"Hydra"},{name:"Eltanin",ra:17.944,dec:51.49,magnitude:2.24,spectralType:"K",constellation:"Draco"},{name:"Rastaban",ra:17.656,dec:52.71,magnitude:2.79,spectralType:"G",constellation:"Draco"},{name:"Nodus Secundus Draconis",ra:19.207,dec:67.66,magnitude:4.84,spectralType:"K",constellation:"Draco"},{name:"Alderamin",ra:21.315,dec:62.59,magnitude:2.44,spectralType:"A",constellation:"Cepheus"},{name:"Alfirk",ra:21.449,dec:62.59,magnitude:3.21,spectralType:"B",constellation:"Cepheus"},{name:"Deneb Kaitos",ra:.727,dec:-17.99,magnitude:2.04,spectralType:"K",constellation:"Cetus"},{name:"Menkar",ra:3.048,dec:4.09,magnitude:2.54,spectralType:"M",constellation:"Cetus"},{name:"Ras Alhague",ra:17.483,dec:12.56,magnitude:2.08,spectralType:"A",constellation:"Ophiuchus"},{name:"Sabik",ra:17.173,dec:-15.73,magnitude:2.43,spectralType:"A",constellation:"Ophiuchus"},{name:"Unukalhai",ra:15.743,dec:6.43,magnitude:2.65,spectralType:"K",constellation:"Serpens"},{name:"Ras Algethi",ra:17.246,dec:14.39,magnitude:3.48,spectralType:"M",constellation:"Hercules"},{name:"Kornephoros",ra:16.688,dec:31.6,magnitude:2.81,spectralType:"G",constellation:"Hercules"},{name:"Arneb",ra:5.544,dec:-17.82,magnitude:2.58,spectralType:"F",constellation:"Lepus"},{name:"Nihal",ra:5.128,dec:-20.76,magnitude:2.81,spectralType:"G",constellation:"Lepus"},{name:"Beta Monocerotis",ra:6.401,dec:9.55,magnitude:3.93,spectralType:"K",constellation:"Monoceros"},{name:"Alphecca",ra:15.857,dec:26.71,magnitude:2.24,spectralType:"A",constellation:"Corona Borealis"},{name:"Gienah Corvus",ra:12.262,dec:-17.54,magnitude:2.59,spectralType:"B",constellation:"Corvus"},{name:"Kraz",ra:12.566,dec:-16.19,magnitude:2.65,spectralType:"B",constellation:"Corvus"},{name:"Naos",ra:8.066,dec:-40,magnitude:2.25,spectralType:"O",constellation:"Puppis"},{name:"Ahchita",ra:7.62,dec:-43.3,magnitude:2.71,spectralType:"K",constellation:"Puppis"},{name:"Gamma Velorum",ra:8.961,dec:-47.37,magnitude:1.83,spectralType:"O",constellation:"Vela"},{name:"Delta Velorum",ra:8.746,dec:-54.71,magnitude:1.93,spectralType:"A",constellation:"Vela"},{name:"Phact",ra:5.92,dec:-35.77,magnitude:2.64,spectralType:"B",constellation:"Columba"},{name:"Alpha Tucanae",ra:22.301,dec:-60.26,magnitude:2.86,spectralType:"K",constellation:"Tucana"},{name:"Peacock",ra:20.427,dec:-56.74,magnitude:1.94,spectralType:"B",constellation:"Pavo"},{name:"Alpha Indi",ra:20.638,dec:-47.29,magnitude:3.11,spectralType:"K",constellation:"Indus"},{name:"Alpha Lupi",ra:14.984,dec:-47.39,magnitude:2.3,spectralType:"B",constellation:"Lupus"},{name:"Gamma Normae",ra:16.2,dec:-50.15,magnitude:4.02,spectralType:"B",constellation:"Norma"},{name:"Alpha Arae",ra:17.531,dec:-49.88,magnitude:2.95,spectralType:"B",constellation:"Ara"},{name:"Beta Arae",ra:17.421,dec:-55.53,magnitude:2.85,spectralType:"K",constellation:"Ara"},{name:"Beta Trianguli",ra:2.158,dec:34.99,magnitude:3,spectralType:"A",constellation:"Triangulum"},{name:"Alpha Trianguli",ra:1.885,dec:29.58,magnitude:3.41,spectralType:"F",constellation:"Triangulum"},{name:"Gamma Trianguli",ra:2.289,dec:33.85,magnitude:4.01,spectralType:"A",constellation:"Triangulum"},{name:"Rotanev",ra:20.625,dec:14.6,magnitude:3.63,spectralType:"F",constellation:"Delphinus"},{name:"Sualocin",ra:20.66,dec:15.91,magnitude:3.77,spectralType:"B",constellation:"Delphinus"},{name:"Gamma Sagittae",ra:19.979,dec:19.49,magnitude:3.47,spectralType:"K",constellation:"Sagitta"},{name:"Delta Sagittae",ra:19.781,dec:18.53,magnitude:3.68,spectralType:"M",constellation:"Sagitta"},{name:"Alpha Vulpeculae",ra:19.479,dec:24.66,magnitude:4.44,spectralType:"M",constellation:"Vulpecula"},{name:"Kitalpha",ra:21.263,dec:10.13,magnitude:3.92,spectralType:"G",constellation:"Equuleus"},{name:"Alpha Lacertae",ra:22.521,dec:50.28,magnitude:3.77,spectralType:"A",constellation:"Lacerta"},{name:"Cor Caroli",ra:12.934,dec:38.32,magnitude:2.9,spectralType:"A",constellation:"Canes Venatici"},{name:"Chara",ra:12.563,dec:41.36,magnitude:4.24,spectralType:"G",constellation:"Canes Venatici"},{name:"Beta Comae Berenices",ra:13.197,dec:27.88,magnitude:4.26,spectralType:"G",constellation:"Coma Berenices"},{name:"Alpha Comae Berenices",ra:13.167,dec:17.53,magnitude:4.32,spectralType:"F",constellation:"Coma Berenices"},{name:"Alpha Coronae Australis",ra:19.158,dec:-37.9,magnitude:4.11,spectralType:"A",constellation:"Corona Australis"},{name:"Beta Coronae Australis",ra:19.167,dec:-39.34,magnitude:4.11,spectralType:"K",constellation:"Corona Australis"},{name:"Delta Crateris",ra:11.322,dec:-14.78,magnitude:3.56,spectralType:"K",constellation:"Crater"},{name:"Alpha Crateris",ra:10.996,dec:-18.3,magnitude:4.08,spectralType:"K",constellation:"Crater"},{name:"Alpha Sextantis",ra:10.132,dec:-.37,magnitude:4.49,spectralType:"A",constellation:"Sextans"},{name:"Praecipua",ra:10.887,dec:34.21,magnitude:3.83,spectralType:"G",constellation:"Leo Minor"},{name:"Beta Leonis Minoris",ra:10.465,dec:36.71,magnitude:4.21,spectralType:"G",constellation:"Leo Minor"},{name:"Alpha Lyncis",ra:9.35,dec:34.39,magnitude:3.13,spectralType:"K",constellation:"Lynx"},{name:"Beta Camelopardalis",ra:5.057,dec:60.44,magnitude:4.03,spectralType:"G",constellation:"Camelopardalis"},{name:"Alpha Sculptoris",ra:.976,dec:-29.36,magnitude:4.3,spectralType:"B",constellation:"Sculptor"},{name:"Alpha Fornacis",ra:3.201,dec:-28.99,magnitude:3.87,spectralType:"F",constellation:"Fornax"},{name:"Alpha Caeli",ra:4.676,dec:-41.86,magnitude:4.45,spectralType:"F",constellation:"Caelum"},{name:"Alpha Horologii",ra:4.233,dec:-42.29,magnitude:3.86,spectralType:"K",constellation:"Horologium"},{name:"Alpha Doradus",ra:4.567,dec:-55.04,magnitude:3.27,spectralType:"A",constellation:"Dorado"},{name:"Beta Doradus",ra:5.56,dec:-62.49,magnitude:3.46,spectralType:"F",constellation:"Dorado"},{name:"Alpha Pictoris",ra:6.803,dec:-61.94,magnitude:3.27,spectralType:"A",constellation:"Pictor"},{name:"Beta Volantis",ra:8.43,dec:-66.4,magnitude:3.77,spectralType:"K",constellation:"Volans"},{name:"Gamma Volantis",ra:7.144,dec:-70.5,magnitude:3.78,spectralType:"K",constellation:"Volans"},{name:"Canopus",ra:6.399,dec:-52.7,magnitude:-.72,spectralType:"F",constellation:"Carina"},{name:"Miaplacidus",ra:9.22,dec:-69.72,magnitude:1.68,spectralType:"A",constellation:"Carina"},{name:"Avior",ra:8.375,dec:-59.51,magnitude:1.86,spectralType:"K",constellation:"Carina"},{name:"Alpha Chamaeleontis",ra:8.308,dec:-76.92,magnitude:4.07,spectralType:"F",constellation:"Chamaeleon"},{name:"Alpha Apodis",ra:14.798,dec:-79.04,magnitude:3.83,spectralType:"K",constellation:"Apus"},{name:"Alpha Muscae",ra:12.619,dec:-69.14,magnitude:2.69,spectralType:"B",constellation:"Musca"},{name:"Beta Muscae",ra:12.771,dec:-68.11,magnitude:3.05,spectralType:"B",constellation:"Musca"},{name:"Alpha Circini",ra:14.709,dec:-64.97,magnitude:3.19,spectralType:"F",constellation:"Circinus"},{name:"Atria",ra:16.811,dec:-69.03,magnitude:1.92,spectralType:"K",constellation:"Triangulum Australe"},{name:"Beta Trianguli Australis",ra:15.919,dec:-63.43,magnitude:2.85,spectralType:"F",constellation:"Triangulum Australe"},{name:"Gamma Trianguli Australis",ra:15.315,dec:-68.68,magnitude:2.89,spectralType:"A",constellation:"Triangulum Australe"},{name:"Alpha Telescopii",ra:18.45,dec:-45.97,magnitude:3.51,spectralType:"B",constellation:"Telescopium"},{name:"Nu Octantis",ra:21.685,dec:-77.39,magnitude:3.76,spectralType:"K",constellation:"Octans"},{name:"Beta Hydri",ra:.426,dec:-77.25,magnitude:2.8,spectralType:"G",constellation:"Hydrus"},{name:"Alpha Hydri",ra:1.979,dec:-61.57,magnitude:2.86,spectralType:"F",constellation:"Hydrus"},{name:"Alpha Mensae",ra:6.17,dec:-74.75,magnitude:5.09,spectralType:"G",constellation:"Mensa"},{name:"Alpha Reticuli",ra:4.24,dec:-62.47,magnitude:3.35,spectralType:"G",constellation:"Reticulum"},{name:"Alnair",ra:22.137,dec:-46.96,magnitude:1.74,spectralType:"B",constellation:"Grus"},{name:"Beta Gruis",ra:22.711,dec:-46.88,magnitude:2.11,spectralType:"M",constellation:"Grus"},{name:"Ankaa",ra:.438,dec:-42.31,magnitude:2.39,spectralType:"K",constellation:"Phoenix"},{name:"Gamma Microscopii",ra:21.025,dec:-32.26,magnitude:4.67,spectralType:"G",constellation:"Microscopium"},{name:"Alpha Scuti",ra:18.586,dec:-8.24,magnitude:3.85,spectralType:"K",constellation:"Scutum"},{name:"Alpha Antliae",ra:10.452,dec:-31.07,magnitude:4.25,spectralType:"K",constellation:"Antlia"},{name:"Alpha Pyxidis",ra:8.726,dec:-33.19,magnitude:3.68,spectralType:"B",constellation:"Pyxis"}],je=[{name:"Ursa Major",starNames:[["Dubhe","Merak"],["Merak","Phecda"],["Phecda","Megrez"],["Megrez","Dubhe"],["Megrez","Alioth"],["Alioth","Mizar"],["Mizar","Alkaid"]]},{name:"Orion",starNames:[["Betelgeuse","Bellatrix"],["Betelgeuse","Mintaka"],["Bellatrix","Mintaka"],["Mintaka","Alnilam"],["Alnilam","Alnitak"],["Alnitak","Saiph"],["Saiph","Rigel"],["Rigel","Mintaka"]]},{name:"Scorpius",starNames:[["Dschubba","Antares"],["Antares","Shaula"],["Shaula","Sargas"]]},{name:"Leo",starNames:[["Regulus","Algieba"],["Algieba","Zosma"],["Zosma","Denebola"],["Denebola","Regulus"]]},{name:"Cygnus",starNames:[["Deneb","Sadr"],["Sadr","Albireo"],["Sadr","Gienah"]]},{name:"Lyra",starNames:[["Vega","Sheliak"],["Sheliak","Sulafat"],["Sulafat","Vega"]]},{name:"Aquila",starNames:[["Altair","Tarazed"],["Altair","Alshain"]]},{name:"Cassiopeia",starNames:[["Caph","Schedar"],["Schedar","Navi"],["Navi","Ruchbah"],["Ruchbah","Segin"]]},{name:"Taurus",starNames:[["Aldebaran","Elnath"],["Aldebaran","Alcyone"]]},{name:"Gemini",starNames:[["Castor","Pollux"],["Pollux","Alhena"],["Castor","Mebsuta"]]},{name:"Canis Major",starNames:[["Sirius","Mirzam"],["Sirius","Adhara"],["Adhara","Wezen"]]},{name:"Canis Minor",starNames:[["Procyon","Gomeisa"]]},{name:"Virgo",starNames:[["Spica","Porrima"],["Porrima","Vindemiatrix"]]},{name:"Boötes",starNames:[["Arcturus","Izar"],["Arcturus","Muphrid"]]},{name:"Crux",starNames:[["Acrux","Gacrux"],["Mimosa","Gacrux"]]},{name:"Ursa Minor",starNames:[["Polaris","Kochab"],["Kochab","Pherkad"]]},{name:"Andromeda",starNames:[["Alpheratz","Mirach"],["Mirach","Almach"]]},{name:"Pegasus",starNames:[["Markab","Scheat"],["Scheat","Alpheratz"],["Alpheratz","Algenib"],["Algenib","Markab"]]},{name:"Sagittarius",starNames:[["Kaus Australis","Kaus Media"],["Kaus Media","Kaus Borealis"],["Kaus Borealis","Nunki"],["Nunki","Ascella"],["Ascella","Kaus Australis"]]},{name:"Aries",starNames:[["Hamal","Sheratan"],["Sheratan","Mesarthim"]]},{name:"Aquarius",starNames:[["Sadalsuud","Sadalmelik"],["Sadalmelik","Sadaltager"]]},{name:"Capricornus",starNames:[["Deneb Algedi","Dabih"],["Dabih","Nashira"]]},{name:"Libra",starNames:[["Zubeneschamali","Zubenelgenubi"],["Zubenelgenubi","Zuben Elakrab"]]},{name:"Cancer",starNames:[["Acubens","Altarf"]]},{name:"Pisces",starNames:[["Eta Piscium","Alrescha"],["Alrescha","Fum al Samakah"]]},{name:"Piscis Austrinus",starNames:[["Fomalhaut","Fomalhaut"]]},{name:"Auriga",starNames:[["Capella","Menkalinan"],["Menkalinan","Almaaz"],["Almaaz","Capella"]]},{name:"Perseus",starNames:[["Mirfak","Algol"]]},{name:"Eridanus",starNames:[["Achernar","Cursa"]]},{name:"Hydra",starNames:[["Alphard","Alphard"]]},{name:"Draco",starNames:[["Eltanin","Rastaban"],["Rastaban","Nodus Secundus Draconis"]]},{name:"Cepheus",starNames:[["Alderamin","Alfirk"]]},{name:"Cetus",starNames:[["Deneb Kaitos","Menkar"]]},{name:"Ophiuchus",starNames:[["Ras Alhague","Sabik"]]},{name:"Serpens",starNames:[["Unukalhai","Unukalhai"]]},{name:"Hercules",starNames:[["Ras Algethi","Kornephoros"]]},{name:"Lepus",starNames:[["Arneb","Nihal"]]},{name:"Corona Borealis",starNames:[["Alphecca","Alphecca"]]},{name:"Corvus",starNames:[["Gienah Corvus","Kraz"]]},{name:"Puppis",starNames:[["Naos","Ahchita"]]},{name:"Vela",starNames:[["Gamma Velorum","Delta Velorum"]]},{name:"Columba",starNames:[["Phact","Phact"]]},{name:"Centaurus",starNames:[["Alpha Centauri","Hadar"],["Hadar","Menkent"]]},{name:"Tucana",starNames:[["Alpha Tucanae","Alpha Tucanae"]]},{name:"Pavo",starNames:[["Peacock","Peacock"]]},{name:"Indus",starNames:[["Alpha Indi","Alpha Indi"]]},{name:"Lupus",starNames:[["Alpha Lupi","Alpha Lupi"]]},{name:"Norma",starNames:[["Gamma Normae","Gamma Normae"]]},{name:"Ara",starNames:[["Alpha Arae","Beta Arae"]]},{name:"Triangulum",starNames:[["Beta Trianguli","Alpha Trianguli"],["Alpha Trianguli","Gamma Trianguli"],["Gamma Trianguli","Beta Trianguli"]]},{name:"Delphinus",starNames:[["Rotanev","Sualocin"]]},{name:"Sagitta",starNames:[["Gamma Sagittae","Delta Sagittae"]]},{name:"Vulpecula",starNames:[["Alpha Vulpeculae","Alpha Vulpeculae"]]},{name:"Equuleus",starNames:[["Kitalpha","Kitalpha"]]},{name:"Lacerta",starNames:[["Alpha Lacertae","Alpha Lacertae"]]},{name:"Canes Venatici",starNames:[["Cor Caroli","Chara"]]},{name:"Coma Berenices",starNames:[["Beta Comae Berenices","Alpha Comae Berenices"]]},{name:"Corona Australis",starNames:[["Alpha Coronae Australis","Beta Coronae Australis"]]},{name:"Crater",starNames:[["Delta Crateris","Alpha Crateris"]]},{name:"Sextans",starNames:[["Alpha Sextantis","Alpha Sextantis"]]},{name:"Leo Minor",starNames:[["Praecipua","Beta Leonis Minoris"]]},{name:"Lynx",starNames:[["Alpha Lyncis","Alpha Lyncis"]]},{name:"Camelopardalis",starNames:[["Beta Camelopardalis","Beta Camelopardalis"]]},{name:"Sculptor",starNames:[["Alpha Sculptoris","Alpha Sculptoris"]]},{name:"Fornax",starNames:[["Alpha Fornacis","Alpha Fornacis"]]},{name:"Caelum",starNames:[["Alpha Caeli","Alpha Caeli"]]},{name:"Horologium",starNames:[["Alpha Horologii","Alpha Horologii"]]},{name:"Dorado",starNames:[["Alpha Doradus","Beta Doradus"]]},{name:"Pictor",starNames:[["Alpha Pictoris","Alpha Pictoris"]]},{name:"Volans",starNames:[["Beta Volantis","Gamma Volantis"]]},{name:"Carina",starNames:[["Canopus","Miaplacidus"],["Miaplacidus","Avior"],["Avior","Canopus"]]},{name:"Chamaeleon",starNames:[["Alpha Chamaeleontis","Alpha Chamaeleontis"]]},{name:"Apus",starNames:[["Alpha Apodis","Alpha Apodis"]]},{name:"Musca",starNames:[["Alpha Muscae","Beta Muscae"]]},{name:"Circinus",starNames:[["Alpha Circini","Alpha Circini"]]},{name:"Triangulum Australe",starNames:[["Atria","Beta Trianguli Australis"],["Beta Trianguli Australis","Gamma Trianguli Australis"],["Gamma Trianguli Australis","Atria"]]},{name:"Telescopium",starNames:[["Alpha Telescopii","Alpha Telescopii"]]},{name:"Octans",starNames:[["Nu Octantis","Nu Octantis"]]},{name:"Hydrus",starNames:[["Beta Hydri","Alpha Hydri"]]},{name:"Mensa",starNames:[["Alpha Mensae","Alpha Mensae"]]},{name:"Reticulum",starNames:[["Alpha Reticuli","Alpha Reticuli"]]},{name:"Grus",starNames:[["Alnair","Beta Gruis"]]},{name:"Phoenix",starNames:[["Ankaa","Ankaa"]]},{name:"Microscopium",starNames:[["Gamma Microscopii","Gamma Microscopii"]]},{name:"Scutum",starNames:[["Alpha Scuti","Alpha Scuti"]]},{name:"Antlia",starNames:[["Alpha Antliae","Alpha Antliae"]]},{name:"Pyxis",starNames:[["Alpha Pyxidis","Alpha Pyxidis"]]},{name:"Monoceros",starNames:[["Beta Monocerotis","Beta Monocerotis"]]}];function Ae(e){return{O:"#9bb0ff",B:"#aabfff",A:"#cad7ff",F:"#f8f7ff",G:"#fff4ea",K:"#ffd2a1",M:"#ffcc6f"}[e]||"#ffffff"}const Se={Mercury:{a:.3871,e:.20563,i:7.005,omega:77.456,Omega:48.331,L0:252.251,n:4.09233445},Venus:{a:.72333,e:.00677,i:3.395,omega:131.564,Omega:76.68,L0:181.98,n:1.60213034},Mars:{a:1.52368,e:.0934,i:1.85,omega:336.041,Omega:49.558,L0:355.453,n:.52402068},Jupiter:{a:5.2026,e:.04849,i:1.303,omega:14.754,Omega:100.464,L0:34.404,n:.08308529},Saturn:{a:9.55491,e:.05551,i:2.489,omega:92.432,Omega:113.666,L0:50.077,n:.03344414},Uranus:{a:19.21845,e:.0463,i:.773,omega:170.964,Omega:74.006,L0:314.055,n:.01172834},Neptune:{a:30.11039,e:.00899,i:1.77,omega:44.971,Omega:131.784,L0:304.349,n:.00598103}};function we(e){let a=e.getUTCFullYear(),t=e.getUTCMonth()+1;const n=e.getUTCDate()+e.getUTCHours()/24+e.getUTCMinutes()/1440+e.getUTCSeconds()/86400;t<=2&&(a-=1,t+=12);const s=Math.floor(a/100),o=2-s+Math.floor(s/4);return Math.floor(365.25*(a+4716))+Math.floor(30.6001*(t+1))+n+o-1524.5}function Te(e){return e*Math.PI/180}function Ne(e){for(;e<0;)e+=360;for(;e>=360;)e-=360;return e}function Ce(e,a){const t=Se[e];if(!t)return{x:0,y:0,z:0};const n=a-2451545,s=Ne(t.L0+t.n*n),o=function(e,a,t=1e-8){let n=e,s=1,o=0;for(;Math.abs(s)>t&&o<100;)s=(e-(n-a*Math.sin(n)))/(1-a*Math.cos(n)),n+=s,o++;return n}(Te(Ne(s-t.omega)),t.e),i=2*Math.atan2(Math.sqrt(1+t.e)*Math.sin(o/2),Math.sqrt(1-t.e)*Math.cos(o/2)),r=t.a*(1-t.e*Math.cos(o)),l=r*Math.cos(i),c=r*Math.sin(i),d=t.omega-t.Omega,m=Math.cos(Te(d)),h=Math.sin(Te(d)),u=Math.cos(Te(t.Omega)),p=Math.sin(Te(t.Omega)),x=Math.cos(Te(t.i)),g=Math.sin(Te(t.i));return{x:(u*m-p*h*x)*l+(-u*h-p*m*x)*c,y:(p*m+u*h*x)*l+(-p*h+u*m*x)*c,z:h*g*l+m*g*c}}function ke(e,a,t){const n=Te(23.439),s=e,o=a*Math.cos(n)-t*Math.sin(n),i=a*Math.sin(n)+t*Math.cos(n),r=Math.sqrt(s*s+o*o+i*i),l=180*Math.asin(i/r)/Math.PI;let c=180*Math.atan2(o,s)/Math.PI;return c<0&&(c+=360),c/=15,{ra:c,dec:l}}const ve={Mercury:"#b5b5b5",Venus:"#e6e6ac",Mars:"#e27b58",Jupiter:"#d8ca9d",Saturn:"#ead6b8",Uranus:"#b4d9e8",Neptune:"#5b5ddf"};function Pe(e,a,t){return Ne(180*Math.atan2(a,e)/Math.PI)}function Le(e=new Date){const a=we(e),t=function(e){const a=e-2451545,t=Ne(100.46435+.9856474*a),n=Ne(357.528+.9856003*a),s=Ne(t+1.915*Math.sin(Te(n))+.02*Math.sin(Te(2*n))),o=1.00014-.01671*Math.cos(Te(n))-14e-5*Math.cos(Te(2*n));return{x:o*Math.cos(Te(s)),y:o*Math.sin(Te(s)),z:0}}(a),n=[];for(const s of Object.keys(Se)){const e=Ce(s,a),o=e.x-t.x,i=e.y-t.y,r=e.z-t.z,l=Math.sqrt(o*o+i*i+r*r),{ra:c,dec:d}=ke(o,i,r),m=Pe(o,i);n.push({name:s,ra:c,dec:d,distance:l,color:ve[s]||"#ffffff",eclipticLongitude:m})}return n}function ze(e=new Date){const a=we(e)-2451545,t=Ne(218.316+13.176396*a),n=Ne(134.963+13.064993*a),s=Ne(93.272+13.22935*a),o=Ne(t+6.289*Math.sin(Te(n))),i=5.128*Math.sin(Te(s)),r=385001-20905*Math.cos(Te(n)),l=Te(23.439),c=Te(o),d=Te(i),m=180*Math.atan2(Math.sin(c)*Math.cos(l)-Math.tan(d)*Math.sin(l),Math.cos(c))/Math.PI;return{name:"Moon",ra:(m<0?m+360:m)/15,dec:180*Math.asin(Math.sin(d)*Math.cos(l)+Math.cos(d)*Math.sin(l)*Math.sin(c))/Math.PI,distance:r/149597870.7,color:"#f4f4f4",eclipticLongitude:o}}function Fe(e=new Date){const a=we(e)-2451545,t=Ne(357.529+.98560028*a),n=Ne(280.459+.98564736*a),s=Ne(n+1.915*Math.sin(Te(t))+.02*Math.sin(Te(2*t))),o=Te(23.439-36e-8*a),i=Te(s),r=180*Math.atan2(Math.cos(o)*Math.sin(i),Math.cos(i))/Math.PI;return{name:"Sun",ra:(r<0?r+360:r)/15,dec:180*Math.asin(Math.sin(o)*Math.sin(i))/Math.PI,distance:1,color:"#ffdd44",eclipticLongitude:s}}function Be(e,a,t,n,s,o=100){const i=e/24*2*Math.PI,r=a*Math.PI/180,l=n*Math.PI/180,c=function(e){let a=e.getUTCFullYear(),t=e.getUTCMonth()+1;const n=e.getUTCDate()+e.getUTCHours()/24+e.getUTCMinutes()/1440+e.getUTCSeconds()/86400;t<=2&&(a-=1,t+=12);const s=Math.floor(a/100),o=2-s+Math.floor(s/4),i=Math.floor(365.25*(a+4716))+Math.floor(30.6001*(t+1))+n+o-1524.5;return i}(t),d=(c-2451545)/36525;let m=280.46061837+360.98564736629*(c-2451545)+387933e-9*d*d-d*d*d/3871e4;m=function(e){let a=e%360;a<0&&(a+=360);return a}(m)/15,m=Ee(m);const h=Ee(m+s/15)/24*2*Math.PI-i,u=Math.cos(r)*Math.sin(h),p=Math.cos(r)*Math.cos(h)*Math.sin(l)-Math.sin(r)*Math.cos(l);return[o*u,o*(Math.cos(r)*Math.cos(h)*Math.cos(l)+Math.sin(r)*Math.sin(l)),-o*p]}function Ee(e){let a=e;for(;a<0;)a+=24;for(;a>=24;)a-=24;return a}function Ge({star:e,radius:a,showLabels:s,showGlow:o,date:i,location:r,showAboveHorizon:l=!0,showBelowHorizon:c=!0,showNakshatraRings:d=!0}){const m=t.useRef(null),h=t.useRef(null),[u,p]=t.useState(!1),x=Be(e.ra,e.dec,i,r.latitude,r.longitude,a),g=Ae(e.spectralType),f=.8+.3*(2-e.magnitude);const y=t.useMemo(()=>{const e=new Q,a=new Float32Array([0,0,0]);return e.setAttribute("position",new ee(a,3)),e},[]),b=t.useMemo(()=>{const e=document.createElement("canvas");e.width=64,e.height=64;const a=e.getContext("2d"),t=a.createRadialGradient(32,32,0,32,32,32);t.addColorStop(0,"rgba(255, 255, 255, 1)"),t.addColorStop(.2,"rgba(255, 255, 255, 0.6)"),t.addColorStop(.5,"rgba(255, 255, 255, 0.2)"),t.addColorStop(1,"rgba(255, 255, 255, 0)"),a.fillStyle=t,a.fillRect(0,0,64,64);const n=new ae(e);return new te({size:8*f,map:n,transparent:!0,opacity:.4,blending:ne,color:new se(g),depthWrite:!1,sizeAttenuation:!0})},[g,f]);return oe(a=>{if(m.current){const t=.8+.2*Math.sin(2*a.clock.elapsedTime+10*e.ra);m.current.scale.setScalar(f*t)}if(h.current&&b){const t=.8+.2*Math.sin(1.5*a.clock.elapsedTime+5*e.dec);b.size=8*f*t}}),!l&&x[1]>0||!c&&x[1]<0?null:n.jsxs("group",{position:x,children:[n.jsxs("mesh",{ref:m,onPointerOver:()=>p(!0),onPointerOut:()=>p(!1),children:[n.jsx("sphereGeometry",{args:[f,8,8]}),n.jsx("meshBasicMaterial",{color:g})]}),e.nakshatra&&d&&n.jsxs(n.Fragment,{children:[n.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[n.jsx("torusGeometry",{args:[2.5*f,.3*f,8,32]}),n.jsx("meshBasicMaterial",{color:"#ffaa00",transparent:!0,opacity:.6})]}),n.jsxs("mesh",{rotation:[Math.PI/2,0,0],onPointerOver:()=>p(!0),onPointerOut:()=>p(!1),children:[n.jsx("ringGeometry",{args:[1.5*f,3.5*f,32]}),n.jsx("meshBasicMaterial",{transparent:!0,opacity:0})]})]}),o&&n.jsx("points",{ref:h,geometry:y,material:b}),(s||u)&&e.magnitude<2&&n.jsx(ie,{position:[0,4*f,0],center:!0,zIndexRange:[0,1e3],style:{color:"#ffffff",fontSize:u?"10px":"8px",fontFamily:"Space Mono, monospace",whiteSpace:"nowrap",pointerEvents:"none",textShadow:"0 0 3px rgba(0,0,0,0.9)",opacity:u?1:.7,backgroundColor:e.nakshatra?"rgba(255, 170, 0, 0.15)":"rgba(0, 0, 0, 0.4)",padding:"1px 4px",borderRadius:"2px",backdropFilter:"blur(2px)",border:e.nakshatra?"1px solid rgba(255, 170, 0, 0.3)":"none"},children:n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1px"},children:[n.jsx("span",{children:e.name}),e.nakshatra&&u&&n.jsx("span",{style:{color:"#ffaa00",fontSize:"7px",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.3px"},children:e.nakshatra})]})})]})}const Oe=["Ashwini","Bharani","Krittika","Rohini","Mrigashira","Ardra","Punarvasu","Pushya","Ashlesha","Magha","Purva Phalguni","Uttara Phalguni","Hasta","Chitra","Swati","Vishakha","Anuradha","Jyeshtha","Mula","Purva Ashadha","Uttara Ashadha","Shravana","Dhanishta","Shatabhisha","Purva Bhadrapada","Uttara Bhadrapada","Revati"];function De(e,a,t,n){if(void 0!==t)return Ie(t,n);const s=e/24*2*Math.PI,o=a*Math.PI/180,i=23.4392911*Math.PI/180,r=Math.sin(s)*Math.cos(i)+Math.tan(o)*Math.sin(i),l=Math.cos(s);let c=180*Math.atan2(r,l)/Math.PI;return c<0&&(c+=360),Ie(c,n)}function Ie(e,a){const t=a?function(e){const a=new Date("2000-01-01T12:00:00Z");return 23.85+(e.getTime()-a.getTime())/864e5/365.25*.01397}(a):24;let n=e-t;n<0&&(n+=360),n%=360;const s=Math.floor(n/(360/27));return Oe[s]}function He({planet:e,radius:a,showLabels:s,showGlow:o,date:i,location:r,showAboveHorizon:l=!0,showBelowHorizon:c=!0}){const d=t.useRef(null),m=t.useRef(null),[h,u]=t.useState(!1),p=Be(e.ra,e.dec,i,r.latitude,r.longitude,a);De(e.ra,e.dec,e.eclipticLongitude,i);const x="Sun"===e.name?3:"Moon"===e.name?2.5:1.5,g=t.useMemo(()=>{const e=new Q,a=new Float32Array([0,0,0]);return e.setAttribute("position",new ee(a,3)),e},[]),f=t.useMemo(()=>{const a=document.createElement("canvas");a.width=128,a.height=128;const t=a.getContext("2d"),n=t.createRadialGradient(64,64,0,64,64,64);n.addColorStop(0,"rgba(255, 255, 255, 1)"),n.addColorStop(.15,"rgba(255, 255, 255, 0.8)"),n.addColorStop(.3,"rgba(255, 255, 255, 0.4)"),n.addColorStop(.6,"rgba(255, 255, 255, 0.1)"),n.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=n,t.fillRect(0,0,128,128);const s=new ae(a);return new te({size:12*x,map:s,transparent:!0,opacity:.5,blending:ne,color:new se(e.color),depthWrite:!1,sizeAttenuation:!0})},[e.color,x]);return oe(e=>{if(m.current&&f){const a=1+.15*Math.sin(1.5*e.clock.elapsedTime);f.size=12*x*a}}),!l&&p[1]>0||!c&&p[1]<0?null:n.jsxs("group",{position:p,children:[n.jsxs("mesh",{ref:d,onPointerOver:()=>u(!0),onPointerOut:()=>u(!1),children:[n.jsx("sphereGeometry",{args:[x,16,16]}),n.jsx("meshBasicMaterial",{color:e.color})]}),o&&n.jsx("points",{ref:m,geometry:g,material:f}),(s||h)&&n.jsx(ie,{position:[0,4.5*x,0],center:!0,zIndexRange:[0,1e3],style:{color:e.color,fontSize:"11px",fontFamily:"Orbitron, sans-serif",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none",textShadow:`0 0 6px ${e.color}, 0 0 8px rgba(0,0,0,0.9)`,backgroundColor:"rgba(0, 0, 0, 0.6)",padding:"2px 6px",borderRadius:"3px",backdropFilter:"blur(3px)"},children:e.name})]})}function Re({radius:e,visible:a,date:s,location:o,showAboveHorizon:i=!0,showBelowHorizon:r=!0,showLabels:l=!0}){const c=t.useMemo(()=>{if(!a)return[];const t=new Map(Me.map(e=>[e.name,e])),n=[];return je.forEach(a=>{a.starNames.forEach(([l,c])=>{const d=t.get(l),m=t.get(c);if(d&&m){const t=Be(d.ra,d.dec,s,o.latitude,o.longitude,e),l=Be(m.ra,m.dec,s,o.latitude,o.longitude,e),c=new re(...t),h=new re(...l),u=c.y>0,p=h.y>0;if(!i&&u&&p)return;if(!r&&!u&&!p)return;n.push({points:[c,h],constellation:a.name})}})}),n},[e,a,s,o,i,r]),d=t.useMemo(()=>{if(!a||!l)return[];const t=new Map(Me.map(e=>[e.name,e])),n=[];return je.forEach(a=>{const l=new Set;a.starNames.forEach(([e,a])=>{l.add(e),e!==a&&l.add(a)});const c=[];if(l.forEach(a=>{const n=t.get(a);if(n){const a=Be(n.ra,n.dec,s,o.latitude,o.longitude,e);c.push(new re(...a))}}),c.length>0){const e=new re;c.forEach(a=>e.add(a)),e.divideScalar(c.length);const t=e.y>0;(i&&t||r&&!t)&&n.push({name:a.name,position:e})}}),n},[e,a,s,o,i,r,l]);return a?n.jsxs("group",{children:[c.map((e,a)=>n.jsx(le,{points:e.points,color:"#4a6fa5",lineWidth:1,dashed:!0,dashSize:2,gapSize:1.5,opacity:.6,transparent:!0},a)),l&&d.map((e,a)=>n.jsx(ie,{position:e.position,center:!0,sprite:!0,zIndexRange:[0,1e3],style:{pointerEvents:"none",userSelect:"none"},children:n.jsx("div",{style:{color:"#4a9eff",fontSize:"11px",fontFamily:"Orbitron, sans-serif",fontWeight:"bold",whiteSpace:"nowrap",textShadow:"0 0 6px #4a9eff, 0 0 8px rgba(0,0,0,0.9)",backgroundColor:"rgba(0, 0, 0, 0.6)",padding:"2px 6px",borderRadius:"3px",backdropFilter:"blur(3px)"},children:e.name})},`label-${a}`))]}):null}function Ke({radius:e,visible:a,opacity:s=.3,date:o,location:i,showAboveHorizon:r=!0,showBelowHorizon:l=!0,showHorizonLine:c=!0,showEquatorLine:d=!0,showEclipticLine:m=!0}){const{declinationLines:h,raLines:u,equator:p,ecliptic:x,raLabels:g,decLabels:f}=t.useMemo(()=>{const a=[],t=[],n=[],s=[];for(let d=-60;d<=60;d+=30){const t=[];for(let a=0;a<=24;a+=.5){const n=Be(a,d,o,i.latitude,i.longitude,e);t.push(new re(...n))}if(a.push(t),0!==d){const a=Be(0,d,o,i.latitude,i.longitude,e+3);s.push({position:new re(...a),label:`${d>0?"+":""}${d}°`})}}for(let d=0;d<24;d+=2){const a=[];for(let t=-90;t<=90;t+=5){const n=Be(d,t,o,i.latitude,i.longitude,e);a.push(new re(...n))}t.push(a);const s=Be(d,0,o,i.latitude,i.longitude,e+3);n.push({position:new re(...s),label:`${d}h`})}const r=[];for(let d=0;d<=24;d+=.1){const a=Be(d,0,o,i.latitude,i.longitude,e);r.push(new re(...a))}const l=[],c=23.4*Math.PI/180;for(let d=0;d<=360;d+=1){const a=d*Math.PI/180,t=Math.cos(a),n=Math.sin(a),s=0,r=t,m=n*Math.cos(c)-s*Math.sin(c),h=n*Math.sin(c)+s*Math.cos(c),u=Math.sqrt(r*r+m*m+h*h),p=180*Math.asin(h/u)/Math.PI;let x=180*Math.atan2(m,r)/Math.PI;x<0&&(x+=360),x/=15;const g=Be(x,p,o,i.latitude,i.longitude,e);l.push(new re(...g))}return{declinationLines:a,raLines:t,equator:r,ecliptic:l,raLabels:n,decLabels:s}},[e,o,i]);if(!a)return null;const y=`hsl(220, 40%, ${25+30*s}%)`;return n.jsxs("group",{children:[h.map((e,a)=>{const t=e.filter(e=>!(!r&&e.y>0)&&!(!l&&e.y<0));return t.length<2?null:n.jsx(le,{points:t,color:y,lineWidth:1,opacity:.6*s,transparent:!0},`dec-${a}`)}),u.map((e,a)=>{const t=e.filter(e=>!(!r&&e.y>0)&&!(!l&&e.y<0));return t.length<2?null:n.jsx(le,{points:t,color:y,lineWidth:1,opacity:.6*s,transparent:!0},`ra-${a}`)}),g.map((e,a)=>{if(!r&&e.position.y>0)return null;if(!l&&e.position.y<0)return null;const t=Math.atan2(e.position.x,-e.position.z);return n.jsx(ce,{position:e.position,fontSize:2,color:"#6b8cba",anchorX:"center",anchorY:"middle",rotation:[0,t,0],billboard:!1,children:e.label},`ra-label-${a}`)}),f.map((e,a)=>{if(!r&&e.position.y>0)return null;if(!l&&e.position.y<0)return null;const t=Math.atan2(e.position.x,-e.position.z);return n.jsx(ce,{position:e.position,fontSize:2,color:"#6b8cba",anchorX:"center",anchorY:"middle",rotation:[0,t,0],billboard:!1,children:e.label},`dec-label-${a}`)}),c&&n.jsx(le,{points:Array.from({length:181},(a,t)=>{const n=2*t*Math.PI/180;return new re(Math.cos(n)*e,0,Math.sin(n)*e)}),color:"#00ff88",lineWidth:5,opacity:s+.4,transparent:!0}),c&&n.jsx(ce,{position:[e+5,0,.1*e],fontSize:2.8,color:"#00ff88",anchorX:"left",anchorY:"middle",children:"HORIZON"}),d&&n.jsx(le,{points:p,color:"#4a90d9",lineWidth:4,opacity:s+.3,transparent:!0}),d&&n.jsx(ce,{position:[e+5,0,0],fontSize:2.5,color:"#4a90d9",anchorX:"left",anchorY:"middle",children:"EQUATOR 0°"}),m&&n.jsx(le,{points:x,color:"#d9a54a",lineWidth:2,opacity:s+.2,transparent:!0}),m&&n.jsx(ce,{position:[e+5,e*Math.sin(23.4*Math.PI/180),0],fontSize:2,color:"#d9a54a",anchorX:"left",anchorY:"middle",children:"ECLIPTIC"}),r&&n.jsx(ce,{position:[0,.8*e,0],fontSize:3,color:"#4a90d9",anchorX:"center",anchorY:"middle",fillOpacity:.8*s,children:"NORTHERN HEMISPHERE"}),l&&n.jsx(ce,{position:[0,.8*-e,0],fontSize:3,color:"#4ecdc4",anchorX:"center",anchorY:"middle",fillOpacity:.8*s,children:"SOUTHERN HEMISPHERE"})]})}function Ue({latitude:e=0}){const a=t.useRef(null),s=t.useRef(null),o=e<0;return oe(e=>{s.current&&(s.current.position.y=.1*Math.sin(.5*e.clock.elapsedTime))}),n.jsxs("group",{ref:a,position:[0,0,0],children:[n.jsxs("group",{scale:[.6,.6,.6],children:[n.jsxs("mesh",{position:[0,1.2,0],children:[n.jsx("sphereGeometry",{args:[.4,16,16]}),n.jsx("meshBasicMaterial",{color:"#ffeb3b"})]}),n.jsxs("mesh",{position:[0,.4,0],children:[n.jsx("boxGeometry",{args:[.6,.8,.4]}),n.jsx("meshBasicMaterial",{color:"#ffeb3b"}),n.jsxs("lineSegments",{children:[n.jsx("edgesGeometry",{attach:"geometry",args:[new de(.6,.8,.4)]}),n.jsx("lineBasicMaterial",{color:"#000000",linewidth:1})]})]}),n.jsxs("mesh",{position:[-.45,.4,0],children:[n.jsx("boxGeometry",{args:[.35,.8,.35]}),n.jsx("meshBasicMaterial",{color:"#ffeb3b"}),n.jsxs("lineSegments",{children:[n.jsx("edgesGeometry",{attach:"geometry",args:[new de(.35,.8,.35)]}),n.jsx("lineBasicMaterial",{color:"#000000",linewidth:1})]})]}),n.jsxs("mesh",{position:[.45,.4,0],children:[n.jsx("boxGeometry",{args:[.35,.8,.35]}),n.jsx("meshBasicMaterial",{color:"#ffeb3b"}),n.jsxs("lineSegments",{children:[n.jsx("edgesGeometry",{attach:"geometry",args:[new de(.35,.8,.35)]}),n.jsx("lineBasicMaterial",{color:"#000000",linewidth:1})]})]}),n.jsxs("mesh",{position:[-.2,-.35,0],children:[n.jsx("boxGeometry",{args:[.25,.7,.35]}),n.jsx("meshBasicMaterial",{color:"#ffeb3b"}),n.jsxs("lineSegments",{children:[n.jsx("edgesGeometry",{attach:"geometry",args:[new de(.25,.7,.35)]}),n.jsx("lineBasicMaterial",{color:"#000000",linewidth:1})]})]}),n.jsxs("mesh",{position:[.2,-.35,0],children:[n.jsx("boxGeometry",{args:[.25,.7,.35]}),n.jsx("meshBasicMaterial",{color:"#ffeb3b"}),n.jsxs("lineSegments",{children:[n.jsx("edgesGeometry",{attach:"geometry",args:[new de(.25,.7,.35)]}),n.jsx("lineBasicMaterial",{color:"#000000",linewidth:1})]})]})]}),n.jsxs("group",{ref:s,position:[0,-.5,0],rotation:o?[0,Math.PI,0]:[0,0,0],children:[n.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[n.jsx("torusGeometry",{args:[3.5,.08,8,64]}),n.jsx("meshBasicMaterial",{color:"#4a90d9",transparent:!0,opacity:.6})]}),n.jsxs("group",{position:[0,0,-3.5],children:[n.jsxs("mesh",{rotation:[-Math.PI/2,0,0],children:[n.jsx("coneGeometry",{args:[.25,.6,8]}),n.jsx("meshBasicMaterial",{color:"#4ecdc4"})]}),n.jsx(ce,{position:[0,.8,0],fontSize:.6,color:"#4ecdc4",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,Math.PI,0],billboard:!1,children:"S"}),n.jsx(ce,{position:[0,.25,0],fontSize:.25,color:"#7eddd7",anchorX:"center",anchorY:"middle",maxWidth:1,children:"180°"})]}),n.jsxs("group",{position:[0,0,3.5],children:[n.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[n.jsx("coneGeometry",{args:[.25,.6,8]}),n.jsx("meshBasicMaterial",{color:"#ff6b6b"})]}),n.jsx(ce,{position:[0,.8,0],fontSize:.6,color:"#ff6b6b",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,0,0],billboard:!1,children:"N"}),n.jsx(ce,{position:[0,.25,0],fontSize:.25,color:"#ff9999",anchorX:"center",anchorY:"middle",maxWidth:1,children:"0°"})]}),n.jsxs("group",{position:[3.5,0,0],children:[n.jsxs("mesh",{rotation:[0,0,-Math.PI/2],children:[n.jsx("coneGeometry",{args:[.25,.6,8]}),n.jsx("meshBasicMaterial",{color:"#ffe66d"})]}),n.jsx(ce,{position:[0,.8,0],fontSize:.6,color:"#ffe66d",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,Math.PI/2,0],billboard:!1,children:"E"}),n.jsx(ce,{position:[0,.25,0],fontSize:.25,color:"#fff099",anchorX:"center",anchorY:"middle",maxWidth:1,children:"90°"})]}),n.jsxs("group",{position:[-3.5,0,0],children:[n.jsxs("mesh",{rotation:[0,0,Math.PI/2],children:[n.jsx("coneGeometry",{args:[.25,.6,8]}),n.jsx("meshBasicMaterial",{color:"#a8e6cf"})]}),n.jsx(ce,{position:[0,.8,0],fontSize:.6,color:"#a8e6cf",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,-Math.PI/2,0],billboard:!1,children:"W"}),n.jsx(ce,{position:[0,.25,0],fontSize:.25,color:"#c4f0dc",anchorX:"center",anchorY:"middle",maxWidth:1,children:"270°"})]}),n.jsx("group",{position:[2.475,0,3.5],children:n.jsx(ce,{position:[0,.6,0],fontSize:.35,color:"#bbbbbb",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,Math.PI/4,0],billboard:!1,children:"NE"})}),n.jsx("group",{position:[2.475,0,-2.475],children:n.jsx(ce,{position:[0,.6,0],fontSize:.35,color:"#bbbbbb",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,3*Math.PI/4,0],billboard:!1,children:"SE"})}),n.jsx("group",{position:[-2.475,0,-2.475],children:n.jsx(ce,{position:[0,.6,0],fontSize:.35,color:"#bbbbbb",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,5*Math.PI/4,0],billboard:!1,children:"SW"})}),n.jsx("group",{position:[-2.475,0,3.5],children:n.jsx(ce,{position:[0,.6,0],fontSize:.35,color:"#bbbbbb",anchorX:"center",anchorY:"middle",maxWidth:1,rotation:[0,7*Math.PI/4,0],billboard:!1,children:"NW"})})]}),n.jsxs("group",{position:[0,5,0],children:[n.jsxs("mesh",{children:[n.jsx("sphereGeometry",{args:[.15,8,8]}),n.jsx("meshBasicMaterial",{color:"#ffffff",transparent:!0,opacity:.6})]}),n.jsx(ce,{position:[.5,0,0],fontSize:.3,color:"#aaaaaa",anchorX:"left",anchorY:"middle",children:"Zenith"})]})]})}function Ve({radius:e,visible:a,opacity:s=.8}){const o=t.useMemo(()=>[{label:"N",position:new re(0,0,e),color:"#ff4444"},{label:"S",position:new re(0,0,-e),color:"#ffffff"},{label:"W",position:new re(e,0,0),color:"#4a90d9"},{label:"E",position:new re(-e,0,0),color:"#ffaa00"},{label:"NW",position:new re(.707*e,0,.707*e),color:"#88aaff"},{label:"NE",position:new re(.707*-e,0,.707*e),color:"#ffaaaa"},{label:"SW",position:new re(.707*e,0,.707*-e),color:"#aaccff"},{label:"SE",position:new re(.707*-e,0,.707*-e),color:"#ffdd88"}],[e]);return a?n.jsx("group",{children:o.map(e=>n.jsx(ie,{position:e.position,center:!0,zIndexRange:[1e3,2e3],style:{color:e.color,fontSize:1===e.label.length?"24px":"16px",fontFamily:"Orbitron, sans-serif",fontWeight:"bold",whiteSpace:"nowrap",pointerEvents:"none",textShadow:`0 0 8px ${e.color}, 0 0 12px rgba(0,0,0,0.9), 0 0 4px ${e.color}`,opacity:s,backgroundColor:"rgba(0, 0, 0, 0.7)",padding:1===e.label.length?"6px 12px":"4px 8px",borderRadius:"4px",backdropFilter:"blur(4px)",border:`2px solid ${e.color}`,letterSpacing:"2px"},children:e.label},e.label))}):null}function We({date:e,showGrid:a,showConstellations:s,showLabels:o,showConstellationLabels:i=!0,showGlow:r,gridOpacity:l,zoomLevel:c,location:d,firstPersonMode:m,showAboveHorizon:h=!0,showBelowHorizon:u=!0,showNakshatraRings:p=!0,showHorizonLine:x=!0,showEquatorLine:g=!0,showEclipticLine:f=!0}){const y=200,b=t.useRef(null),{camera:M}=me();t.useEffect(()=>{b.current&&(b.current.minPolarAngle=-1/0,b.current.maxPolarAngle=1/0,b.current.minAzimuthAngle=-1/0,b.current.maxAzimuthAngle=1/0)},[]),t.useEffect(()=>{if(M)if(m)M.position.set(0,0,0),M.lookAt(0,1,0),M.updateProjectionMatrix();else{const e=c,a=M.position.clone().normalize();M.position.copy(a.multiplyScalar(e)),M.updateProjectionMatrix()}},[c,M,m]);const j=t.useMemo(()=>[...Le(e),ze(e),Fe(e)],[e]);return n.jsxs(n.Fragment,{children:[n.jsx(he,{ref:b,enablePan:!1,enableZoom:!m,enableRotate:!0,minDistance:5,maxDistance:500,rotateSpeed:m?1:.5,zoomSpeed:.8,enableDamping:!1}),n.jsx("ambientLight",{intensity:.1}),n.jsx(ue,{radius:400,depth:100,count:8e3,factor:4,saturation:0,fade:!0,speed:.3}),!m&&n.jsx(Ue,{latitude:d.latitude}),n.jsx(Ve,{radius:y,visible:!0,opacity:m?1:.6}),n.jsx(Ke,{radius:y,visible:a,opacity:l,date:e,location:d,showAboveHorizon:h,showBelowHorizon:u,showHorizonLine:x,showEquatorLine:g,showEclipticLine:f}),n.jsx(Re,{radius:y,visible:s,date:e,location:d,showAboveHorizon:h,showBelowHorizon:u,showLabels:i}),n.jsx(t.Suspense,{fallback:null,children:Me.map(a=>n.jsx(Ge,{star:a,radius:y,showLabels:o,showGlow:r,date:e,location:d,showAboveHorizon:h,showBelowHorizon:u,showNakshatraRings:p},a.name))}),n.jsx(t.Suspense,{fallback:null,children:j.map(a=>n.jsx(He,{planet:a,radius:y,showLabels:o,showGlow:r,date:e,location:d,showAboveHorizon:h,showBelowHorizon:u},a.name))})]})}function $e({open:e,initial:a,onSelect:s,onClose:o}){const i=t.useRef(null),r=t.useRef(null),l=t.useRef(null),[c,d]=t.useState(a??{lat:0,lng:0}),[m,h]=t.useState(""),[u,M]=t.useState(!1),j=async(e,a)=>{M(!0);try{const t=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${e}&lon=${a}&zoom=10&addressdetails=1`),n=await t.json();n.display_name?h(n.display_name):h(`${e.toFixed(4)}°, ${a.toFixed(4)}°`)}catch(t){h(`${e.toFixed(4)}°, ${a.toFixed(4)}°`)}finally{M(!1)}};t.useEffect(()=>{if(!e){if(r.current){try{r.current.remove()}catch(n){}r.current=null,l.current=null}return void h("")}const t=setTimeout(()=>{if(i.current)if(r.current)r.current.invalidateSize();else try{const e=xe.map(i.current,{center:[(null==a?void 0:a.lat)||0,(null==a?void 0:a.lng)||0],zoom:(null==a?void 0:a.lat)||(null==a?void 0:a.lng)?5:2,zoomControl:!0,scrollWheelZoom:!0,doubleClickZoom:!0,touchZoom:!0,boxZoom:!0,keyboard:!0,dragging:!0});r.current=e;const t=xe.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"© OpenStreetMap contributors"}),n=xe.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{maxZoom:19,attribution:"© Esri"}),s=xe.tileLayer("https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:"© OpenTopoMap contributors"});t.addTo(e);const o={Streets:t,Satellite:n,Terrain:s};xe.control.layers(o).addTo(e),xe.control.scale({imperial:!0,metric:!0,position:"bottomleft"}).addTo(e),setTimeout(()=>{r.current&&r.current.invalidateSize()},200),e.on("click",a=>{const{lat:t,lng:n}=a.latlng;d({lat:t,lng:n}),j(t,n),l.current?l.current.setLatLng([t,n]):l.current=xe.marker([t,n]).addTo(e)}),a&&(l.current=xe.marker([a.lat,a.lng]).addTo(e),j(a.lat,a.lng))}catch(e){}},150);return()=>{clearTimeout(t)}},[e]);return n.jsx(x,{open:e,onOpenChange:e=>!e&&o(),children:n.jsxs(g,{className:"max-w-4xl w-[90vw] h-[80vh] flex flex-col p-0 gap-0",children:[n.jsx(f,{className:"p-4 pb-2 border-b",children:n.jsx(y,{children:"Pick Location On Map"})}),n.jsxs("div",{className:"flex-1 flex flex-col p-4 overflow-hidden",style:{minHeight:0},children:[n.jsx("div",{ref:i,className:"rounded-md overflow-hidden border bg-gray-900",style:{height:"calc(80vh - 180px)",minHeight:"400px",width:"100%"}}),n.jsx("div",{className:"mt-3 space-y-2",children:u?n.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Loading location info..."}):m?n.jsxs("div",{className:"p-3 rounded-md bg-muted/50 border",children:[n.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Selected Location:"}),n.jsx("div",{className:"text-sm font-medium",children:m}),n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[c.lat.toFixed(6),"°, ",c.lng.toFixed(6),"°"]})]}):n.jsx("div",{className:"text-sm text-muted-foreground",children:"Click on the map to place the marker, then press Select."})}),n.jsxs("div",{className:"flex gap-2 justify-between mt-4",children:[n.jsxs(p,{variant:"outline",onClick:()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{const a=e.coords.latitude,t=e.coords.longitude;d({lat:a,lng:t}),j(a,t),r.current&&(r.current.setView([a,t],10),l.current?l.current.setLatLng([a,t]):l.current=xe.marker([a,t]).addTo(r.current))},e=>{alert("Unable to retrieve your location. Please ensure location permissions are enabled.")}):alert("Geolocation is not supported by your browser")},className:"gap-2",children:[n.jsx(b,{className:"h-4 w-4"}),"Use Current Location"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(p,{variant:"outline",onClick:o,children:"Cancel"}),n.jsx(p,{onClick:()=>{s(c.lat,c.lng,m||`${c.lat.toFixed(4)}°, ${c.lng.toFixed(4)}°`),o()},children:"Select"})]})]})]})]})})}const qe=Object.freeze(Object.defineProperty({__proto__:null,default:$e},Symbol.toStringTag,{value:"Module"})),Ye=(e,a)=>{const t=Math.round(a/15);return`UTC${t>=0?"+":""}${t}`};function _e({date:e,onDateChange:a,showGrid:o,onShowGridChange:i,showConstellations:r,onShowConstellationsChange:l,showLabels:c,onShowLabelsChange:d,showConstellationLabels:m,onShowConstellationLabelsChange:h,showGlow:u,onShowGlowChange:x,gridOpacity:g,onGridOpacityChange:f,skyDarkness:y,onSkyDarknessChange:b,zoomLevel:Y,onZoomLevelChange:_,location:Z,onLocationChange:X,onExportSVG:J,firstPersonMode:Q,onFirstPersonModeChange:ee,showNakshatraPanel:ae,onShowNakshatraPanelChange:te,showSunMoonPanel:ne,onShowSunMoonPanelChange:se,isLive:oe,onLiveModeChange:ie,showAboveHorizon:re,onShowAboveHorizonChange:le,showBelowHorizon:ce,onShowBelowHorizonChange:de,showNakshatraRings:me,onShowNakshatraRingsChange:he,showHorizonLine:ue,onShowHorizonLineChange:pe,showEquatorLine:xe,onShowEquatorLineChange:ge,showEclipticLine:fe,onShowEclipticLineChange:ye,timeSpeed:be,onTimeSpeedChange:Me}){const[je,Ae]=t.useState(!0),[Se,we]=t.useState(Z.latitude.toString()),[Te,Ne]=t.useState(Z.longitude.toString()),[Ce,ke]=t.useState(!1),[ve,Pe]=t.useState(1),[Le,ze]=t.useState("s"),[Fe,Be]=t.useState({dateTime:!0,location:!0,view:!1,display:!1,horizon:!1,export:!0}),Ee=e=>{Be(a=>({...a,[e]:!a[e]}))},Ge=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}T${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`,[Oe,De]=t.useState(Ge(e)),Ie=(e,a)=>{Pe(e),ze(a);const t=e*{s:1,m:60,h:3600,d:86400,y:31536e3}[a];Me(t),1===t||oe||ie(!0)};s.useEffect(()=>{we(Z.latitude.toString()),Ne(Z.longitude.toString())},[Z.latitude,Z.longitude]),s.useEffect(()=>{De(Ge(e))},[e]);return n.jsxs(n.Fragment,{children:[!je&&n.jsx(p,{variant:"outline",size:"icon",className:"fixed left-4 top-4 z-[9999] bg-card border-border shadow-lg",onClick:()=>Ae(!0),children:n.jsx(M,{className:"h-4 w-4"})}),n.jsx("div",{className:"fixed left-0 top-0 h-full z-[9998] transition-transform duration-300 "+(je?"translate-x-0":"-translate-x-full"),children:n.jsxs("div",{className:"h-full w-80 bg-card border-r border-border shadow-2xl flex flex-col",children:[n.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[n.jsxs("h2",{className:"font-orbitron text-lg font-semibold text-foreground flex items-center gap-2",children:[n.jsx(M,{className:"h-5 w-5 text-primary"}),"Sky Map Settings"]}),n.jsx(p,{variant:"ghost",size:"icon",onClick:()=>Ae(!1),children:n.jsx(j,{className:"h-4 w-4"})})]}),n.jsx(A,{className:"flex-1",children:n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs(S,{open:Fe.dateTime,onOpenChange:()=>Ee("dateTime"),children:[n.jsx(w,{asChild:!0,children:n.jsxs("button",{className:"w-full flex items-center justify-between text-sm font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(T,{className:"h-4 w-4"}),"Date & Time"]}),n.jsx(N,{className:"h-4 w-4 transition-transform "+(Fe.dateTime?"rotate-180":"")})]})}),n.jsxs(C,{className:"pt-3 space-y-2",children:[n.jsx(k,{type:"datetime-local",value:Oe,onChange:e=>{const t=e.target.value;De(t);const n=new Date(t);isNaN(n.getTime())||a(n)},className:"w-full cursor-pointer [&::-webkit-calendar-picker-indicator]:cursor-pointer [&::-webkit-calendar-picker-indicator]:absolute [&::-webkit-calendar-picker-indicator]:inset-0 [&::-webkit-calendar-picker-indicator]:w-full [&::-webkit-calendar-picker-indicator]:h-full [&::-webkit-calendar-picker-indicator]:opacity-0"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs(p,{variant:"secondary",size:"sm",className:"gap-2",onClick:()=>{ie(!1),a(new Date)},children:[n.jsx(v,{className:"h-4 w-4"}),"Reset"]}),n.jsxs(p,{variant:oe?"default":"secondary",size:"sm",className:"gap-2 "+(oe?"bg-green-600 hover:bg-green-700":""),onClick:()=>ie(!oe),children:[n.jsx(P,{className:"h-4 w-4 "+(oe?"animate-pulse":"")}),"Live"]})]}),n.jsxs("div",{className:"space-y-2 pt-2 border-t border-border/50",children:[n.jsx(L,{className:"text-xs text-muted-foreground",children:"Time Simulator"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(k,{type:"number",value:ve,onChange:e=>{const a=Math.max(.1,parseFloat(e.target.value)||1);Ie(a,Le)},className:"flex-1 h-9 text-sm",min:"0.1",step:"0.1"}),n.jsxs(z,{value:Le,onValueChange:e=>{Ie(ve,e)},children:[n.jsx(F,{className:"w-[80px] h-9",children:n.jsx(B,{})}),n.jsxs(E,{className:"z-[10000]",children:[n.jsx(G,{value:"s",children:"sec"}),n.jsx(G,{value:"m",children:"min"}),n.jsx(G,{value:"h",children:"hour"}),n.jsx(G,{value:"d",children:"day"}),n.jsx(G,{value:"y",children:"year"})]})]})]}),n.jsxs("div",{className:"text-[10px] text-muted-foreground text-center",children:[ve," ","s"===Le?"second":"m"===Le?"minute":"h"===Le?"hour":"d"===Le?"day":"year",1!==ve?"s":""," per real second"]})]})]})]}),n.jsx(O,{}),n.jsxs(S,{open:Fe.location,onOpenChange:()=>Ee("location"),children:[n.jsx(w,{asChild:!0,children:n.jsxs("button",{className:"w-full flex items-center justify-between text-sm font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(D,{className:"h-4 w-4"}),"Observer Location"]}),n.jsx(N,{className:"h-4 w-4 transition-transform "+(Fe.location?"rotate-180":"")})]})}),n.jsxs(C,{className:"pt-3 space-y-3",children:[n.jsxs("div",{className:"bg-muted/50 rounded-md p-2 text-xs space-y-1",children:[n.jsx("p",{className:"text-foreground font-medium",children:Z.name}),n.jsxs("p",{className:"text-muted-foreground",children:[Z.latitude.toFixed(4),"°, ",Z.longitude.toFixed(4),"°"]}),n.jsxs("div",{className:"pt-1 border-t border-border/50 space-y-0.5",children:[n.jsxs("p",{className:"text-muted-foreground flex items-center gap-1",children:[n.jsx("span",{className:"text-[10px] opacity-70",children:"System TZ:"}),n.jsx("span",{className:"font-mono text-[10px]",children:Intl.DateTimeFormat().resolvedOptions().timeZone})]}),n.jsxs("p",{className:"text-muted-foreground flex items-center gap-1",children:[n.jsx("span",{className:"text-[10px] opacity-70",children:"Location TZ:"}),n.jsx("span",{className:"font-mono text-[10px]",children:Ye(Z.latitude,Z.longitude)})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(L,{className:"text-xs text-muted-foreground",children:"Custom Coordinates"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(k,{type:"number",placeholder:"Lat",value:Se,onChange:e=>we(e.target.value),className:"text-xs h-8",min:-90,max:90}),n.jsx(k,{type:"number",placeholder:"Lng",value:Te,onChange:e=>Ne(e.target.value),className:"text-xs h-8",min:-180,max:180}),n.jsx(p,{size:"sm",className:"h-8 px-3",onClick:()=>{const e=parseFloat(Se),a=parseFloat(Te);!isNaN(e)&&!isNaN(a)&&e>=-90&&e<=90&&a>=-180&&a<=180&&X({latitude:e,longitude:a,name:"Custom Location"})},children:"Set"})]}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsx(p,{size:"sm",className:"h-8 px-3",onClick:()=>ke(!0),children:"Pick on Map"}),n.jsx(p,{size:"sm",className:"h-8 px-3",onClick:()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{const a=e.coords.latitude,t=e.coords.longitude;X({latitude:a,longitude:t,name:"Current Location"})},e=>{}):alert("Geolocation not available in this browser.")},children:"Use My Location"})]})]})]})]}),n.jsx($e,{open:Ce,initial:{lat:Z.latitude,lng:Z.longitude},onSelect:(e,a,t)=>X({latitude:e,longitude:a,name:t}),onClose:()=>ke(!1)}),n.jsx(O,{}),n.jsxs(S,{open:Fe.display,onOpenChange:()=>Ee("display"),children:[n.jsx(w,{asChild:!0,children:n.jsxs("button",{className:"w-full flex items-center justify-between text-sm font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(I,{className:"h-4 w-4"}),"Display Options"]}),n.jsx(N,{className:"h-4 w-4 transition-transform "+(Fe.display?"rotate-180":"")})]})}),n.jsx(C,{className:"pt-3",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(L,{htmlFor:"grid",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx(H,{className:"h-4 w-4"}),"Show Grid"]}),n.jsx(R,{id:"grid",checked:o,onCheckedChange:i})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(L,{htmlFor:"constellations",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx(K,{className:"h-4 w-4"}),"Constellations"]}),n.jsx(R,{id:"constellations",checked:r,onCheckedChange:l})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(L,{htmlFor:"labels",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx(U,{className:"h-4 w-4"}),"Star Labels"]}),n.jsx(R,{id:"labels",checked:c,onCheckedChange:d})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(L,{htmlFor:"constellation-labels",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx(K,{className:"h-4 w-4 text-blue-400"}),"Constellation Labels"]}),n.jsx(R,{id:"constellation-labels",checked:m,onCheckedChange:h})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(L,{htmlFor:"glow",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx(V,{className:"h-4 w-4"}),"Star/Planet Glow"]}),n.jsx(R,{id:"glow",checked:u,onCheckedChange:x})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(L,{htmlFor:"firstPerson",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx(W,{className:"h-4 w-4"}),"First-Person View"]}),n.jsx(R,{id:"firstPerson",checked:Q,onCheckedChange:ee})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(L,{htmlFor:"nakshatraPanel",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-amber-400",children:"★"}),"Nakshatra Panel"]}),n.jsx(R,{id:"nakshatraPanel",checked:ae,onCheckedChange:te})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(L,{htmlFor:"sunMoonPanel",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-yellow-400",children:"☼"}),"Sun & Moon Panel"]}),n.jsx(R,{id:"sunMoonPanel",checked:ne,onCheckedChange:se})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(L,{htmlFor:"showAboveHorizon",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{children:"↑"}),"Above Horizon"]}),n.jsx(R,{id:"showAboveHorizon",checked:re,onCheckedChange:le})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(L,{htmlFor:"showBelowHorizon",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{children:"↓"}),"Below Horizon"]}),n.jsx(R,{id:"showBelowHorizon",checked:ce,onCheckedChange:de})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(L,{htmlFor:"nakshatraRings",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-amber-400",children:"⭘"}),"Nakshatra Rings"]}),n.jsx(R,{id:"nakshatraRings",checked:me,onCheckedChange:he})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(L,{htmlFor:"horizonLine",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-green-400",children:"—"}),"Horizon Line"]}),n.jsx(R,{id:"horizonLine",checked:ue,onCheckedChange:pe})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(L,{htmlFor:"equatorLine",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-blue-400",children:"—"}),"Equator Line"]}),n.jsx(R,{id:"equatorLine",checked:xe,onCheckedChange:ge})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(L,{htmlFor:"eclipticLine",className:"flex items-center gap-2 cursor-pointer text-sm",children:[n.jsx("span",{className:"text-yellow-400",children:"—"}),"Ecliptic Line"]}),n.jsx(R,{id:"eclipticLine",checked:fe,onCheckedChange:ye})]})]})})]}),n.jsx(O,{}),n.jsxs(S,{open:Fe.view,onOpenChange:()=>Ee("view"),children:[n.jsx(w,{asChild:!0,children:n.jsxs("button",{className:"w-full flex items-center justify-between text-sm font-semibold text-muted-foreground uppercase tracking-wider hover:text-foreground transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(P,{className:"h-4 w-4"}),"Visual Adjustments"]}),n.jsx(N,{className:"h-4 w-4 transition-transform "+(Fe.view?"rotate-180":"")})]})}),n.jsxs(C,{className:"pt-3 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(L,{className:"text-sm",children:"Grid Visibility"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.round(100*g),"%"]})]}),n.jsx($,{value:[g],onValueChange:([e])=>f(e),min:.1,max:1,step:.05})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(L,{className:"text-sm",children:"Sky Darkness"}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.round(100*y),"%"]})]}),n.jsx($,{value:[y],onValueChange:([e])=>b(e),min:0,max:1,step:.05})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(L,{className:"text-sm",children:"Zoom Level"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:Y.toFixed(0)})]}),n.jsx($,{value:[Y],onValueChange:([e])=>_(e),min:10,max:300,step:5}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Zoom out to view the entire celestial sphere"})]})]})]}),n.jsx(O,{}),n.jsxs(p,{onClick:J,className:"w-full gap-2",children:[n.jsx(q,{className:"h-4 w-4"}),"EXPORT (BETA)"]}),n.jsx(O,{}),n.jsxs("section",{className:"space-y-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"CONTROLS"}),n.jsxs("div",{className:"text-xs text-muted-foreground space-y-2 bg-muted/30 rounded-md p-3",children:[n.jsxs("p",{children:["• ",n.jsx("strong",{children:"Drag"})," to rotate view"]}),n.jsxs("p",{children:["• ",n.jsx("strong",{children:"Scroll"})," to zoom in/out"]}),n.jsxs("p",{children:["• ",n.jsx("strong",{children:"Zoom slider"})," to zoom out completely"]}),n.jsxs("p",{children:["• ",n.jsx("strong",{children:"Hover"})," over objects for details"]})]})]})]})}),n.jsxs("div",{className:"p-4 border-t border-border bg-muted/30",children:[n.jsx("h4",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"LEGEND"}),n.jsxs("div",{className:"flex flex-col gap-1.5 text-xs",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-1 bg-[#4a90d9] rounded-full"}),n.jsx("span",{className:"text-muted-foreground",children:"Celestial Equator"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-0.5 bg-[#d9a54a]"}),n.jsx("span",{className:"text-muted-foreground",children:"Ecliptic"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-0.5 border-t border-dashed border-[#4a6fa5]"}),n.jsx("span",{className:"text-muted-foreground",children:"Constellation Lines"})]})]})]})]})})]})}const Ze=({message:e="Loading..."})=>n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] space-y-4",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),e&&n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:e})]}),Xe=t.lazy(()=>ge(()=>import("./NakshatraPanel-BG0Z2GNP.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url).then(e=>({default:e.NakshatraPanel}))),Je=t.lazy(()=>ge(()=>import("./ExportDialog-BYO2572-.js"),__vite__mapDeps([8,1,2,3,4]),import.meta.url).then(e=>({default:e.ExportDialog})));function Qe(e,a){return function(s){return n.jsx(t.Suspense,{fallback:n.jsx(Ze,{message:a}),children:n.jsx(e,{...s})})}}t.lazy(()=>ge(()=>Promise.resolve().then(()=>qe),void 0,import.meta.url));const ea=Qe(Xe,"Loading Nakshatra panel..."),aa=Qe(Je,"Preparing export..."),ta=(e,a,t)=>{const n=e.getFullYear(),s=e.getMonth()+1,o=e.getDate(),i=Math.floor((14-s)/12),r=n+4800-i,l=s+12*i-3,c=o+Math.floor((153*l+2)/5)+365*r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400)-32045-2451545+8e-4-t/360,d=(357.5291+.98560028*c)%360,m=d*Math.PI/180,h=(d+(1.9148*Math.sin(m)+.02*Math.sin(2*m)+3e-4*Math.sin(3*m))+180+102.9372)%360*Math.PI/180,u=2451545+c+.0053*Math.sin(m)-.0069*Math.sin(2*h),p=Math.sin(h)*Math.sin(23.44*Math.PI/180),x=Math.cos(Math.asin(p)),g=a*Math.PI/180,f=(Math.sin(-.833*Math.PI/180)-Math.sin(g)*p)/(Math.cos(g)*x);if(f>1)return{sunrise:"No Sunrise",sunset:"No Sunset"};if(f<-1)return{sunrise:"Midnight Sun",sunset:"Midnight Sun"};const y=180*Math.acos(f)/Math.PI,b=u+y/360,M=e=>{const a=new Date(864e5*(e-2440587.5)),t=a.getHours(),n=a.getMinutes(),s=a.getSeconds();return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`};return{sunrise:M(u-y/360),sunset:M(b)}},na=(e,a,t,n)=>{const s=e=>{for(;e<0;)e+=360;for(;e>=360;)e-=360;return e},o=e=>e*Math.PI/180,i=e=>{const a=e-2451545,t=s(218.316+13.176396*a),n=s(134.963+13.064993*a),i=s(93.272+13.22935*a),r=s(t+6.289*Math.sin(o(n))),l=5.128*Math.sin(o(i)),c=o(23.439),d=o(r),m=o(l),h=Math.atan2(Math.sin(d)*Math.cos(c)-Math.tan(m)*Math.sin(c),Math.cos(d)),u=Math.asin(Math.sin(m)*Math.cos(c)+Math.cos(m)*Math.sin(c)*Math.sin(d));return{ra:(180*h/Math.PI<0?180*h/Math.PI+360:180*h/Math.PI)/15,dec:180*u/Math.PI}},r=(e,a)=>{const t=(e-2451545)/36525;let n=280.46061837+360.98564736629*(e-2451545)+387933e-9*t*t-t*t*t/3871e4;n=s(n);return s(n+a)/15},l=(e,a)=>{const t=o(e),n=o(a),s=o(-.583),i=(Math.sin(s)-Math.sin(t)*Math.sin(n))/(Math.cos(t)*Math.cos(n));return i>1||i<-1?null:180*Math.acos(i)/Math.PI/15},c=e.getFullYear(),d=e.getMonth()+1,m=e.getDate(),h=Math.floor((14-d)/12),u=c+4800-h,p=d+12*h-3,x=m+Math.floor((153*p+2)/5)+365*u+Math.floor(u/4)-Math.floor(u/100)+Math.floor(u/400)-32045-.5;let g=x;for(let b=0;b<3;b++){const e=i(g),n=l(a,e.dec);if(null===n)return{moonrise:"No Moonrise",moonset:"No Moonset"};const o=r(g,t);let c=s(15*(e.ra-n-o))/360;c<0&&(c+=1),g=x+c}let f=x;for(let b=0;b<3;b++){const e=i(f),n=l(a,e.dec);if(null===n)return{moonrise:"No Moonrise",moonset:"No Moonset"};const o=r(f,t);let c=s(15*(e.ra+n-o))/360;c<0&&(c+=1),f=x+c}const y=e=>{const a=new Date(864e5*(e-2440587.5)),t=a.getHours(),n=a.getMinutes(),s=a.getSeconds();return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`};return{moonrise:y(g),moonset:y(f)}},sa=(e,a)=>{const t=Date.UTC(2e3,0,1,12,0,0);let n=e-(23.85+.01397*((a.getTime()-t)/864e5/365.25));n<0&&(n+=360);return["Ashwini","Bharani","Krittika","Rohini","Mrigashira","Ardra","Punarvasu","Pushya","Ashlesha","Magha","Purva Phalguni","Uttara Phalguni","Hasta","Chitra","Swati","Vishakha","Anuradha","Jyeshtha","Mula","Purva Ashadha","Uttara Ashadha","Shravana","Dhanishta","Shatabhisha","Purva Bhadrapada","Uttara Bhadrapada","Revati"][Math.floor(n/13.333333)%27]},oa={"America/New_York":{lat:40.7128,lon:-74.006,name:"New York"},"America/Chicago":{lat:41.8781,lon:-87.6298,name:"Chicago"},"America/Denver":{lat:39.7392,lon:-104.9903,name:"Denver"},"America/Los_Angeles":{lat:34.0522,lon:-118.2437,name:"Los Angeles"},"America/Toronto":{lat:43.6532,lon:-79.3832,name:"Toronto"},"America/Vancouver":{lat:49.2827,lon:-123.1207,name:"Vancouver"},"America/Mexico_City":{lat:19.4326,lon:-99.1332,name:"Mexico City"},"Europe/London":{lat:51.5074,lon:-.1278,name:"London"},"Europe/Paris":{lat:48.8566,lon:2.3522,name:"Paris"},"Europe/Berlin":{lat:52.52,lon:13.405,name:"Berlin"},"Europe/Rome":{lat:41.9028,lon:12.4964,name:"Rome"},"Europe/Madrid":{lat:40.4168,lon:-3.7038,name:"Madrid"},"Europe/Moscow":{lat:55.7558,lon:37.6173,name:"Moscow"},"Europe/Istanbul":{lat:41.0082,lon:28.9784,name:"Istanbul"},"Asia/Dubai":{lat:25.2048,lon:55.2708,name:"Dubai"},"Asia/Kolkata":{lat:28.6139,lon:77.209,name:"Delhi"},"Asia/Calcutta":{lat:28.6139,lon:77.209,name:"Delhi"},"Asia/Mumbai":{lat:19.076,lon:72.8777,name:"Mumbai"},"Asia/Dhaka":{lat:23.8103,lon:90.4125,name:"Dhaka"},"Asia/Bangkok":{lat:13.7563,lon:100.5018,name:"Bangkok"},"Asia/Singapore":{lat:1.3521,lon:103.8198,name:"Singapore"},"Asia/Hong_Kong":{lat:22.3193,lon:114.1694,name:"Hong Kong"},"Asia/Shanghai":{lat:31.2304,lon:121.4737,name:"Shanghai"},"Asia/Tokyo":{lat:35.6762,lon:139.6503,name:"Tokyo"},"Asia/Seoul":{lat:37.5665,lon:126.978,name:"Seoul"},"Asia/Karachi":{lat:24.8607,lon:67.0011,name:"Karachi"},"Asia/Tehran":{lat:35.6892,lon:51.389,name:"Tehran"},"Asia/Jerusalem":{lat:31.7683,lon:35.2137,name:"Jerusalem"},"Asia/Riyadh":{lat:24.7136,lon:46.6753,name:"Riyadh"},"Asia/Kuwait":{lat:29.3759,lon:47.9774,name:"Kuwait City"},"Asia/Bahrain":{lat:26.0667,lon:50.5577,name:"Manama"},"Asia/Qatar":{lat:25.2854,lon:51.531,name:"Doha"},"Asia/Muscat":{lat:23.588,lon:58.3829,name:"Muscat"},"Asia/Kathmandu":{lat:27.7172,lon:85.324,name:"Kathmandu"},"Asia/Colombo":{lat:6.9271,lon:79.8612,name:"Colombo"},"Asia/Yangon":{lat:16.8661,lon:96.1951,name:"Yangon"},"Asia/Manila":{lat:14.5995,lon:120.9842,name:"Manila"},"Asia/Jakarta":{lat:-6.2088,lon:106.8456,name:"Jakarta"},"Asia/Kuala_Lumpur":{lat:3.139,lon:101.6869,name:"Kuala Lumpur"},"Asia/Ho_Chi_Minh":{lat:10.8231,lon:106.6297,name:"Ho Chi Minh City"},"Asia/Taipei":{lat:25.033,lon:121.5654,name:"Taipei"},"Australia/Sydney":{lat:-33.8688,lon:151.2093,name:"Sydney"},"Australia/Melbourne":{lat:-37.8136,lon:144.9631,name:"Melbourne"},"Australia/Perth":{lat:-31.9505,lon:115.8605,name:"Perth"},"Australia/Brisbane":{lat:-27.4698,lon:153.0251,name:"Brisbane"},"Australia/Adelaide":{lat:-34.9285,lon:138.6007,name:"Adelaide"},"Pacific/Auckland":{lat:-36.8485,lon:174.7633,name:"Auckland"},"Pacific/Fiji":{lat:-18.1416,lon:178.4419,name:"Suva"},"Pacific/Honolulu":{lat:21.3099,lon:-157.8581,name:"Honolulu"},"America/Sao_Paulo":{lat:-23.5505,lon:-46.6333,name:"São Paulo"},"America/Buenos_Aires":{lat:-34.6037,lon:-58.3816,name:"Buenos Aires"},"America/Bogota":{lat:4.711,lon:-74.0721,name:"Bogotá"},"America/Lima":{lat:-12.0464,lon:-77.0428,name:"Lima"},"America/Santiago":{lat:-33.4489,lon:-70.6693,name:"Santiago"},"America/Caracas":{lat:10.4806,lon:-66.9036,name:"Caracas"},"Africa/Cairo":{lat:30.0444,lon:31.2357,name:"Cairo"},"Africa/Johannesburg":{lat:-26.2041,lon:28.0473,name:"Johannesburg"},"Africa/Lagos":{lat:6.5244,lon:3.3792,name:"Lagos"},"Africa/Nairobi":{lat:-1.2864,lon:36.8172,name:"Nairobi"},"Africa/Casablanca":{lat:33.5731,lon:-7.5898,name:"Casablanca"},"Africa/Algiers":{lat:36.7538,lon:3.0588,name:"Algiers"},"Africa/Tunis":{lat:36.8065,lon:10.1815,name:"Tunis"},"Africa/Addis_Ababa":{lat:9.032,lon:38.7469,name:"Addis Ababa"}},ia=40.7128,ra=-74.006,la="New York",ca=()=>{const[e,a]=t.useState((()=>{const e=Intl.DateTimeFormat().resolvedOptions().timeZone,a=oa[e];return a?{latitude:a.lat,longitude:a.lon,name:a.name}:{latitude:ia,longitude:ra,name:la}})());return{location:e,setLocation:t.useCallback(e=>{a(e)},[])}},da=t.memo(()=>{const[e,a]=t.useState(new Date),[s,o]=t.useState(!0),[i,r]=t.useState(!0),[l,c]=t.useState(!0),[d,m]=t.useState(!0),[h,u]=t.useState(.5),[p,x]=t.useState(.8),[g,f]=t.useState(500),[y,b]=t.useState(!1),[M,j]=t.useState(!0),[A,S]=t.useState(!0),[w,T]=t.useState(!0),[N,C]=t.useState(!1),[k,v]=t.useState(!0),[P,L]=t.useState(!0),[z,F]=t.useState(!0),[B,E]=t.useState(!0),[G,O]=t.useState(!0),[D,I]=t.useState(!0),[H,R]=t.useState(1),[K,U]=t.useState(!1),{location:V,setLocation:W}=ca();(({isLive:e,timeSpeed:a,date:n,onDateChange:s})=>{const o=t.useRef(n);t.useEffect(()=>{o.current=n},[n]),t.useEffect(()=>{if(!e)return;let t,n=performance.now();const i=e=>{const r=(e-n)/1e3;n=e;const l=r*a*1e3,c=new Date(o.current.getTime()+l);o.current=c,s(c),t=requestAnimationFrame(i)};return t=requestAnimationFrame(i),()=>{t&&cancelAnimationFrame(t)}},[e,a,s])})({isLive:N,timeSpeed:H,date:e,onDateChange:a});const $=t.useRef(null);(e=>{t.useMemo(()=>[...Le(e),ze(e),Fe(e)],[e])})(e);const q=t.useMemo(()=>[...Le(e),ze(e),Fe(e)],[e]),Y=`hsl(230, 30%, ${4+15*(1-p)}%)`,_=`hsl(230, 25%, ${6+18*(1-p)}%)`,Z=t.useCallback((a,t=1,n=1)=>{const o=700,r=742.5,c=Math.min(1190,1262.25)/2,d=700,m=2227.5,u=(e,a,t,n=!1)=>{let s=e[0],o=e[1],i=e[2];if(n&&(o=-o,s=-s,i=-i),o<0)return null;const r=Math.sqrt(s*s+i*i),l=Math.atan2(o,r),d=Math.atan2(s,i),m=(Math.PI/2-l)*(c/(Math.PI/2));return{x:a+m*Math.sin(d),y:t-m*Math.cos(d)}},p=[],x=[],g=[],f=[],y=[],b=[],j=[],A=[],S=[];if(s){for(let a=0;a<=90;a+=15){const e=a*Math.PI/180,t=(Math.PI/2-e)*(c/(Math.PI/2));f.push('  <circle cx="'+o.toFixed(2)+'" cy="'+r.toFixed(2)+'" r="'+t.toFixed(2)+'" class="grid-circle"/>'),a>0&&a<90&&A.push('  <text x="'+(o+t+5).toFixed(2)+'" y="'+(r-3).toFixed(2)+'" class="alt-label">'+a+"°</text>")}const e=["N","NE","E","SE","S","SW","W","NW"];[0,45,90,135,180,225,270,315].forEach((a,t)=>{const n=a*Math.PI/180,s=o,i=r,l=o+c*Math.sin(n),d=r-c*Math.cos(n);f.push('  <line x1="'+s.toFixed(2)+'" y1="'+i.toFixed(2)+'" x2="'+l.toFixed(2)+'" y2="'+d.toFixed(2)+'" class="grid-line"/>');const m=c+25,h=o+m*Math.sin(n),u=r-m*Math.cos(n);A.push('  <text x="'+h.toFixed(2)+'" y="'+(u+3).toFixed(2)+'" class="azimuth-label">'+e[t]+"</text>")})}if(s){for(let a=0;a<=90;a+=15){const e=a*Math.PI/180,t=(Math.PI/2-e)*(c/(Math.PI/2));y.push('  <circle cx="'+d.toFixed(2)+'" cy="'+m.toFixed(2)+'" r="'+t.toFixed(2)+'" class="grid-circle"/>'),a>0&&a<90&&S.push('  <text x="'+(d+t+5).toFixed(2)+'" y="'+(m-3).toFixed(2)+'" class="alt-label">'+a+"°</text>")}const e=["N","NE","E","SE","S","SW","W","NW"];[0,45,90,135,180,225,270,315].forEach((a,t)=>{const n=a*Math.PI/180,s=d,o=m,i=d+c*Math.sin(n),r=m-c*Math.cos(n);y.push('  <line x1="'+s.toFixed(2)+'" y1="'+o.toFixed(2)+'" x2="'+i.toFixed(2)+'" y2="'+r.toFixed(2)+'" class="grid-line"/>');const l=c+25,h=d+l*Math.sin(n),u=m-l*Math.cos(n);S.push('  <text x="'+h.toFixed(2)+'" y="'+(u+3).toFixed(2)+'" class="azimuth-label">'+e[t]+"</text>")})}Me.forEach(a=>{const t=Be(a.ra,a.dec,e,V.latitude,V.longitude,100);if(!k&&t[1]>0||!P&&t[1]<0);else{const e=u(t,o,r),n=Math.max(2,6-.8*a.magnitude),s=Ae(a.spectralType);e&&(x.push('  <circle cx="'+e.x.toFixed(2)+'" cy="'+e.y.toFixed(2)+'" r="'+n.toFixed(1)+'" fill="'+s+'" class="star"/>'),l&&a.magnitude<2.5&&A.push('  <text x="'+(e.x+n+4).toFixed(2)+'" y="'+(e.y+4).toFixed(2)+'" class="star-label">'+a.name+"</text>"))}const n=Be(a.ra,a.dec,e,V.latitude,V.longitude,100);if(!k&&n[1]>0||!P&&n[1]<0);else{const e=u(n,d,m,!0),t=Math.max(2,6-.8*a.magnitude),s=Ae(a.spectralType);e&&(g.push('  <circle cx="'+e.x.toFixed(2)+'" cy="'+e.y.toFixed(2)+'" r="'+t.toFixed(1)+'" fill="'+s+'" class="star"/>'),l&&a.magnitude<2.5&&S.push('  <text x="'+(e.x+t+4).toFixed(2)+'" y="'+(e.y+4).toFixed(2)+'" class="star-label">'+a.name+"</text>"))}});const w=Le(e),T=ze(e),N=Fe(e),C=[...w,T,N];if(C.forEach(a=>{const t=Be(a.ra,a.dec,e,V.latitude,V.longitude,100);if(!k&&t[1]>0||!P&&t[1]<0)return;const n=u(t,o,r),s="Sun"===a.name?14:"Moon"===a.name?12:8;n&&(x.push('  <circle cx="'+n.x.toFixed(2)+'" cy="'+n.y.toFixed(2)+'" r="'+s+'" fill="'+a.color+'" class="planet"/>'),l&&A.push('  <text x="'+(n.x+s+5).toFixed(2)+'" y="'+(n.y+5).toFixed(2)+'" class="planet-label" fill="'+a.color+'">'+a.name+"</text>"))}),C.forEach(a=>{const t=Be(a.ra,a.dec,e,V.latitude,V.longitude,100);if(!k&&t[1]>0||!P&&t[1]<0)return;const n=u(t,d,m,!0),s="Sun"===a.name?14:"Moon"===a.name?12:8;n&&(g.push('  <circle cx="'+n.x.toFixed(2)+'" cy="'+n.y.toFixed(2)+'" r="'+s+'" fill="'+a.color+'" class="planet"/>'),l&&S.push('  <text x="'+(n.x+s+5).toFixed(2)+'" y="'+(n.y+5).toFixed(2)+'" class="planet-label" fill="'+a.color+'">'+a.name+"</text>"))}),i){const a=new Map(Me.map(e=>[e.name,e])),t=[],n=[];je.forEach(s=>{const i=new Set;s.starNames.forEach(([e,a])=>{i.add(e),e!==a&&i.add(a)});const l=[];if(i.forEach(t=>{const n=a.get(t);if(n){const a=Be(n.ra,n.dec,e,V.latitude,V.longitude,100);if((k||a[1]<=0)&&(P||a[1]>=0)){const e=u(a,o,r);e&&l.push(e)}}}),l.length>0){const e=l.reduce((e,a)=>e+a.x,0)/l.length,a=l.reduce((e,a)=>e+a.y,0)/l.length;t.push({name:s.name,x:e,y:a})}const c=[];if(i.forEach(t=>{const n=a.get(t);if(n){const a=Be(n.ra,n.dec,e,V.latitude,V.longitude,100);if((k||a[1]<=0)&&(P||a[1]>=0)){const e=u(a,d,m,!0);e&&c.push(e)}}}),c.length>0){const e=c.reduce((e,a)=>e+a.x,0)/c.length,a=c.reduce((e,a)=>e+a.y,0)/c.length;n.push({name:s.name,x:e,y:a})}s.starNames.forEach(([t,n])=>{const s=a.get(t),i=a.get(n);if(s&&i){const a=Be(s.ra,s.dec,e,V.latitude,V.longitude,100),t=Be(i.ra,i.dec,e,V.latitude,V.longitude,100),n=(k||a[1]<=0)&&(P||a[1]>=0),l=(k||t[1]<=0)&&(P||t[1]>=0);if(n&&l){const e=u(a,o,r),n=u(t,o,r);e&&n&&b.push('  <line x1="'+e.x.toFixed(2)+'" y1="'+e.y.toFixed(2)+'" x2="'+n.x.toFixed(2)+'" y2="'+n.y.toFixed(2)+'" class="constellation-line"/>')}const c=Be(s.ra,s.dec,e,V.latitude,V.longitude,100),h=Be(i.ra,i.dec,e,V.latitude,V.longitude,100),p=(k||c[1]<=0)&&(P||c[1]>=0),x=(k||h[1]<=0)&&(P||h[1]>=0);if(p&&x){const e=u(c,d,m,!0),a=u(h,d,m,!0);e&&a&&j.push('  <line x1="'+e.x.toFixed(2)+'" y1="'+e.y.toFixed(2)+'" x2="'+a.x.toFixed(2)+'" y2="'+a.y.toFixed(2)+'" class="constellation-line"/>')}}})}),M&&(t.forEach(e=>{A.push('  <text x="'+e.x.toFixed(2)+'" y="'+e.y.toFixed(2)+'" class="constellation-label">'+e.name+"</text>")}),n.forEach(e=>{S.push('  <text x="'+e.x.toFixed(2)+'" y="'+e.y.toFixed(2)+'" class="constellation-label">'+e.name+"</text>")}))}p.push('<?xml version="1.0" encoding="UTF-8"?>'),p.push('<svg xmlns="http://www.w3.org/2000/svg" width="2100" height="2970" viewBox="0 0 2100 2970">'),p.push("  <defs>"),p.push("    <style>"),p.push("      .grid-circle { stroke: #1e3a5f; stroke-width: 0.5; fill: none; opacity: "+.5*h+"; }"),p.push("      .grid-line { stroke: #1e3a5f; stroke-width: 0.5; fill: none; opacity: "+.5*h+"; }"),p.push("      .constellation-line { stroke: #4a6fa5; stroke-width: 1; stroke-dasharray: 4,3; fill: none; opacity: 0.6; }"),p.push("      .star { filter: drop-shadow(0 0 1px rgba(255,255,255,0.3)); }"),p.push("      .planet { filter: drop-shadow(0 0 3px rgba(255,255,255,0.6)); }"),p.push('      .star-label { font-family: "Space Mono", monospace; font-size: '+10*t+"px; fill: #aabbcc; }"),p.push('      .planet-label { font-family: "Orbitron", sans-serif; font-size: '+12*t+"px; font-weight: bold; }"),p.push('      .constellation-label { font-family: "Orbitron", sans-serif; font-size: '+11*t+"px; fill: #4a9eff; font-weight: bold; text-anchor: middle; }"),p.push('      .alt-label { font-family: "Space Mono", monospace; font-size: '+8*t+"px; fill: #6b8cba; opacity: 0.6; }"),p.push('      .azimuth-label { font-family: "Orbitron", sans-serif; font-size: '+14*t+"px; fill: #6b8cba; font-weight: bold; text-anchor: middle; }"),p.push('      .nakshatra-title { font-family: "Orbitron", sans-serif; font-size: '+28*n+"px; fill: #f59e0b; font-weight: bold; }"),p.push('      .nakshatra-planet { font-family: "Space Mono", monospace; font-size: '+20*n+"px; fill: #e5e7eb; }"),p.push('      .nakshatra-name { font-family: "Space Mono", monospace; font-size: '+22*n+"px; fill: #fbbf24; font-weight: bold; }"),p.push("    </style>"),p.push("  </defs>");const v="#0a0a1a";p.push('  <rect width="2100" height="2970" fill="'+v+'"/>'),p.push('  <rect width="1400" height="2970" fill="'+v+'"/>'),p.push('  <rect x="1400" width="700" height="2970" fill="#0f0f20" stroke="#2a4a7f" stroke-width="2"/>'),p.push('  <circle cx="'+o.toFixed(2)+'" cy="'+r.toFixed(2)+'" r="'+c.toFixed(2)+'" fill="none" stroke="#2a4a7f" stroke-width="3"/>'),p.push('  <circle cx="'+d.toFixed(2)+'" cy="'+m.toFixed(2)+'" r="'+c.toFixed(2)+'" fill="none" stroke="#2a4a7f" stroke-width="3"/>'),p.push("  \x3c!-- First Sky Map --\x3e"),p.push(...f),p.push(...b),p.push(...x),p.push(...A),p.push("  \x3c!-- First Map Title --\x3e"),p.push('  <text x="100" y="100" font-family="Orbitron, sans-serif" font-size="36" fill="#4a90d9" font-weight="bold">Sky Map - Above Horizon</text>'),p.push('  <text x="100" y="145" font-family="Space Mono, monospace" font-size="22" fill="#6b7280">'+e.toISOString().split("T")[0]+" "+e.toTimeString().split(" ")[0]+"</text>"),a!==`${V.latitude.toFixed(2)}°, ${V.longitude.toFixed(2)}°`?(p.push('  <text x="100" y="180" font-family="Space Mono, monospace" font-size="20" fill="#6b7280">Location: '+a+"</text>"),p.push('  <text x="100" y="210" font-family="Space Mono, monospace" font-size="20" fill="#6b7280">Coordinates: '+V.latitude.toFixed(2)+"°, "+V.longitude.toFixed(2)+"°</text>")):p.push('  <text x="100" y="180" font-family="Space Mono, monospace" font-size="20" fill="#6b7280">Coordinates: '+V.latitude.toFixed(2)+"°, "+V.longitude.toFixed(2)+"°</text>"),p.push("  \x3c!-- Separator --\x3e"),p.push('  <line x1="0" y1="1485" x2="1400" y2="1485" stroke="#2a4a7f" stroke-width="3"/>'),p.push("  \x3c!-- Second Sky Map --\x3e"),p.push(...y),p.push(...j),p.push(...g),p.push(...S),p.push("  \x3c!-- Second Map Title --\x3e");p.push('  <text x="100" y="1585" font-family="Orbitron, sans-serif" font-size="36" fill="#4a90d9" font-weight="bold">Sky Map - Below Horizon</text>'),p.push('  <text x="100" y="1630" font-family="Space Mono, monospace" font-size="22" fill="#6b7280">'+e.toISOString().split("T")[0]+" "+e.toTimeString().split(" ")[0]+"</text>"),a!==`${V.latitude.toFixed(2)}°, ${V.longitude.toFixed(2)}°`?(p.push('  <text x="100" y="1665" font-family="Space Mono, monospace" font-size="20" fill="#6b7280">Location: '+a+"</text>"),p.push('  <text x="100" y="1695" font-family="Space Mono, monospace" font-size="20" fill="#6b7280">Coordinates: '+V.latitude.toFixed(2)+"°, "+V.longitude.toFixed(2)+"°</text>")):p.push('  <text x="100" y="1665" font-family="Space Mono, monospace" font-size="20" fill="#6b7280">Coordinates: '+V.latitude.toFixed(2)+"°, "+V.longitude.toFixed(2)+"°</text>");let L=120;p.push("  \x3c!-- Nakshatra Panel --\x3e"),p.push('  <text x="1480" y="'+L+'" class="nakshatra-title">PLANETARY NAKSHATRAS</text>'),L+=60;C.forEach(a=>{const t=De(a.ra,a.dec,a.eclipticLongitude,e);p.push('  <circle cx="1510" cy="'+(L-5)+'" r="8" fill="'+a.color+'"/>'),p.push('  <text x="1530" y="'+L+'" class="nakshatra-planet">'+a.name+"</text>"),p.push('  <text x="1990" y="'+L+'" class="nakshatra-name" text-anchor="end">'+t.toUpperCase()+"</text>"),L+=38});const z=((e,a,t)=>{const n=a.eclipticLongitude||0;let s=(t.eclipticLongitude||0)-n;s<0&&(s+=360);let o="";return o=s<45?"New Moon":s<90?"Waxing Crescent":s<135?"First Quarter":s<180?"Waxing Gibbous":s<225?"Full Moon":s<270?"Waning Gibbous":s<315?"Last Quarter":"Waning Crescent",{phaseName:o,illumination:50*(1-Math.cos(s*Math.PI/180)),elongation:s}})(0,N,T),F=((e,a,t)=>{let n=t-a;n<0&&(n+=360);const s=Math.floor(n/12)+1;return`${["Pratipada","Dwitiya","Tritiya","Chaturthi","Panchami","Shashthi","Saptami","Ashtami","Navami","Dashami","Ekadashi","Dwadashi","Trayodashi","Chaturdashi","Purnima/Amavasya"][s<=15?s-1:s-16]} (${s<=15?"Shukla":"Krishna"})`})(0,N.eclipticLongitude,T.eclipticLongitude),B=ta(e,V.latitude,V.longitude),E=na(e,V.latitude,V.longitude),G=((e,a,t)=>{const n=Date.UTC(2e3,0,1,12,0,0);let s=360-(t.getTime()-n)/864e5/365.25*19.3%360;s<0&&(s+=360);const o=(s+180)%360;return{rahuNakshatra:sa(s,t),ketuNakshatra:sa(o,t)}})(0,0,e);L+=60,p.push('  <text x="1480" y="'+L+'" font-family="Orbitron, sans-serif" font-size="18" fill="#f59e0b" font-weight="bold">LUNAR INFORMATION</text>'),L+=35,p.push('  <text x="1500" y="'+L+'" class="nakshatra-planet">Moon Phase</text>'),p.push('  <text x="1990" y="'+L+'" class="nakshatra-name" text-anchor="end">'+z.phaseName.toUpperCase()+"</text>"),L+=30,p.push('  <text x="1500" y="'+L+'" class="nakshatra-planet">Illumination</text>'),p.push('  <text x="1990" y="'+L+'" class="nakshatra-name" text-anchor="end">'+z.illumination.toFixed(1)+"%</text>"),L+=30,p.push('  <text x="1500" y="'+L+'" class="nakshatra-planet">Tithi (Lunar Day)</text>'),p.push('  <text x="1990" y="'+L+'" class="nakshatra-name" text-anchor="end">'+F.toUpperCase()+"</text>"),L+=50,p.push('  <text x="1480" y="'+L+'" font-family="Orbitron, sans-serif" font-size="18" fill="#f59e0b" font-weight="bold">LUNAR NODES</text>'),L+=35,p.push('  <circle cx="1510" cy="'+(L-5)+'" r="8" fill="#e74c3c"/>'),p.push('  <text x="1530" y="'+L+'" class="nakshatra-planet">Rahu (North Node)</text>'),p.push('  <text x="1990" y="'+L+'" class="nakshatra-name" text-anchor="end">'+G.rahuNakshatra.toUpperCase()+"</text>"),L+=35,p.push('  <circle cx="1510" cy="'+(L-5)+'" r="8" fill="#8e44ad"/>'),p.push('  <text x="1530" y="'+L+'" class="nakshatra-planet">Ketu (South Node)</text>'),p.push('  <text x="1990" y="'+L+'" class="nakshatra-name" text-anchor="end">'+G.ketuNakshatra.toUpperCase()+"</text>"),L+=50,p.push('  <text x="1480" y="'+L+'" font-family="Orbitron, sans-serif" font-size="18" fill="#f59e0b" font-weight="bold">SUN &amp; MOON TIMES</text>'),L+=35,p.push('  <text x="1500" y="'+L+'" class="nakshatra-planet">Sunrise</text>'),p.push('  <text x="1990" y="'+L+'" class="nakshatra-name" text-anchor="end">'+B.sunrise+"</text>"),L+=30,p.push('  <text x="1500" y="'+L+'" class="nakshatra-planet">Sunset</text>'),p.push('  <text x="1990" y="'+L+'" class="nakshatra-name" text-anchor="end">'+B.sunset+"</text>"),L+=30,p.push('  <text x="1500" y="'+L+'" class="nakshatra-planet">Moonrise</text>'),p.push('  <text x="1990" y="'+L+'" class="nakshatra-name" text-anchor="end">'+E.moonrise+"</text>"),L+=30,p.push('  <text x="1500" y="'+L+'" class="nakshatra-planet">Moonset</text>'),p.push('  <text x="1990" y="'+L+'" class="nakshatra-name" text-anchor="end">'+E.moonset+"</text>"),L+=90;return p.push('  <line x1="1480" y1="'+(L-40)+'" x2="2000" y2="'+(L-40)+'" stroke="#4a6fa5" stroke-width="1"/>'),p.push('  <text x="1480" y="'+L+'" font-family="Orbitron, sans-serif" font-size="20" fill="#6b8cba" font-weight="bold">About Nakshatras</text>'),L+=36,p.push('  <text x="1480" y="'+L+'" font-family="Space Mono, monospace" font-size="15" fill="#9ca3af">Nakshatras are 27 lunar mansions in Vedic</text>'),L+=26,p.push('  <text x="1480" y="'+L+'" font-family="Space Mono, monospace" font-size="15" fill="#9ca3af">astrology, each spanning 13°20\' of the</text>'),L+=26,p.push('  <text x="1480" y="'+L+'" font-family="Space Mono, monospace" font-size="15" fill="#9ca3af">sidereal zodiac. Calculated using Lahiri</text>'),L+=26,p.push('  <text x="1480" y="'+L+'" font-family="Space Mono, monospace" font-size="15" fill="#9ca3af">Ayanamsa for accurate sidereal positions.</text>'),p.push("</svg>"),p.join("\n")},[e,s,i,l,M,h,p,V,k,P]),X=t.useCallback((a,t,n=1,s=1)=>{const o=a.trim()||`${V.latitude.toFixed(2)}°, ${V.longitude.toFixed(2)}°`,i=Z(o,n,s),r="skymap-"+e.toISOString().split("T")[0];if("svg"===t){const e=new Blob([i],{type:"image/svg+xml"}),a=URL.createObjectURL(e),t=document.createElement("a");t.href=a,t.download=r+".svg",document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(a)}else{const e=(new DOMParser).parseFromString(i,"image/svg+xml").documentElement,a=new fe({orientation:"portrait",unit:"pt",format:"a4"});ye(e,a,{x:0,y:0,width:a.internal.pageSize.getWidth(),height:a.internal.pageSize.getHeight()}).then(()=>{a.save(r+".pdf")})}},[e,V,Z]),J=t.useCallback(()=>{U(!0)},[]);return n.jsxs("div",{className:"relative w-full h-screen bg-background",children:[n.jsx(_e,{date:e,onDateChange:a,showGrid:s,onShowGridChange:o,showConstellations:i,onShowConstellationsChange:r,showLabels:l,onShowLabelsChange:c,showConstellationLabels:M,onShowConstellationLabelsChange:j,showGlow:d,onShowGlowChange:m,gridOpacity:h,onGridOpacityChange:u,skyDarkness:p,onSkyDarknessChange:x,zoomLevel:g,onZoomLevelChange:f,location:V,onLocationChange:W,onExportSVG:J,firstPersonMode:y,onFirstPersonModeChange:b,showNakshatraPanel:A,showSunMoonPanel:w,onShowSunMoonPanelChange:T,onShowNakshatraPanelChange:S,isLive:N,onLiveModeChange:C,showAboveHorizon:k,onShowAboveHorizonChange:v,showBelowHorizon:P,onShowBelowHorizonChange:L,showNakshatraRings:z,onShowNakshatraRingsChange:F,showHorizonLine:B,onShowHorizonLineChange:E,showEquatorLine:G,onShowEquatorLineChange:O,showEclipticLine:D,onShowEclipticLineChange:I,timeSpeed:H,onTimeSpeedChange:R}),n.jsx(pe,{ref:$,camera:{position:[0,50,g],fov:60,near:.1,far:1e3},style:{background:`linear-gradient(to bottom, ${Y} 0%, ${_} 100%)`},children:n.jsx(We,{date:e,showGrid:s,showConstellations:i,showLabels:l,showConstellationLabels:M,showGlow:d,gridOpacity:h,zoomLevel:g,location:V,firstPersonMode:y,showAboveHorizon:k,showBelowHorizon:P,showNakshatraRings:z,showHorizonLine:B,showEquatorLine:G,showEclipticLine:D})}),(A||w)&&n.jsx(ea,{planets:q,date:e,location:V,showNakshatra:A,showSunMoon:w,calculateSunriseSunset:ta,calculateMoonriseMoonset:na}),K&&n.jsx(aa,{open:K,onOpenChange:U,defaultLocation:"Current Location"!==V.name?V.name:"",onExport:X,previewGenerator:Z})]})}),ma=()=>n.jsx(da,{}),ha=()=>{const e=o();return t.useEffect(()=>{},[e.pathname]),n.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),n.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),n.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},ua=new X({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:3e5}}}),pa=()=>n.jsx(be,{children:n.jsx(J,{client:ua,children:n.jsxs(Y,{children:[n.jsx(_,{}),n.jsx(Z,{}),n.jsx(i,{children:n.jsxs(r,{children:[n.jsx(l,{path:"/",element:n.jsx(ma,{})}),n.jsx(l,{path:"*",element:n.jsx(ha,{})})]})})]})})});c(document.getElementById("root")).render(n.jsx(pa,{})),setTimeout(()=>{const e=document.getElementById("app-loader");e&&(e.classList.add("loaded"),setTimeout(()=>e.remove(),500))},100);export{ze as c,De as g};
