import{r as e,j as s}from"./react-vendor-OEMN43JN.js";import{c as t,g as n}from"./index-BplOvGOf.js";import"./map-vendor-scx2wcTa.js";import"./ui-vendor-uHWh54n4.js";import"./routing-vendor-BoMlvbZZ.js";import"./three-vendor-C4xQyQ5C.js";import"./pdf-vendor-Do3zHwVP.js";function a({planets:a,date:r,location:o,showNakshatra:i,showSunMoon:l,calculateSunriseSunset:c,calculateMoonriseMoonset:d}){const[x,m]=e.useState({x:window.innerWidth-304,y:16}),[u,h]=e.useState(!1),[p,f]=e.useState({x:0,y:0}),b=e.useRef(null),g=e.useMemo(()=>{if(!l)return null;const e=c(r,o.latitude,o.longitude),s=t(r);return{sunTimes:e,moonTimes:d(r,o.latitude,o.longitude,s)}},[r,o.latitude,o.longitude,l,c,d]);return e.useEffect(()=>{const e=e=>{var s,t;if(u){const n=e.clientX-p.x,a=e.clientY-p.y,r=window.innerWidth-((null==(s=b.current)?void 0:s.offsetWidth)||288),o=window.innerHeight-((null==(t=b.current)?void 0:t.offsetHeight)||200);m({x:Math.max(0,Math.min(n,r)),y:Math.max(0,Math.min(a,o))})}},s=()=>{h(!1)};return u&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",s)),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",s)}},[u,p]),i||l?s.jsx("div",{ref:b,className:"fixed z-[99997] w-72",style:{left:`${x.x}px`,top:`${x.y}px`,cursor:u?"grabbing":"default"},children:s.jsxs("div",{className:"bg-black/30 backdrop-blur-xl border border-white/20 rounded-lg shadow-2xl overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-white/20 bg-white/5 cursor-grab active:cursor-grabbing",onMouseDown:e=>{if(b.current){const s=b.current.getBoundingClientRect();f({x:e.clientX-s.left,y:e.clientY-s.top}),h(!0)}},children:[s.jsxs("h3",{className:"font-orbitron text-sm font-semibold text-white flex items-center gap-2",children:[i&&l&&"Celestial Info",i&&!l&&"Planetary Nakshatras",!i&&l&&"Sun & Moon Times"]}),s.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[r.toLocaleDateString()," ",r.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),s.jsxs("div",{className:"max-h-[calc(100vh-120px)] overflow-y-auto",children:[i&&s.jsxs("div",{className:"p-3 space-y-2",children:[s.jsxs("h4",{className:"text-xs font-semibold text-amber-400/80 uppercase tracking-wider mb-2 flex items-center gap-1",children:[s.jsx("span",{className:"text-amber-400",children:"‚òÖ"})," Nakshatras"]}),a.map(e=>{const t=n(e.ra,e.dec,e.eclipticLongitude,r);return s.jsxs("div",{className:"flex items-center justify-between p-2.5 rounded-md bg-black/20 hover:bg-black/30 transition-colors border border-white/10",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full shadow-lg",style:{backgroundColor:e.color,boxShadow:`0 0 8px ${e.color}`}}),s.jsx("span",{className:"text-sm font-medium text-white",children:e.name})]}),s.jsx("span",{className:"text-xs font-mono text-amber-400 uppercase tracking-wider",children:t})]},e.name)})]}),i&&l&&s.jsx("div",{className:"border-t border-white/20 mx-3"}),l&&g&&s.jsxs("div",{className:"p-3 space-y-3",children:[s.jsxs("h4",{className:"text-xs font-semibold text-yellow-400/80 uppercase tracking-wider mb-2 flex items-center gap-1",children:[s.jsx("span",{className:"text-yellow-400",children:"‚òº"})," Sun & Moon"]}),s.jsxs("div",{className:"space-y-2 p-2.5 rounded-md bg-black/20 border border-white/10",children:[s.jsxs("h5",{className:"text-xs font-semibold text-orange-400 flex items-center gap-1",children:[s.jsx("span",{children:"‚òÄÔ∏è"})," Sun"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-400 text-[10px]",children:"Sunrise"}),s.jsx("span",{className:"font-mono font-semibold text-yellow-400",children:g.sunTimes.sunrise})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-400 text-[10px]",children:"Sunset"}),s.jsx("span",{className:"font-mono font-semibold text-orange-400",children:g.sunTimes.sunset})]})]})]}),s.jsxs("div",{className:"space-y-2 p-2.5 rounded-md bg-black/20 border border-white/10",children:[s.jsxs("h5",{className:"text-xs font-semibold text-blue-300 flex items-center gap-1",children:[s.jsx("span",{children:"üåô"})," Moon"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-400 text-[10px]",children:"Moonrise"}),s.jsx("span",{className:"font-mono font-semibold text-blue-300",children:g.moonTimes.moonrise})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-400 text-[10px]",children:"Moonset"}),s.jsx("span",{className:"font-mono font-semibold text-blue-400",children:g.moonTimes.moonset})]})]})]})]})]})]})}):null}export{a as NakshatraPanel};
